import{d as k,a as P,$ as f,c as r,o as s,B as U,A as H,h as n,w as o,f as e,q as K,p as J,e as $,E,g,t as p,s as q,S as D,b as G,r as S,U as V,J as T,_ as B,N as Z}from"./index-q4uhLKit.js";import{u as O,a as C,s as Q,b as W,v as X,c as F,d as x,e as Y}from"./auth-uPG7GYUs.js";import{u as ee,a as ae}from"./form-BMdG7JkN.js";const oe={class:"w-full flex-y-center gap-16px"},te=k({name:"CaptchaVerification",__name:"captcha-verification",setup(h){const{loading:l,send:a,countdown:u}=O(Q,{middleware:C("captcha:send")}),m=P(()=>u.value>0?f("page.login.codeLogin.reGetCode",{time:u.value}):f("page.login.codeLogin.getCode")),{form:_,loading:t,send:d}=W(c=>X(c.phone,c.code),{initialForm:{phone:"",code:""}}),{formRef:y,validate:w}=ee(),b=P(()=>{const{formRules:c}=ae();return{phone:c.phone,code:c.code}});async function v(){var c;await w(),await d(),(c=window.$message)==null||c.success(f("page.login.common.validateSuccess"))}return(c,i)=>{const N=K,I=J,z=E,M=q,j=U;return s(),r(j,{ref_key:"formRef",ref:y,model:n(_),rules:b.value,size:"large","show-label":!1,onKeyup:H(v,["enter"])},{default:o(()=>[e(I,{path:"phone"},{default:o(()=>[e(N,{modelValue:n(_).phone,"onUpdate:modelValue":i[0]||(i[0]=R=>n(_).phone=R),placeholder:n(f)("page.login.common.phonePlaceholder"),maxlength:11},null,8,["modelValue","placeholder"])]),_:1}),e(I,{path:"code"},{default:o(()=>[$("div",oe,[e(N,{modelValue:n(_).code,"onUpdate:modelValue":i[1]||(i[1]=R=>n(_).code=R),placeholder:n(f)("page.login.common.codePlaceholder")},null,8,["modelValue","placeholder"]),e(z,{size:"large",disabled:n(u)>0,loading:n(l),onClick:i[2]||(i[2]=R=>n(a)(n(_).phone))},{default:o(()=>[g(p(m.value),1)]),_:1},8,["disabled","loading"])])]),_:1}),e(M,{vertical:"",size:18,class:"w-full"},{default:o(()=>[e(z,{type:"primary",size:"large",round:"",block:"",loading:n(t),onClick:v},{default:o(()=>[g(p(n(f)("common.confirm")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])}}}),ne={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"};function se(h,l){return s(),G("svg",ne,l[0]||(l[0]=[$("path",{fill:"currentColor",d:"M24 8v16H8V8zm0-2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2"},null,-1)]))}const A=D({name:"carbon-stop",render:se}),le={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"};function ce(h,l){return s(),G("svg",le,l[0]||(l[0]=[$("path",{fill:"currentColor",d:"M7 28a1 1 0 0 1-1-1V5a1 1 0 0 1 1.482-.876l20 11a1 1 0 0 1 0 1.752l-20 11A1 1 0 0 1 7 28M8 6.69v18.62L24.925 16Z"},null,-1)]))}const L=D({name:"carbon-play",render:ce}),ie=k({__name:"browser-visibility-request",setup(h){const l=F.Get("/mock/getLastTime",{cacheFor:null}),a=S(!1),{loading:u,data:m}=x(l,{enableVisibility:!0,enableNetwork:!1,enableFocus:!1,initialData:{time:""},async middleware(t,d){await C("autoRequest:1")(t,()=>Promise.resolve()),a.value||d()}}),_=()=>{a.value=!a.value};return(t,d)=>{const y=V,w=L,b=A,v=E,c=B,i=q;return s(),r(i,{direction:"vertical",fill:""},{default:o(()=>[e(y,{type:"info","show-icon":""},{default:o(()=>[g(p(t.$t("page.alova.scenes.visibilityRequestTips")),1)]),_:1}),e(v,{type:"primary",onClick:_},{default:o(()=>[a.value?(s(),r(w,{key:0,class:"mr-2"})):(s(),r(b,{key:1,class:"mr-2"})),g(" "+p(a.value?t.$t("page.alova.scenes.startRequest"):t.$t("page.alova.scenes.stopRequest")),1)]),_:1}),e(i,{class:"justify-center"},{default:o(()=>[$("span",null,p(t.$t("page.alova.scenes.refreshTime"))+": "+p(n(m).time||"--"),1),n(u)?(s(),r(c,{key:0,icon:"line-md:loading-twotone-loop",class:"text-20px"})):T("",!0)]),_:1})]),_:1})}}}),re=k({name:"PollingRequest",__name:"polling-request",setup(h){const l=F.Get("/mock/getLastTime",{cacheFor:null}),a=S(!1),{loading:u,data:m}=x(l,{pollingTime:3e3,initialData:{time:""},async middleware(t,d){await C("autoRequest:3")(t,()=>Promise.resolve()),a.value||d()}}),_=()=>{a.value=!a.value};return(t,d)=>{const y=V,w=L,b=A,v=E,c=B,i=q;return s(),r(i,{direction:"vertical",fill:""},{default:o(()=>[e(y,{type:"info","show-icon":""},{default:o(()=>[g(p(t.$t("page.alova.scenes.pollingRequestTips")),1)]),_:1}),e(v,{type:"primary",onClick:_},{default:o(()=>[a.value?(s(),r(w,{key:0,class:"mr-2"})):(s(),r(b,{key:1,class:"mr-2"})),g(" "+p(a.value?t.$t("page.alova.scenes.startRequest"):t.$t("page.alova.scenes.stopRequest")),1)]),_:1}),e(i,{class:"justify-center"},{default:o(()=>[$("span",null,p(t.$t("page.alova.scenes.refreshTime"))+": "+p(n(m).time||"--"),1),n(u)?(s(),r(c,{key:0,icon:"line-md:loading-twotone-loop",class:"text-20px"})):T("",!0)]),_:1})]),_:1})}}}),pe=k({name:"NetworkToggleRequest",__name:"network-toggle-request",setup(h){const l=F.Get("/mock/getLastTime",{cacheFor:null}),a=S(!1),{loading:u,data:m}=x(l,{enableVisibility:!1,enableNetwork:!0,enableFocus:!1,initialData:{time:""},async middleware(t,d){await C("autoRequest:2")(t,()=>Promise.resolve()),a.value||d()}}),_=()=>{a.value=!a.value};return(t,d)=>{const y=V,w=L,b=A,v=E,c=B,i=q;return s(),r(i,{direction:"vertical",fill:""},{default:o(()=>[e(y,{type:"info","show-icon":""},{default:o(()=>[g(p(t.$t("page.alova.scenes.networkRequestTips")),1)]),_:1}),e(v,{type:"primary",onClick:_},{default:o(()=>[a.value?(s(),r(w,{key:0,class:"mr-2"})):(s(),r(b,{key:1,class:"mr-2"})),g(" "+p(a.value?t.$t("page.alova.scenes.startRequest"):t.$t("page.alova.scenes.stopRequest")),1)]),_:1}),e(i,{class:"justify-center"},{default:o(()=>[$("span",null,p(t.$t("page.alova.scenes.refreshTime"))+": "+p(n(m).time||"--"),1),n(u)?(s(),r(c,{key:0,icon:"line-md:loading-twotone-loop",class:"text-20px"})):T("",!0)]),_:1})]),_:1})}}}),ue=k({__name:"cross-component-request",setup(h){const l=async()=>{Y(/^autoRequest/,async({send:a})=>{await a()})};return(a,u)=>{const m=E;return s(),r(m,{onClick:l},{default:o(()=>[g(p(a.$t("page.alova.scenes.triggerAllRequest")),1)]),_:1})}}}),fe=k({name:"alova_scenes",__name:"index",setup(h){return(l,a)=>{const u=Z,m=q;return s(),r(m,{direction:"vertical",fill:"",size:16},{default:o(()=>[e(u,{header:n(f)("page.alova.scenes.captchaSend"),class:"card-wrapper"},{default:o(()=>[e(te,{class:"w-1/3"})]),_:1},8,["header"]),e(u,{header:n(f)("page.alova.scenes.autoRequest"),class:"card-wrapper"},{default:o(()=>[e(m,{wrap:!1},{default:o(()=>[e(ie),e(re),e(pe)]),_:1})]),_:1},8,["header"]),e(u,{header:n(f)("page.alova.scenes.requestCrossComponent"),class:"card-wrapper"},{default:o(()=>[e(ue)]),_:1},8,["header"])]),_:1})}}});export{fe as default};
