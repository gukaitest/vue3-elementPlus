import{a as xe,_ as Ce}from"./table-header-operation.vue_vue_type_script_setup_true_lang-BAqfgBQv.js";import{az as we,S as Ee,b as T,o as m,e as w,aA as y,d as Te,X as _e,Y as De,a as B,$ as o,r as U,f as e,_ as ie,Z as be,c as h,w as a,aB as Me,B as Ae,a7 as Ue,J as M,a8 as Le,p as $e,h as n,a0 as Se,F as N,z as x,a1 as Be,q as qe,a2 as Fe,a3 as Ke,aC as je,E as Y,t as q,s as ze,g as ye,aD as We,V as Ge,ab as Ye,ac as He,ad as Xe,ae as he,af as Qe,ag as Je,ah as Ve,N as Ze,R as me,aa as ea,ai as aa,aj as la}from"./index-V8uww8ns.js";import{m as oa,c as na,e as ta,d as ua,b as sa}from"./business-DGr_zPHl.js";import{f as ra,u as da,a as pa,b as ma,c as ia}from"./table-kYB461gR.js";import{u as ca,a as fa}from"./form-BNqC9Ni7.js";const Pe={Y:"common.yesOrNo.yes",N:"common.yesOrNo.no"};we(Pe);const va={class:"inline-block",viewBox:"0 0 24 24",width:"1em",height:"1em"};function ga(d,c){return m(),T("svg",va,c[0]||(c[0]=[w("path",{fill:"currentColor",d:"M18 13H6c-.55 0-1-.45-1-1s.45-1 1-1h12c.55 0 1 .45 1 1s-.45 1-1 1"},null,-1)]))}const _a=Ee({name:"ic-round-remove",render:ga}),ba={class:"inline-block",viewBox:"0 0 32 32",width:"1em",height:"1em"};function ya(d,c){return m(),T("svg",ba,c[0]||(c[0]=[w("path",{fill:"currentColor",d:"M17 15V8h-2v7H8v2h7v7h2v-7h7v-2z"},null,-1)]))}const ha=Ee({name:"carbon-add",render:ya});function Va(){return Object.keys(Object.assign({"/src/assets/svg-icon/activity.svg":()=>y(()=>import("./activity-B4XY664I.js"),[]),"/src/assets/svg-icon/alova.svg":()=>y(()=>import("./alova-BscF6wF0.js"),[]),"/src/assets/svg-icon/at-sign.svg":()=>y(()=>import("./at-sign-DvqQw7Qx.js"),[]),"/src/assets/svg-icon/avatar.svg":()=>y(()=>import("./avatar-CR4D3Wln.js"),[]),"/src/assets/svg-icon/banner.svg":()=>y(()=>import("./banner-c0_1_hKZ.js"),[]),"/src/assets/svg-icon/cast.svg":()=>y(()=>import("./cast-n3EmpXB4.js"),[]),"/src/assets/svg-icon/chrome.svg":()=>y(()=>import("./chrome-BM_Le6p_.js"),[]),"/src/assets/svg-icon/copy.svg":()=>y(()=>import("./copy-BsYpLlfM.js"),[]),"/src/assets/svg-icon/custom-icon.svg":()=>y(()=>import("./custom-icon-857Ak5pp.js"),[]),"/src/assets/svg-icon/empty-data.svg":()=>y(()=>import("./empty-data-CzgJ8JYF.js"),[]),"/src/assets/svg-icon/expectation.svg":()=>y(()=>import("./expectation-BuEJD7SN.js"),[]),"/src/assets/svg-icon/heart.svg":()=>y(()=>import("./heart-DOH2U7VV.js"),[]),"/src/assets/svg-icon/logo.svg":()=>y(()=>import("./logo-BeLY4cv9.js"),[]),"/src/assets/svg-icon/network-error.svg":()=>y(()=>import("./network-error-BW-nao7Y.js"),[]),"/src/assets/svg-icon/no-icon.svg":()=>y(()=>import("./no-icon-DXySFfyH.js"),[]),"/src/assets/svg-icon/no-permission.svg":()=>y(()=>import("./no-permission-CtR3LTfG.js"),[]),"/src/assets/svg-icon/not-found.svg":()=>y(()=>import("./not-found-wOawdi8Z.js"),[]),"/src/assets/svg-icon/service-error.svg":()=>y(()=>import("./service-error-D3TuQMX7.js"),[]),"/src/assets/svg-icon/visactor.svg":()=>y(()=>import("./visactor-DWgZNho9.js"),[]),"/src/assets/svg-icon/wind.svg":()=>y(()=>import("./wind-Dy5zdHKW.js"),[])})).map(g=>{var P;return((P=g.split("/").at(-1))==null?void 0:P.replace(".svg",""))||""}).filter(Boolean)}const H="layout.",X="view.",Ie="$";function Ea(d){let c="",g="";const[P="",O=""]=(d==null?void 0:d.split(Ie))||[];return c=Ta(P),g=Pa(O||P),{layout:c,page:g}}function Ta(d){return d.startsWith(H)?d.replace(H,""):""}function Pa(d){return d.startsWith(X)?d.replace(X,""):""}function Ia(d,c){const g=!!d,P=!!c;return g&&P?`${H}${d}${Ie}${X}${c}`:g?`${H}${d}`:P?`${X}${c}`:""}function ka(d){return`/${d.replace(/_/g,"/")}`}function Oa(d){const[c,g=""]=d.split("/:");return{path:c,param:g}}function Ra(d,c){return c.trim()?`${d}/:${c}`:d}const Na={class:"ml-8px"},xa={class:"ml-8px"},Ca=Te({name:"MenuOperateModal",__name:"menu-operate-modal",props:_e({operateType:{},rowData:{},allPages:{}},{visible:{type:Boolean,default:!1},visibleModifiers:{}}),emits:_e(["submitted"],["update:visible"]),setup(d,{emit:c}){const g=d,P=c,O=De(d,"visible"),{formRef:L,validate:F,restoreValidation:K}=ca(),{defaultRequiredRule:R}=fa(),j=B(()=>({add:o("page.manage.menu.addMenu"),addChild:o("page.manage.menu.addChildMenu"),edit:o("page.manage.menu.editMenu")})[g.operateType]),l=U($());function $(){return{menuType:"1",menuName:"",routeName:"",routePath:"",pathParam:"",component:"",layout:"",page:"",i18nKey:null,icon:"",iconType:"1",parentId:0,status:"1",keepAlive:!1,constant:!1,order:0,href:null,hideInMenu:!1,activeMenu:void 0,multiTab:!1,fixedIndexInTab:void 0,query:[],buttons:[]}}const Q={menuName:R,status:R,routeName:R,routePath:R},J=B(()=>g.operateType==="edit"),Z=Va().map(s=>({label:()=>e("div",{class:"flex-y-center gap-16px"},[e(ie,{localIcon:s,class:"text-icon"},null),e("span",null,[s])]),value:s})),ee=B(()=>l.value.parentId===0),ae=B(()=>l.value.menuType==="2"),D=B(()=>{const s=[...g.allPages];return l.value.routeName&&!s.includes(l.value.routeName)&&s.unshift(l.value.routeName),s.map(b=>({label:b,value:b}))}),le=[{label:"base",value:"base"},{label:"blank",value:"blank"}],oe=U([]);async function z(){const{error:s,data:u}=await ra();if(!s){const b=u.map(V=>({label:V.roleName,value:V.roleCode}));oe.value=[...b]}}function W(s){l.value.query.splice(s+1,0,{key:"",value:""})}function ne(s){l.value.query.splice(s,1)}function r(s){l.value.buttons.splice(s+1,0,{code:"",desc:""})}function f(s){l.value.buttons.splice(s,1)}function _(){if(l.value=$(),!!g.rowData){if(g.operateType==="addChild"){const{id:s}=g.rowData;Object.assign(l.value,{parentId:s})}if(g.operateType==="edit"){const{component:s,...u}=g.rowData,{layout:b,page:V}=Ea(s),{path:i,param:p}=Oa(u.routePath);Object.assign(l.value,u,{layout:b,page:V,routePath:i,pathParam:p})}l.value.query||(l.value.query=[]),l.value.buttons||(l.value.buttons=[])}}function E(){O.value=!1}function te(){l.value.routeName?l.value.routePath=ka(l.value.routeName):l.value.routePath=""}function ue(){l.value.routeName?l.value.i18nKey=`route.${l.value.routeName}`:l.value.i18nKey=null}function se(){const{layout:s,page:u,pathParam:b,...V}=l.value,i=Ia(s,u),p=Ra(l.value.routePath,b);return V.component=i,V.routePath=p,V}async function re(){var u;await F();const s=se();console.log("params: ",s),(u=window.$message)==null||u.success(o("common.updateSuccess")),E(),P("submitted")}return be(O,()=>{O.value&&(_(),K(),z())}),be(()=>l.value.routeName,()=>{te(),ue()}),(s,u)=>{const b=Be,V=Se,i=$e,p=Le,I=qe,de=Ke,G=Fe,ce=je,fe=ha,C=Y,ve=xe,ge=_a,pe=ze,ke=Ue,Oe=Ae,Re=Me,Ne=We;return m(),h(Ne,{modelValue:O.value,"onUpdate:modelValue":u[22]||(u[22]=t=>O.value=t),title:j.value,preset:"card",class:"w-800px"},{footer:a(()=>[e(pe,{size:16,class:"float-right"},{default:a(()=>[e(C,{onClick:E},{default:a(()=>[ye(q(n(o)("common.cancel")),1)]),_:1}),e(C,{type:"primary",onClick:re},{default:a(()=>[ye(q(n(o)("common.confirm")),1)]),_:1})]),_:1})]),default:a(()=>[e(Re,{class:"h-480px pr-20px"},{default:a(()=>[e(Oe,{ref_key:"formRef",ref:L,model:l.value,rules:Q,"label-position":"right","label-width":100},{default:a(()=>[e(ke,null,{default:a(()=>[e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.menuType"),prop:"menuType"},{default:a(()=>[e(V,{modelValue:l.value.menuType,"onUpdate:modelValue":u[0]||(u[0]=t=>l.value.menuType=t),disabled:J.value},{default:a(()=>[(m(!0),T(N,null,x(n(oa),t=>(m(),h(b,{key:t.value,value:t.value,label:n(o)(t.label)},null,8,["value","label"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.menuName"),prop:"menuName"},{default:a(()=>[e(I,{modelValue:l.value.menuName,"onUpdate:modelValue":u[1]||(u[1]=t=>l.value.menuName=t),placeholder:n(o)("page.manage.menu.form.menuName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.routeName"),prop:"routeName"},{default:a(()=>[e(I,{modelValue:l.value.routeName,"onUpdate:modelValue":u[2]||(u[2]=t=>l.value.routeName=t),placeholder:n(o)("page.manage.menu.form.routeName")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.routePath"),prop:"routePath"},{default:a(()=>[e(I,{modelValue:l.value.routePath,"onUpdate:modelValue":u[3]||(u[3]=t=>l.value.routePath=t),disabled:"",placeholder:n(o)("page.manage.menu.form.routePath")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.pathParam"),prop:"pathParam"},{default:a(()=>[e(I,{modelValue:l.value.pathParam,"onUpdate:modelValue":u[4]||(u[4]=t=>l.value.pathParam=t),placeholder:n(o)("page.manage.menu.form.pathParam")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),ee.value?(m(),h(p,{key:0,span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.layout"),prop:"layout"},{default:a(()=>[e(G,{modelValue:l.value.layout,"onUpdate:modelValue":u[5]||(u[5]=t=>l.value.layout=t),clearable:"",placeholder:n(o)("page.manage.menu.form.layout")},{default:a(()=>[(m(),T(N,null,x(le,({label:t,value:v})=>e(de,{key:v,label:t,value:v},null,8,["label","value"])),64))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):M("",!0),ae.value?(m(),h(p,{key:1,span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.page"),prop:"page"},{default:a(()=>[e(G,{modelValue:l.value.page,"onUpdate:modelValue":u[6]||(u[6]=t=>l.value.page=t),clearable:"",placeholder:n(o)("page.manage.menu.form.page")},{default:a(()=>[(m(!0),T(N,null,x(D.value,({label:t,value:v})=>(m(),h(de,{key:v,label:t,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})):M("",!0),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.i18nKey"),prop:"i18nKey"},{default:a(()=>[e(I,{modelValue:l.value.i18nKey,"onUpdate:modelValue":u[7]||(u[7]=t=>l.value.i18nKey=t),placeholder:n(o)("page.manage.menu.form.i18nKey")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.order"),prop:"order"},{default:a(()=>[e(ce,{modelValue:l.value.order,"onUpdate:modelValue":u[8]||(u[8]=t=>l.value.order=t),class:"w-full",placeholder:n(o)("page.manage.menu.form.order")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.iconTypeTitle"),prop:"iconType"},{default:a(()=>[e(V,{modelValue:l.value.iconType,"onUpdate:modelValue":u[9]||(u[9]=t=>l.value.iconType=t)},{default:a(()=>[(m(!0),T(N,null,x(n(na),t=>(m(),h(b,{key:t.value,value:t.value,label:n(o)(t.label)},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.icon"),prop:"icon"},{default:a(()=>[l.value.iconType==="1"?(m(),h(I,{key:0,modelValue:l.value.icon,"onUpdate:modelValue":u[10]||(u[10]=t=>l.value.icon=t),placeholder:n(o)("page.manage.menu.form.icon"),class:"flex-1"},{suffix:a(()=>[l.value.icon?(m(),h(ie,{key:0,icon:l.value.icon,class:"text-icon"},null,8,["icon"])):M("",!0)]),_:1},8,["modelValue","placeholder"])):M("",!0),l.value.iconType==="2"?(m(),h(G,{key:1,modelValue:l.value.icon,"onUpdate:modelValue":u[11]||(u[11]=t=>l.value.icon=t),placeholder:n(o)("page.manage.menu.form.localIcon"),options:n(Z)},null,8,["modelValue","placeholder","options"])):M("",!0)]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.menuStatus"),prop:"status"},{default:a(()=>[e(V,{modelValue:l.value.status,"onUpdate:modelValue":u[12]||(u[12]=t=>l.value.status=t)},{default:a(()=>[(m(!0),T(N,null,x(n(ta),({label:t,value:v})=>(m(),h(b,{key:v,value:v,label:n(o)(t)},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.keepAlive"),prop:"keepAlive"},{default:a(()=>[e(V,{modelValue:l.value.keepAlive,"onUpdate:modelValue":u[13]||(u[13]=t=>l.value.keepAlive=t)},{default:a(()=>[e(b,{value:!0,label:n(o)("common.yesOrNo.yes")},null,8,["label"]),e(b,{value:!1,label:n(o)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.constant"),prop:"constant"},{default:a(()=>[e(V,{modelValue:l.value.constant,"onUpdate:modelValue":u[14]||(u[14]=t=>l.value.constant=t)},{default:a(()=>[e(b,{value:!0,label:n(o)("common.yesOrNo.yes")},null,8,["label"]),e(b,{value:!1,label:n(o)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.href"),prop:"href"},{default:a(()=>[e(I,{modelValue:l.value.href,"onUpdate:modelValue":u[15]||(u[15]=t=>l.value.href=t),placeholder:n(o)("page.manage.menu.form.href")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.hideInMenu"),prop:"hideInMenu"},{default:a(()=>[e(V,{modelValue:l.value.hideInMenu,"onUpdate:modelValue":u[16]||(u[16]=t=>l.value.hideInMenu=t)},{default:a(()=>[e(b,{value:!0,label:n(o)("common.yesOrNo.yes")},null,8,["label"]),e(b,{value:!1,label:n(o)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),l.value.hideInMenu?(m(),h(p,{key:2,span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.activeMenu"),prop:"activeMenu"},{default:a(()=>[e(G,{modelValue:l.value.activeMenu,"onUpdate:modelValue":u[17]||(u[17]=t=>l.value.activeMenu=t),options:D.value,clearable:"",placeholder:n(o)("page.manage.menu.form.activeMenu")},{default:a(()=>[(m(!0),T(N,null,x(D.value,({label:t,value:v})=>(m(),h(de,{key:v,label:t,value:v},null,8,["label","value"]))),128))]),_:1},8,["modelValue","options","placeholder"])]),_:1},8,["label"])]),_:1})):M("",!0),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.multiTab"),prop:"multiTab"},{default:a(()=>[e(V,{modelValue:l.value.multiTab,"onUpdate:modelValue":u[18]||(u[18]=t=>l.value.multiTab=t)},{default:a(()=>[e(b,{value:!0,label:n(o)("common.yesOrNo.yes")},null,8,["label"]),e(b,{value:!1,label:n(o)("common.yesOrNo.no")},null,8,["label"])]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1}),e(p,{span:12},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.fixedIndexInTab"),prop:"fixedIndexInTab"},{default:a(()=>[e(ce,{modelValue:l.value.fixedIndexInTab,"onUpdate:modelValue":u[19]||(u[19]=t=>l.value.fixedIndexInTab=t),class:"w-full",clearable:"",placeholder:n(o)("page.manage.menu.form.fixedIndexInTab")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(p,{span:24},{default:a(()=>[e(i,{label:n(o)("page.manage.menu.query"),prop:"query"},{default:a(()=>[l.value.query.length===0?(m(),h(C,{key:0,class:"w-full border-dashed",onClick:u[20]||(u[20]=t=>W(-1))},{icon:a(()=>[e(fe,{class:"align-sub text-icon"})]),default:a(()=>[w("span",Na,q(n(o)("common.add")),1)]),_:1})):(m(!0),T(N,{key:1},x(l.value.query,(t,v)=>(m(),T("div",{key:v,class:"flex gap-3"},[e(p,{span:10},{default:a(()=>[e(i,{prop:["query",v.toString(),"key"]},{default:a(()=>[e(I,{modelValue:t.key,"onUpdate:modelValue":k=>t.key=k,placeholder:n(o)("page.manage.menu.form.queryKey"),class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"])]),_:2},1024),e(p,{span:10},{default:a(()=>[e(i,{prop:["query",v.toString(),"value"]},{default:a(()=>[e(I,{modelValue:t.value,"onUpdate:modelValue":k=>t.value=k,placeholder:n(o)("page.manage.menu.form.queryValue"),class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"])]),_:2},1024),e(p,{span:4},{default:a(()=>[e(pe,{class:"ml-12px"},{default:a(()=>[e(C,{onClick:k=>W(v)},{icon:a(()=>[e(ve,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(C,{onClick:k=>ne(v)},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1}),e(p,{span:24},{default:a(()=>[e(i,{"label-col":{span:4},label:n(o)("page.manage.menu.button"),prop:"buttons"},{default:a(()=>[l.value.buttons.length===0?(m(),h(C,{key:0,class:"w-full border-dashed",onClick:u[21]||(u[21]=t=>r(-1))},{icon:a(()=>[e(fe,{class:"align-sub text-icon"})]),default:a(()=>[w("span",xa,q(n(o)("common.add")),1)]),_:1})):(m(!0),T(N,{key:1},x(l.value.buttons,(t,v)=>(m(),T("div",{key:v,class:"flex gap-3"},[e(p,{span:10},{default:a(()=>[e(i,{prop:["buttons",v.toString(),"code"]},{default:a(()=>[e(I,{modelValue:t.code,"onUpdate:modelValue":k=>t.code=k,placeholder:n(o)("page.manage.menu.form.buttonCode"),class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"])]),_:2},1024),e(p,{span:10},{default:a(()=>[e(i,{prop:["buttons",v.toString(),"desc"]},{default:a(()=>[e(I,{modelValue:t.desc,"onUpdate:modelValue":k=>t.desc=k,placeholder:n(o)("page.manage.menu.form.buttonDesc"),class:"flex-1"},null,8,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["prop"])]),_:2},1024),e(p,{span:4},{default:a(()=>[e(pe,{class:"ml-12px"},{default:a(()=>[e(C,{onClick:k=>r(v)},{icon:a(()=>[e(ve,{class:"align-sub text-icon"})]),_:2},1032,["onClick"]),e(C,{onClick:k=>f(v)},{icon:a(()=>[e(ge,{class:"align-sub text-icon"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1},8,["label"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue","title"])}}}),wa={class:"flex items-center justify-between"},Da={class:"h-[calc(100%-50px)]"},Ma={class:"mt-20px flex justify-end"};function A(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Object]"&&!aa(d)}const Aa=Te({name:"manage_menu",__name:"index",setup(d){const{bool:c,setTrue:g}=Ge(),P=U(null),{columns:O,columnChecks:L,data:F,loading:K,pagination:R,getData:j,getDataByPage:l}=da({apiFn:ma,columns:()=>[{type:"selection",width:48},{prop:"id",label:o("page.manage.menu.id")},{prop:"menuType",label:o("page.manage.menu.menuType"),width:90,formatter:r=>{const f={1:"info",2:"primary"},_=o(ua[r.menuType]);return e(me,{type:f[r.menuType]},A(_)?_:{default:()=>[_]})}},{prop:"menuName",label:o("page.manage.menu.menuName"),minWidth:120,formatter:r=>{const{i18nKey:f,menuName:_}=r,E=f?o(f):_;return e("span",null,[E])}},{prop:"icon",label:o("page.manage.menu.icon"),width:100,formatter:r=>{const f=r.iconType==="1"?r.icon:void 0,_=r.iconType==="2"?r.icon:void 0;return e("div",{class:"flex-center"},[e(ie,{icon:f,localIcon:_,class:"text-icon"},null)])}},{prop:"routeName",label:o("page.manage.menu.routeName"),minWidth:120},{prop:"routePath",label:o("page.manage.menu.routePath"),minWidth:120},{prop:"status",label:o("page.manage.menu.menuStatus"),width:80,formatter:r=>{if(r.status===void 0)return"";const f={1:"success",2:"warning"},_=o(sa[r.status]);return e(me,{type:f[r.status]},A(_)?_:{default:()=>[_]})}},{prop:"hideInMenu",label:o("page.manage.menu.hideInMenu"),width:80,formatter:r=>{const f=r.hideInMenu?"Y":"N",_={Y:"danger",N:"info"},E=o(Pe[f]);return e(me,{type:_[f]},A(E)?E:{default:()=>[E]})}},{prop:"parentId",label:o("page.manage.menu.parentId"),width:90},{prop:"order",label:o("page.manage.menu.order"),width:60},{prop:"operate",label:o("common.operate"),width:270,formatter:r=>{let f,_;return e("div",{class:"flex-center justify-end pr-10px"},[r.menuType==="1"&&e(Y,{type:"primary",plain:!0,size:"small",onClick:()=>oe(r)},A(f=o("page.manage.menu.addChildMenu"))?f:{default:()=>[f]}),e(Y,{type:"primary",plain:!0,size:"small",onClick:()=>le(r)},A(_=o("common.edit"))?_:{default:()=>[_]}),e(ea,{title:o("common.confirmDelete"),onConfirm:()=>ae(r.id)},{reference:()=>{let E;return e(Y,{type:"danger",plain:!0,size:"small"},A(E=o("common.delete"))?E:{default:()=>[E]})}})])}}]}),{checkedRowKeys:$,onBatchDeleted:Q,onDeleted:J}=pa(F,j),S=U("add");function Z(){S.value="add",g()}async function ee(){Q()}function ae(r){console.log(r),J()}const D=U(null);function le(r){S.value="edit",D.value={...r},g()}function oe(r){S.value="addChild",D.value={...r},g()}const z=U([]);async function W(){const{data:r}=await ia();z.value=r||[]}function ne(){W()}return ne(),(r,f)=>{const _=Ce,E=Xe,te=He,ue=Je,se=Ze,re=Qe;return m(),T("div",{ref_key:"wrapperRef",ref:P,class:"flex-col-stretch gap-16px overflow-hidden lt-sm:overflow-auto"},[e(se,{class:"sm:flex-1-hidden card-wrapper","body-class":"ht50"},{header:a(()=>[w("div",wa,[w("p",null,q(n(o)("page.manage.menu.title")),1),e(_,{columns:n(L),"onUpdate:columns":f[0]||(f[0]=s=>Ve(L)?L.value=s:null),"disabled-delete":n($).length===0,loading:n(K),onAdd:Z,onDelete:ee,onRefresh:n(j)},null,8,["columns","disabled-delete","loading","onRefresh"])])]),default:a(()=>[w("div",Da,[Ye((m(),h(te,{height:"100%",border:"",class:"sm:h-full",data:n(F),"row-key":"id",onSelectionChange:f[1]||(f[1]=s=>$.value=s)},{default:a(()=>[(m(!0),T(N,null,x(n(O),s=>(m(),h(E,he({key:s.prop,ref_for:!0},s),null,16))),128))]),_:1},8,["data"])),[[re,n(K)]]),w("div",Ma,[n(R).total?(m(),h(ue,he({key:0,layout:"total,prev,pager,next,sizes"},n(R),{onCurrentChange:n(R)["current-change"],onSizeChange:n(R)["size-change"]}),null,16,["onCurrentChange","onSizeChange"])):M("",!0)])]),e(Ca,{visible:n(c),"onUpdate:visible":f[2]||(f[2]=s=>Ve(c)?c.value=s:null),"operate-type":S.value,"row-data":D.value,"all-pages":z.value,onSubmitted:n(l)},null,8,["visible","operate-type","row-data","all-pages","onSubmitted"])]),_:1})],512)}}}),qa=la(Aa,[["__scopeId","data-v-311ab95c"]]);export{qa as default};
