import{n as C,d as x,ao as I,D as O,aq as R,C as $,a as z,$ as a,r as F,c as l,o,w as e,f as s,N as P,h as t,P as U,Q as q,s as H,b as y,F as w,z as S,R as J,g as u,t as i,E as Q,J as b}from"./index-C-okMWSa.js";function j(){const d=C();function _(r){return d.isLogin?typeof r=="string"?d.userInfo.buttons.includes(r):r.some(c=>d.userInfo.buttons.includes(c)):!1}return{hasAuth:_}}const W=x({name:"function_toggle-auth",__name:"index",setup(d){const _=I(),r=O(),c=C(),D=R(),{hasAuth:m}=j(),{loading:k,startLoading:B,endLoading:L}=$(),N=z(()=>[{key:"super",label:a("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:a("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:a("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),h=F("super");async function v(p){h.value=p.key,B(),await c.login(p.userName,p.password,!1),D.initTabStore(_),L(),r.reloadPage()}return(p,G)=>{const T=J,g=H,E=q,f=Q,V=U,A=P;return o(),l(g,{direction:"vertical",fill:"",size:16},{default:e(()=>[s(A,{header:t(a)("route.function_toggle-auth"),class:"card-wrapper"},{default:e(()=>[s(V,{direction:"vertical",border:"",column:1},{default:e(()=>[s(E,{label:t(a)("page.manage.user.userRole")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),y(w,null,S(t(c).userInfo.roles,n=>(o(),l(T,{key:n},{default:e(()=>[u(i(n),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(E,{"ions-item":"",label:t(a)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),y(w,null,S(N.value,n=>(o(),l(f,{key:n.key,loading:t(k)&&h.value===n.key,disabled:t(k)&&h.value!==n.key,onClick:K=>v(n)},{default:e(()=>[u(i(n.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["header"]),s(A,{header:t(a)("page.function.toggleAuth.authHook"),class:"card-wrapper"},{default:e(()=>[s(g,null,{default:e(()=>[t(m)("B_CODE1")?(o(),l(f,{key:0},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):b("",!0),t(m)("B_CODE2")?(o(),l(f,{key:1},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.adminVisible")),1)]),_:1})):b("",!0),t(m)("B_CODE3")?(o(),l(f,{key:2},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):b("",!0)]),_:1})]),_:1},8,["header"])]),_:1})}}});export{W as default};
