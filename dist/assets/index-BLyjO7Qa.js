import{aY as iw,aH as to,a as qe,aZ as Pr,a_ as On,J as Qe,d as ls,Z as It,aI as w,r as Pe,i as nn,al as rl,au as pe,a$ as Hl,b0 as db,j as sw,b1 as aw,aN as cw,b2 as uw,b as ji,o as Qn,f as vi,ae as dw,b3 as fw,h as fb,aj as hb,aW as hw,b4 as pw,b5 as gw,c as qs,w as Ps,aR as vw,aS as mw}from"./index-q4uhLKit.js";import{f as pb}from"./product-CZTuCJlm.js";const bw="4.1.5",ol={coreVersion:bw,uiVersion:"",tableVersion:""};var Ns,ch;function Wo(){if(ch)return Ns;ch=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Ns=e,Ns}var Bs,uh;function Yr(){if(uh)return Bs;uh=1;function e(t,o,n){if(t)if(t.forEach)t.forEach(o,n);else for(var u=0,c=t.length;u<c;u++)o.call(n,t[u],u,t)}return Bs=e,Bs}var $s,dh;function gb(){if(dh)return $s;dh=1;var e=Object.prototype.toString;return $s=e,$s}var Vs,fh;function xi(){if(fh)return Vs;fh=1;var e=gb();function t(o){return function(n){return"[object "+o+"]"===e.call(n)}}return Vs=t,Vs}var zs,hh;function or(){if(hh)return zs;hh=1;var e=xi(),t=Array.isArray||e("Array");return zs=t,zs}var Ws,ph;function To(){if(ph)return Ws;ph=1;function e(t,o){return t&&t.hasOwnProperty?t.hasOwnProperty(o):!1}return Ws=e,Ws}var Gs,gh;function Ci(){if(gh)return Gs;gh=1;var e=To();function t(o,n,u){if(o)for(var c in o)e(o,c)&&n.call(u,o[c],c,o)}return Gs=t,Gs}var js,vh;function Ar(){if(vh)return js;vh=1;var e=or(),t=Yr(),o=Ci();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return js=n,js}var Us,mh;function Nl(){if(mh)return Us;mh=1;function e(t){return function(o){return typeof o===t}}return Us=e,Us}var Ys,bh;function ro(){if(bh)return Ys;bh=1;var e=Nl(),t=e("function");return Ys=t,Ys}var Xs,xh;function gf(){if(xh)return Xs;xh=1;var e=Ar();function t(o,n){var u=Object[o];return function(c){var d=[];if(c){if(u)return u(c);e(c,n>1?function(v){d.push([""+v,c[v]])}:function(){d.push(arguments[n])})}return d}}return Xs=t,Xs}var Ks,Ch;function ln(){if(Ch)return Ks;Ch=1;var e=gf(),t=e("keys",1);return Ks=t,Ks}var Zs,wh;function vf(){if(wh)return Zs;wh=1;var e=gb(),t=Ci(),o=Yr();function n(v,m){var x=v.__proto__.constructor;return m?new x(m):new x}function u(v,m){return m?c(v,m):v}function c(v,m){if(v)switch(e.call(v)){case"[object Object]":{var x=Object.create(Object.getPrototypeOf(v));return t(v,function(O,S){x[S]=u(O,m)}),x}case"[object Date]":case"[object RegExp]":return n(v,v.valueOf());case"[object Array]":case"[object Arguments]":{var i=[];return o(v,function(O){i.push(u(O,m))}),i}case"[object Set]":{var s=n(v);return s.forEach(function(O){s.add(u(O,m))}),s}case"[object Map]":{var R=n(v);return R.forEach(function(O,S){R.set(S,u(O,m))}),R}}return v}function d(v,m){return v&&c(v,m)}return Zs=d,Zs}var Js,yh;function Fo(){if(yh)return Js;yh=1;var e=Yr(),t=ln(),o=or(),n=vf(),u=Object.assign;function c(v,m,x){for(var i=m.length,s,R=1;R<i;R++)s=m[R],e(t(m[R]),x?function(O){v[O]=n(s[O],x)}:function(O){v[O]=s[O]});return v}var d=function(v){if(v){var m=arguments;if(v===!0){if(m.length>1)return v=o(v[1])?[]:{},c(v,m,!0)}else return u?u.apply(Object,m):c(v,m)}return v};return Js=d,Js}var Qs,Eh;function xw(){if(Eh)return Qs;Eh=1;var e=Wo(),t=Yr(),o=Ar(),n=ro(),u=Fo(),c=function(){};function d(){t(arguments,function(i){o(i,function(s,R){c[R]=n(s)?function(){var O=s.apply(c.$context,arguments);return c.$context=null,O}:s})})}function v(i){return u(e,i)}function m(){return e}var x="3.7.4";return c.VERSION=x,c.version=x,c.mixin=d,c.setup=v,c.setConfig=v,c.getConfig=m,Qs=c,Qs}var ea,Rh;function mf(){if(Rh)return ea;Rh=1;function e(t,o,n){for(var u=t.length-1;u>=0;u--)o.call(n,t[u],u,t)}return ea=e,ea}var ta,Sh;function vb(){if(Sh)return ta;Sh=1;var e=mf(),t=ln();function o(n,u,c){e(t(n),function(d){u.call(c,n[d],d,n)})}return ta=o,ta}var ra,Oh;function sn(){if(Oh)return ra;Oh=1;function e(t){return t===null}return ra=e,ra}var oa,Dh;function Bl(){if(Dh)return oa;Dh=1;var e=sn();function t(o,n){return function(u){return e(u)?n:u[o]}}return oa=t,oa}var na,Mh;function Cw(){if(Mh)return na;Mh=1;var e=Ar(),t=ro(),o=Bl();function n(u,c,d){var v={};if(u)if(c)t(c)||(c=o(c)),e(u,function(m,x){v[x]=c.call(d,m,x,u)});else return u;return v}return na=n,na}var la,Th;function $l(){if(Th)return la;Th=1;function e(t){return t?t.constructor===Object:!1}return la=e,la}var ia,Fh;function mb(){if(Fh)return ia;Fh=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return ia=e,ia}var sa,Ih;function ww(){if(Ih)return sa;Ih=1;var e=or(),t=$l(),o=ro(),n=Ar(),u=mb();function c(v,m){return t(v)&&t(m)||e(v)&&e(m)?(n(m,function(x,i){u(i)&&(v[i]=o(m)?x:c(v[i],x))}),v):m}var d=function(v){v||(v={});for(var m=arguments,x=m.length,i,s=1;s<x;s++)i=m[s],i&&c(v,i);return v};return sa=d,sa}var aa,kh;function Dn(){if(kh)return aa;kh=1;var e=Ar();function t(o,n,u){var c=[];if(o&&arguments.length>1){if(o.map)return o.map(n,u);e(o,function(){c.push(n.apply(u,arguments))})}return c}return aa=t,aa}var ca,Ah;function is(){if(Ah)return ca;Ah=1;var e=To(),t=or();function o(n,u,c,d,v){return function(m,x,i){if(m&&x){if(n&&m[n])return m[n](x,i);if(u&&t(m)){for(var s=0,R=m.length;s<R;s++)if(!!x.call(i,m[s],s,m)===d)return[!0,!1,s,m[s]][c]}else for(var O in m)if(e(m,O)&&!!x.call(i,m[O],O,m)===d)return[!0,!1,O,m[O]][c]}return v}}return ca=o,ca}var ua,Lh;function bb(){if(Lh)return ua;Lh=1;var e=is(),t=e("some",1,0,!0,!1);return ua=t,ua}var da,Hh;function xb(){if(Hh)return da;Hh=1;var e=is(),t=e("every",1,1,!1,!0);return da=t,da}var fa,_h;function Vl(){if(_h)return fa;_h=1;var e=To();function t(o,n){if(o){if(o.includes)return o.includes(n);for(var u in o)if(e(o,u)&&n===o[u])return!0}return!1}return fa=t,fa}var ha,qh;function Cb(){if(qh)return ha;qh=1;var e=or(),t=Vl();function o(n,u){var c,d=0;if(e(n)&&e(u)){for(c=u.length;d<c;d++)if(!t(n,u[d]))return!1;return!0}return t(n,u)}return ha=o,ha}var pa,Ph;function wb(){if(Ph)return pa;Ph=1;var e=Ar(),t=Vl(),o=ro(),n=Bl();function u(c,d,v){var m=[];if(d){o(d)||(d=n(d));var x,i={};e(c,function(s,R){x=d.call(v,s,R,c),i[x]||(i[x]=1,m.push(s))})}else e(c,function(s){t(m,s)||m.push(s)});return m}return pa=u,pa}var ga,Nh;function bf(){if(Nh)return ga;Nh=1;var e=Dn();function t(o){return e(o,function(n){return n})}return ga=t,ga}var va,Bh;function yw(){if(Bh)return va;Bh=1;var e=wb(),t=bf();function o(){for(var n=arguments,u=[],c=0,d=n.length;c<d;c++)u=u.concat(t(n[c]));return e(u)}return va=o,va}var ma,$h;function Io(){if($h)return ma;$h=1;var e="undefined";return ma=e,ma}var ba,Vh;function Go(){if(Vh)return ba;Vh=1;var e=Io(),t=Nl(),o=t(e);return ba=o,ba}var xa,zh;function an(){if(zh)return xa;zh=1;var e=sn(),t=Go();function o(n){return e(n)||t(n)}return xa=o,xa}var Ca,Wh;function yb(){if(Wh)return Ca;Wh=1;var e=/(.+)?\[(\d+)\]$/;return Ca=e,Ca}var wa,Gh;function xf(){if(Gh)return wa;Gh=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return wa=e,wa}var ya,jh;function wi(){if(jh)return ya;jh=1;var e=yb(),t=xf(),o=To(),n=Go(),u=an();function c(m,x,i){if(u(m))return i;var s=v(m,x);return n(s)?i:s}function d(m,x){var i=x?x.match(e):"";return i?i[1]?m[i[1]]?m[i[1]][i[2]]:void 0:m[i[2]]:m[x]}function v(m,x){if(m){var i,s,R,O=0;if(m[x]||o(m,x))return m[x];if(s=t(x),R=s.length,R){for(i=m;O<R;O++)if(i=d(i,s[O]),u(i))return O===R-1?i:void 0}return i}}return ya=c,ya}var Ea,Uh;function Cf(){if(Uh)return Ea;Uh=1;var e=Yr(),t=bf(),o=Dn(),n=or(),u=ro(),c=$l(),d=Go(),v=sn(),m=an(),x=wi(),i=Bl(),s="asc",R="desc";function O(q,P){return d(q)?1:v(q)?d(P)?-1:1:q&&q.localeCompare?q.localeCompare(P):q>P?1:-1}function S(q,P,V){return function(G,ae){var Q=G[q],D=ae[q];return Q===D?V?V(G,ae):0:P.order===R?O(D,Q):O(Q,D)}}function F(q,P,V,G){var ae=[];return V=n(V)?V:[V],e(V,function(Q,D){if(Q){var M=Q,L;n(Q)?(M=Q[0],L=Q[1]):c(Q)&&(M=Q.field,L=Q.order),ae.push({field:M,order:L||s}),e(P,u(M)?function(z,J){z[D]=M.call(G,z.data,J,q)}:function(z){z[D]=M?x(z.data,M):z.data})}}),ae}function _(q,P,V){if(q){if(m(P))return t(q).sort(O);for(var G,ae=o(q,function(M){return{data:M}}),Q=F(q,ae,P,V),D=Q.length-1;D>=0;)G=S(D,Q[D],G),D--;return G&&(ae=ae.sort(G)),o(ae,i("data"))}return[]}return Ea=_,Ea}var Ra,Yh;function Ew(){if(Yh)return Ra;Yh=1;var e=Cf(),t=e;return Ra=t,Ra}var Sa,Xh;function Eb(){if(Xh)return Sa;Xh=1;function e(t,o){return t>=o?t:(t=t>>0)+Math.round(Math.random()*((o||9)-t))}return Sa=e,Sa}var Oa,Kh;function zl(){if(Kh)return Oa;Kh=1;var e=gf(),t=e("values",0);return Oa=t,Oa}var Da,Zh;function Rb(){if(Zh)return Da;Zh=1;var e=Eb(),t=zl();function o(n){for(var u,c=[],d=t(n),v=d.length-1;v>=0;v--)u=v>0?e(0,v):0,c.push(d[u]),d.splice(u,1);return c}return Da=o,Da}var Ma,Jh;function Rw(){if(Jh)return Ma;Jh=1;var e=Rb();function t(o,n){var u=e(o);return arguments.length<=1?u[0]:(n<u.length&&(u.length=n||0),u)}return Ma=t,Ma}var Ta,Qh;function Sb(){if(Qh)return Ta;Qh=1;function e(t){return function(o){if(o){var n=t(o&&o.replace?o.replace(/,/g,""):o);if(!isNaN(n))return n}return 0}}return Ta=e,Ta}var Fa,ep;function nl(){if(ep)return Fa;ep=1;var e=Sb(),t=e(parseFloat);return Fa=t,Fa}var Ia,tp;function ll(){if(tp)return Ia;tp=1;var e=nl();function t(o,n,u){var c=[],d=arguments.length;if(o){if(n=d>=2?e(n):0,u=d>=3?e(u):o.length,o.slice)return o.slice(n,u);for(;n<u;n++)c.push(o[n])}return c}return Ia=t,Ia}var ka,rp;function Sw(){if(rp)return ka;rp=1;var e=Ar();function t(o,n,u){var c=[];if(o&&n){if(o.filter)return o.filter(n,u);e(o,function(d,v){n.call(u,d,v,o)&&c.push(d)})}return c}return ka=t,ka}var Aa,op;function Ow(){if(op)return Aa;op=1;var e=is(),t=e("",0,2,!0);return Aa=t,Aa}var La,np;function Dw(){if(np)return La;np=1;var e=is(),t=e("find",1,3,!0);return La=t,La}var Ha,lp;function Mw(){if(lp)return Ha;lp=1;var e=or(),t=zl();function o(n,u,c){if(n){e(n)||(n=t(n));for(var d=n.length-1;d>=0;d--)if(u.call(c,n[d],d,n))return n[d]}}return Ha=o,Ha}var _a,ip;function Tw(){if(ip)return _a;ip=1;var e=ln();function t(o,n,u){if(o){var c,d,v=0,m=null,x=u,i=arguments.length>2,s=e(o);if(o.length&&o.reduce)return d=function(){return n.apply(m,arguments)},i?o.reduce(d,x):o.reduce(d);for(i&&(v=1,x=o[s[0]]),c=s.length;v<c;v++)x=n.call(m,x,o[s[v]],v,o);return x}}return _a=t,_a}var qa,sp;function Fw(){if(sp)return qa;sp=1;var e=or();function t(o,n,u,c){if(e(o)&&o.copyWithin)return o.copyWithin(n,u,c);var d,v,m=n>>0,x=u>>0,i=o.length,s=arguments.length>3?c>>0:i;if(m<i&&(m=m>=0?m:i+m,m>=0&&(x=x>=0?x:i+x,s=s>=0?s:i+s,x<s)))for(d=0,v=o.slice(x,s);m<i&&!(v.length<=d);m++)o[m]=v[d++];return o}return qa=t,qa}var Pa,ap;function Iw(){if(ap)return Pa;ap=1;var e=or();function t(o,n){var u,c=[],d=n>>0||1;if(e(o))if(d>=0&&o.length>d)for(u=0;u<o.length;)c.push(o.slice(u,u+d)),u+=d;else c=o.length?[o]:o;return c}return Pa=t,Pa}var Na,cp;function Ob(){if(cp)return Na;cp=1;var e=Dn(),t=Bl();function o(n,u){return e(n,t(u))}return Na=o,Na}var Ba,up;function Db(){if(up)return Ba;up=1;var e=ro(),t=an(),o=wi(),n=Yr();function u(c){return function(d,v){if(d&&d.length){var m,x;return n(d,function(i,s){v&&(i=e(v)?v(i,s,d):o(i,v)),!t(i)&&(t(m)||c(m,i))&&(x=s,m=i)}),d[x]}return m}}return Ba=u,Ba}var $a,dp;function Mb(){if(dp)return $a;dp=1;var e=Db(),t=e(function(o,n){return o<n});return $a=t,$a}var Va,fp;function Tb(){if(fp)return Va;fp=1;var e=Ob(),t=Mb();function o(n){var u,c,d,v=[];if(n&&n.length)for(u=0,c=t(n,function(m){return m?m.length:0}),d=c?c.length:0;u<d;u++)v.push(e(n,u));return v}return Va=o,Va}var za,hp;function kw(){if(hp)return za;hp=1;var e=Tb();function t(){return e(arguments)}return za=t,za}var Wa,pp;function Aw(){if(pp)return Wa;pp=1;var e=zl(),t=Ar();function o(n,u){var c={};return u=u||[],t(e(n),function(d,v){c[d]=u[v]}),c}return Wa=o,Wa}var Ga,gp;function Lw(){if(gp)return Ga;gp=1;var e=or(),t=Yr();function o(u,c){var d=[];return t(u,function(v){d=d.concat(e(v)?c?o(v,c):v:[v])}),d}function n(u,c){return e(u)?o(u,c):[]}return Ga=n,Ga}var ja,vp;function Hw(){if(vp)return ja;vp=1;var e=Dn(),t=or();function o(u,c){for(var d=0,v=c.length;u&&d<v;)u=u[c[d++]];return v&&u?u:0}function n(u,c){for(var d,v=arguments,m=[],x=[],i=2,s=v.length;i<s;i++)m.push(v[i]);if(t(c)){for(s=c.length-1,i=0;i<s;i++)x.push(c[i]);c=c[s]}return e(u,function(R){if(x.length&&(R=o(R,x)),d=R[c]||c,d&&d.apply)return d.apply(R,m)})}return ja=n,ja}var Ua,mp;function Fb(){if(mp)return Ua;mp=1;function e(t,o){try{delete t[o]}catch{t[o]=void 0}}return Ua=e,Ua}var Ya,bp;function Ib(){if(bp)return Ya;bp=1;var e=or(),t=mf(),o=vb();function n(u,c,d){return u&&(e(u)?t:o)(u,c,d)}return Ya=n,Ya}var Xa,xp;function ss(){if(xp)return Xa;xp=1;var e=Nl(),t=e("object");return Xa=t,Xa}var Ka,Cp;function kb(){if(Cp)return Ka;Cp=1;var e=Fb(),t=$l(),o=ss(),n=or(),u=sn(),c=Fo(),d=Ci();function v(m,x,i){if(m){var s,R=arguments.length>1&&(u(x)||!o(x)),O=R?i:x;if(t(m))d(m,R?function(S,F){m[F]=x}:function(S,F){e(m,F)}),O&&c(m,O);else if(n(m)){if(R)for(s=m.length;s>0;)s--,m[s]=x;else m.length=0;O&&m.push.apply(m,O)}}return m}return Ka=v,Ka}var Za,wp;function Ab(){if(wp)return Za;wp=1;var e=Fb(),t=ro(),o=or(),n=Ar(),u=Yr(),c=Ib(),d=kb(),v=an();function m(i){return function(s,R){return R===i}}function x(i,s,R){if(i){if(!v(s)){var O=[],S=[];return t(s)||(s=m(s)),n(i,function(F,_,q){s.call(R,F,_,q)&&O.push(_)}),o(i)?c(O,function(F,_){S.push(i[F]),i.splice(F,1)}):(S={},u(O,function(F){S[F]=i[F],e(i,F)})),S}return d(i)}return i}return Za=x,Za}var Ja,yp;function _w(){if(yp)return Ja;yp=1;var e=Wo();Dn();var t=Cf(),o=vf(),n=an(),u=Ar(),c=Ab(),d=Fo();function v(x,i){u(x,function(s){s[i]&&!s[i].length&&c(s,i)})}function m(x,i){var s=d({},e.treeOptions,i),R=s.strict,O=s.key,S=s.parentKey,F=s.children,_=s.mapChildren,q=s.sortKey,P=s.reverse,V=s.data,G=[],ae={},Q={},D,M,L;return q&&(x=t(o(x),q),P&&(x=x.reverse())),u(x,function(z){D=z[O],Q[D]=!0}),u(x,function(z){D=z[O],V?(M={},M[V]=z):M=z,L=z[S],ae[D]=ae[D]||[],M[O]=D,M[S]=L,D===L&&(L=null,console.log("Fix infinite Loop.",z)),ae[L]=ae[L]||[],ae[L].push(M),M[F]=ae[D],_&&(M[_]=ae[D]),(!R||R&&n(L))&&(Q[L]||G.push(M))}),R&&v(x,F),G}return Ja=m,Ja}var Qa,Ep;function qw(){if(Ep)return Qa;Ep=1;var e=Wo(),t=Yr(),o=Fo();function n(c,d,v,m){var x=m.key,i=m.parentKey,s=m.children,R=m.data,O=m.updated,S=m.clear;return t(v,function(F){var _=F[s];R&&(F=F[R]),O!==!1&&(F[i]=d?d[x]:null),c.push(F),_&&_.length&&n(c,F,_,m),S&&delete F[s]}),c}function u(c,d){return n([],null,c,o({},e.treeOptions,d))}return Qa=u,Qa}var ec,Rp;function as(){if(Rp)return ec;Rp=1;function e(t){return function(o,n,u,c){var d=u||{},v=d.children||"children";return t(null,o,n,c,[],[],v,d)}}return ec=e,ec}var tc,Sp;function Pw(){if(Sp)return tc;Sp=1;var e=as();function t(n,u,c,d,v,m,x,i){if(u){var s,R,O,S,F,_;for(R=0,O=u.length;R<O;R++){if(s=u[R],S=v.concat([""+R]),F=m.concat([s]),c.call(d,s,R,u,S,n,F))return{index:R,item:s,path:S,items:u,parent:n,nodes:F};if(x&&s&&(_=t(s,s[x],c,d,S.concat([x]),F,x),_))return _}}}var o=e(t);return tc=o,tc}var rc,Op;function Lb(){if(Op)return rc;Op=1;var e=as(),t=Ar();function o(u,c,d,v,m,x,i,s){var R,O;t(c,function(S,F){R=m.concat([""+F]),O=x.concat([S]),d.call(v,S,F,c,R,u,O),S&&i&&(R.push(i),o(S,S[i],d,v,R,O,i))})}var n=e(o);return rc=n,rc}var oc,Dp;function Nw(){if(Dp)return oc;Dp=1;var e=as(),t=Dn();function o(u,c,d,v,m,x,i,s){var R,O,S,F=s.mapChildren||i;return t(c,function(_,q){return R=m.concat([""+q]),O=x.concat([_]),S=d.call(v,_,q,c,R,u,O),S&&_&&i&&_[i]&&(S[F]=o(_,_[i],d,v,R,O,i,s)),S})}var n=e(o);return oc=n,oc}var nc,Mp;function Bw(){if(Mp)return nc;Mp=1;var e=Lb();function t(o,n,u,c){var d=[];return o&&n&&e(o,function(v,m,x,i,s,R){n.call(c,v,m,x,i,s,R)&&d.push(v)},u),d}return nc=t,nc}var lc,Tp;function $w(){if(Tp)return lc;Tp=1;var e=as(),t=Yr(),o=Fo();function n(c,d,v,m,x,i,s,R,O){var S,F,_,q,P,V=[],G=O.original,ae=O.data,Q=O.mapChildren||R,D=O.isEvery;return t(v,function(M,L){S=i.concat([""+L]),F=s.concat([M]),q=c&&!D||m.call(x,M,L,v,S,d,F),P=R&&M[R],q||P?(G?_=M:(_=o({},M),ae&&(_[ae]=M)),_[Q]=n(q,M,M[R],m,x,S,F,R,O),(q||_[Q].length)&&V.push(_)):q&&V.push(_)}),V}var u=e(function(c,d,v,m,x,i,s,R){return n(0,c,d,v,m,x,i,s,R)});return lc=u,lc}var ic,Fp;function Hb(){if(Fp)return ic;Fp=1;function e(t,o){if(t.indexOf)return t.indexOf(o);for(var n=0,u=t.length;n<u;n++)if(o===t[n])return n}return ic=e,ic}var sc,Ip;function _b(){if(Ip)return sc;Ip=1;function e(t,o){if(t.lastIndexOf)return t.lastIndexOf(o);for(var n=t.length-1;n>=0;n--)if(o===t[n])return n;return-1}return sc=e,sc}var ac,kp;function jo(){if(kp)return ac;kp=1;var e=Nl(),t=e("number");return ac=t,ac}var cc,Ap;function Vw(){if(Ap)return cc;Ap=1;var e=jo();function t(o){return e(o)&&isNaN(o)}return cc=t,cc}var uc,Lp;function cn(){if(Lp)return uc;Lp=1;var e=Nl(),t=e("string");return uc=t,uc}var dc,Hp;function Mn(){if(Hp)return dc;Hp=1;var e=xi(),t=e("Date");return dc=t,dc}var fc,_p;function yi(){if(_p)return fc;_p=1;var e=parseInt;return fc=e,fc}var hc,qp;function zw(){if(qp)return hc;qp=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return hc=e,hc}var pc,Pp;function mo(){if(Pp)return pc;Pp=1;function e(t){return t.getTime()}return pc=e,pc}var gc,Np;function oo(){if(Np)return gc;Np=1;var e=yi(),t=zw(),o=mo(),n=cn(),u=Mn();function c(Z){return"(\\d{"+Z+"})"}function d(Z){return Z<10?Z*100:Z<100?Z*10:Z}function v(Z){return isNaN(Z)?Z:e(Z)}for(var m=c(2),x=c("1,2"),i=c("1,7"),s=c("3,4"),R=".{1}",O=R+x,S="(([zZ])|([-+]\\d{2}:?\\d{2}))",F=[s,O,O,O,O,O,R+i,S],_=[],q=F.length-1;q>=0;q--){for(var P="",V=0;V<q+1;V++)P+=F[V];_.push(new RegExp("^"+P+"$"))}function G(Z){for(var ge,Ce={},ve=0,fe=_.length;ve<fe;ve++)if(ge=Z.match(_[ve]),ge){Ce.y=ge[1],Ce.M=ge[2],Ce.d=ge[3],Ce.H=ge[4],Ce.m=ge[5],Ce.s=ge[6],Ce.S=ge[7],Ce.Z=ge[8];break}return Ce}for(var ae=[["yyyy",s],["yy",m],["MM",m],["M",x],["dd",m],["d",x],["HH",m],["H",x],["mm",m],["m",x],["ss",m],["s",x],["SSS",c(3)],["S",i],["Z",S]],Q={},D=["\\[([^\\]]+)\\]"],V=0;V<ae.length;V++){var M=ae[V];Q[M[0]]=M[1]+"?",D.push(M[0])}var L=new RegExp(D.join("|"),"g"),z={};function J(Z,ge){var Ce=z[ge];if(!Ce){var ve=[],fe=ge.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(L,function(oe,te){var le=oe.charAt(0);return le==="["?te:(ve.push(le),Q[oe])});Ce=z[ge]={_i:ve,_r:new RegExp(fe)}}var Me={},Re=Z.match(Ce._r);if(Re){for(var re=Ce._i,ue=1,X=Re.length;ue<X;ue++)Me[re[ue-1]]=Re[ue];return Me}return Me}function k(Z){if(/^[zZ]/.test(Z.Z))return new Date(t(Z));var ge=Z.Z.match(/([-+])(\d{2}):?(\d{2})/);return ge?new Date(t(Z)-(ge[1]==="-"?-1:1)*e(ge[2])*36e5+e(ge[3])*6e4):new Date("")}function j(Z,ge){if(Z){var Ce=u(Z);if(Ce||!ge&&/^[0-9]{11,15}$/.test(Z))return new Date(Ce?o(Z):e(Z));if(n(Z)){var ve=ge?J(Z,ge):G(Z);if(ve.y)return ve.M&&(ve.M=v(ve.M)-1),ve.S&&(ve.S=d(v(ve.S.substring(0,3)))),ve.Z?k(ve):new Date(ve.y,ve.M||0,ve.d||1,ve.H||0,ve.m||0,ve.s||0,ve.S||0)}}return new Date("")}return gc=j,gc}var vc,Bp;function cs(){if(Bp)return vc;Bp=1;function e(){return new Date}return vc=e,vc}var mc,$p;function qb(){if($p)return mc;$p=1;var e=Mn(),t=oo(),o=cs();function n(u){var c,d=u?t(u):o();return e(d)?(c=d.getFullYear(),c%4===0&&(c%100!==0||c%400===0)):!1}return mc=n,mc}var bc,Vp;function Ww(){if(Vp)return bc;Vp=1;var e=or(),t=To();function o(n,u,c){if(n){if(e(n))for(var d=0,v=n.length;d<v&&u.call(c,n[d],d,n)!==!1;d++);else for(var m in n)if(t(n,m)&&u.call(c,n[m],m,n)===!1)break}}return bc=o,bc}var xc,zp;function Gw(){if(zp)return xc;zp=1;var e=or(),t=To();function o(n,u,c){if(n){var d,v;if(e(n))for(d=n.length-1;d>=0&&u.call(c,n[d],d,n)!==!1;d--);else for(v=t(n),d=v.length-1;d>=0&&u.call(c,n[v[d]],v[d],n)!==!1;d--);}}return xc=o,xc}var Cc,Wp;function Pb(){if(Wp)return Cc;Wp=1;var e=or(),t=cn(),o=To();function n(u,c){return function(d,v){if(d){if(d[u])return d[u](v);if(t(d)||e(d))return c(d,v);for(var m in d)if(o(d,m)&&v===d[m])return m}return-1}}return Cc=n,Cc}var wc,Gp;function jw(){if(Gp)return wc;Gp=1;var e=Pb(),t=Hb(),o=e("indexOf",t);return wc=o,wc}var yc,jp;function Nb(){if(jp)return yc;jp=1;var e=Pb(),t=_b(),o=e("lastIndexOf",t);return yc=o,yc}var Ec,Up;function Bb(){if(Up)return Ec;Up=1;var e=or(),t=cn(),o=Ar();function n(u){var c=0;return t(u)||e(u)?u.length:(o(u,function(){c++}),c)}return Ec=n,Ec}var Rc,Yp;function Uw(){if(Yp)return Rc;Yp=1;var e=jo();function t(o){return e(o)&&isFinite(o)}return Rc=t,Rc}var Sc,Xp;function $b(){if(Xp)return Sc;Xp=1;var e=or(),t=sn(),o=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return Sc=o,Sc}var Oc,Kp;function Yw(){if(Kp)return Oc;Kp=1;var e=or(),t=$b(),o=sn();function n(u){return!o(u)&&!isNaN(u)&&!e(u)&&!t(u)}return Oc=n,Oc}var Dc,Zp;function Vb(){if(Zp)return Dc;Zp=1;var e=Nl(),t=e("boolean");return Dc=t,Dc}var Mc,Jp;function wf(){if(Jp)return Mc;Jp=1;var e=xi(),t=e("RegExp");return Mc=t,Mc}var Tc,Qp;function zb(){if(Qp)return Tc;Qp=1;var e=xi(),t=e("Error");return Tc=t,Tc}var Fc,eg;function Xw(){if(eg)return Fc;eg=1;function e(t){return t?t.constructor===TypeError:!1}return Fc=e,Fc}var Ic,tg;function Wb(){if(tg)return Ic;tg=1;function e(t){for(var o in t)return!1;return!0}return Ic=e,Ic}var kc,rg;function Gb(){if(rg)return kc;rg=1;var e=Io(),t=typeof Symbol!==e;function o(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return kc=o,kc}var Ac,og;function Kw(){if(og)return Ac;og=1;var e=xi(),t=e("Arguments");return Ac=t,Ac}var Lc,ng;function Zw(){if(ng)return Lc;ng=1;var e=cn(),t=jo();function o(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return Lc=o,Lc}var Hc,lg;function yf(){if(lg)return Hc;lg=1;var e=Io(),t=typeof document===e?0:document;return Hc=t,Hc}var _c,ig;function Jw(){if(ig)return _c;ig=1;var e=yf();function t(o){return!!(o&&e&&o.nodeType===9)}return _c=t,_c}var qc,sg;function jb(){if(sg)return qc;sg=1;var e=Io(),t=typeof window===e?0:window;return qc=t,qc}var Pc,ag;function Qw(){if(ag)return Pc;ag=1;var e=jb();function t(o){return!!(e&&(o&&o===o.window))}return Pc=t,Pc}var Nc,cg;function ey(){if(cg)return Nc;cg=1;var e=Io(),t=typeof FormData!==e;function o(n){return t&&n instanceof FormData}return Nc=o,Nc}var Bc,ug;function ty(){if(ug)return Bc;ug=1;var e=Io(),t=typeof Map!==e;function o(n){return t&&n instanceof Map}return Bc=o,Bc}var $c,dg;function ry(){if(dg)return $c;dg=1;var e=Io(),t=typeof WeakMap!==e;function o(n){return t&&n instanceof WeakMap}return $c=o,$c}var Vc,fg;function oy(){if(fg)return Vc;fg=1;var e=Io(),t=typeof Set!==e;function o(n){return t&&n instanceof Set}return Vc=o,Vc}var zc,hg;function ny(){if(hg)return zc;hg=1;var e=Io(),t=typeof WeakSet!==e;function o(n){return t&&n instanceof WeakSet}return zc=o,zc}var Wc,pg;function Ub(){if(pg)return Wc;pg=1;var e=ro(),t=cn(),o=or(),n=To();function u(c){return function(d,v,m){if(d&&e(v)){if(o(d)||t(d))return c(d,v,m);for(var x in d)if(n(d,x)&&v.call(m,d[x],x,d))return x}return-1}}return Wc=u,Wc}var Gc,gg;function Ef(){if(gg)return Gc;gg=1;var e=Ub(),t=e(function(o,n,u){for(var c=0,d=o.length;c<d;c++)if(n.call(u,o[c],c,o))return c;return-1});return Gc=t,Gc}var jc,vg;function Yb(){if(vg)return jc;vg=1;var e=jo(),t=or(),o=cn(),n=wf(),u=Mn(),c=Vb(),d=Go(),v=ln(),m=xb();function x(i,s,R,O,S,F,_){if(i===s)return!0;if(i&&s&&!e(i)&&!e(s)&&!o(i)&&!o(s)){if(n(i))return R(""+i,""+s,S,F,_);if(u(i)||c(i))return R(+i,+s,S,F,_);var q,P,V,G=t(i),ae=t(s);if(G||ae?G&&ae:i.constructor===s.constructor)return P=v(i),V=v(s),O&&(q=O(i,s,S)),P.length===V.length?d(q)?m(P,function(Q,D){return Q===V[D]&&x(i[Q],s[V[D]],R,O,G||ae?D:Q,i,s)}):!!q:!1}return R(i,s,S,F,_)}return jc=x,jc}var Uc,mg;function Xb(){if(mg)return Uc;mg=1;function e(t,o){return t===o}return Uc=e,Uc}var Yc,bg;function Kb(){if(bg)return Yc;bg=1;var e=Yb(),t=Xb();function o(n,u){return e(n,u,t)}return Yc=o,Yc}var Xc,xg;function ly(){if(xg)return Xc;xg=1;var e=ln(),t=Ef(),o=Kb(),n=bb(),u=Cb();function c(d,v){var m=e(d),x=e(v);if(x.length){if(u(m,x))return n(x,function(i){return t(m,function(s){return s===i&&o(d[s],v[i])})>-1})}else return!0;return o(d,v)}return Xc=c,Xc}var Kc,Cg;function iy(){if(Cg)return Kc;Cg=1;var e=Yb(),t=Xb(),o=ro(),n=Go();function u(c,d,v){return o(v)?e(c,d,function(m,x,i,s,R){var O=v(m,x,i,s,R);return n(O)?t(m,x):!!O},v):e(c,d,t)}return Kc=u,Kc}var Zc,wg;function sy(){if(wg)return Zc;wg=1;var e=Gb(),t=Mn(),o=or(),n=wf(),u=zb(),c=sn();function d(v){return c(v)?"null":e(v)?"symbol":t(v)?"date":o(v)?"array":n(v)?"regexp":u(v)?"error":typeof v}return Zc=d,Zc}var Jc,yg;function ay(){if(yg)return Jc;yg=1;var e=Wo(),t=an();function o(n){return""+(t(n)?"":n)+e.keyId++}return Jc=o,Jc}var Qc,Eg;function cy(){if(Eg)return Qc;Eg=1;var e=Ub(),t=e(function(o,n,u){for(var c=o.length-1;c>=0;c--)if(n.call(u,o[c],c,o))return c;return-1});return Qc=t,Qc}var eu,Rg;function uy(){if(Rg)return eu;Rg=1;var e=$l(),t=cn();function o(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch{}return{}}return eu=o,eu}var tu,Sg;function dy(){if(Sg)return tu;Sg=1;var e=an();function t(o){return e(o)?"":JSON.stringify(o)}return tu=t,tu}var ru,Og;function fy(){if(Og)return ru;Og=1;var e=gf(),t=e("entries",2);return ru=t,ru}var ou,Dg;function Zb(){if(Dg)return ou;Dg=1;var e=ro(),t=or(),o=Ar(),n=Ef();function u(c,d){return function(v,m){var x,i,s={},R=[],O=this,S=arguments,F=S.length;if(!e(m)){for(i=1;i<F;i++)x=S[i],R.push.apply(R,t(x)?x:[x]);m=0}return o(v,function(_,q){((m?m.call(O,_,q,v):n(R,function(P){return P===q})>-1)?c:d)&&(s[q]=_)}),s}}return ou=u,ou}var nu,Mg;function hy(){if(Mg)return nu;Mg=1;var e=Zb(),t=e(1,0);return nu=t,nu}var lu,Tg;function py(){if(Tg)return lu;Tg=1;var e=Zb(),t=e(0,1);return lu=t,lu}var iu,Fg;function gy(){if(Fg)return iu;Fg=1;var e=zl();function t(o){return e(o)[0]}return iu=t,iu}var su,Ig;function vy(){if(Ig)return su;Ig=1;var e=zl();function t(o){var n=e(o);return n[n.length-1]}return su=t,su}var au,kg;function my(){if(kg)return au;kg=1;var e=yb(),t=xf(),o=To();function n(u,c){if(u){if(o(u,c))return!0;var d,v,m,x,i,s,R=t(c),O=0,S=R.length;for(i=u;O<S&&(s=!1,d=R[O],x=d?d.match(e):"",x?(v=x[1],m=x[2],v?i[v]&&o(i[v],m)&&(s=!0,i=i[v][m]):o(i,m)&&(s=!0,i=i[m])):o(i,d)&&(s=!0,i=i[d]),s);O++)if(O===S-1)return!0}return!1}return au=n,au}var cu,Ag;function by(){if(Ag)return cu;Ag=1;var e=yi(),t=xf(),o=mb(),n=To(),u=/(.+)?\[(\d+)\]$/;function c(m,x,i,s,R){if(m[x])i&&(m[x]=R);else{var O,S,F=x?x.match(u):null;if(i)S=R;else{var _=s?s.match(u):null;_&&!_[1]?S=new Array(e(_[2])+1):S={}}return F?F[1]?(O=e(F[2]),m[F[1]]?i?m[F[1]][O]=S:m[F[1]][O]?S=m[F[1]][O]:m[F[1]][O]=S:(m[F[1]]=new Array(O+1),m[F[1]][O]=S)):m[F[2]]=S:m[x]=S,S}return m[x]}function d(m,x,i){if(m&&o(x)){if((m[x]||n(m,x))&&!v(x))m[x]=i;else for(var s=m,R=t(x),O=R.length,S=0;S<O;S++)if(!v(R[S])){var F=S===O-1;s=c(s,R[S],F,F?null:R[S+1],i)}}return m}function v(m){return m==="__proto__"||m==="constructor"||m==="prototype"}return cu=d,cu}var uu,Lg;function Jb(){if(Lg)return uu;Lg=1;var e=Wb(),t=ss(),o=ro(),n=Bl(),u=Ar();function c(v){return function(){return e(v)}}function d(v,m,x){var i,s={};return v&&(m&&t(m)?m=c(m):o(m)||(m=n(m)),u(v,function(R,O){i=m?m.call(x,R,O,v):R,s[i]?s[i].push(R):s[i]=[R]})),s}return uu=d,uu}var du,Hg;function xy(){if(Hg)return du;Hg=1;var e=Jb(),t=Ci();function o(n,u,c){var d=e(n,u,c||this);return t(d,function(v,m){d[m]=v.length}),d}return du=o,du}var fu,_g;function Qb(){if(_g)return fu;_g=1;function e(t,o,n){var u,c,d=[],v=arguments;if(v.length<2&&(o=v[0],t=0),u=t>>0,c=o>>0,u<o)for(n=n>>0||1;u<c;u+=n)d.push(u);return d}return fu=e,fu}var hu,qg;function Cy(){if(qg)return hu;qg=1;var e=ln(),t=ll(),o=Vl(),n=Yr(),u=Fo();function c(d,v){if(d&&v){var m=u.apply(this,[{}].concat(t(arguments,1))),x=e(m);n(e(d),function(i){o(x,i)&&(d[i]=m[i])})}return d}return hu=c,hu}var pu,Pg;function wy(){if(Pg)return pu;Pg=1;var e=Db(),t=e(function(o,n){return o>n});return pu=t,pu}var gu,Ng;function us(){if(Ng)return gu;Ng=1;function e(t){return(t.split(".")[1]||"").length}return gu=e,gu}var vu,Bg;function Ei(){if(Bg)return vu;Bg=1;var e=yi();function t(o,n){if(o.repeat)return o.repeat(n);var u=isNaN(n)?[]:new Array(e(n));return u.join(o)+(u.length>0?o:"")}return vu=t,vu}var mu,$g;function ex(){if($g)return mu;$g=1;function e(t,o){return t.substring(0,o)+"."+t.substring(o,t.length)}return mu=e,mu}var bu,Vg;function Tn(){if(Vg)return bu;Vg=1;var e=Ei(),t=ex();function o(n){var u=""+n,c=u.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(c){var d=n<0,v=d?"-":"",m=c[3]||"",x=c[5]||"",i=c[6]||"",s=c[7],R=c[8],O=R-i.length,S=R-m.length,F=R-x.length;return s==="+"?m?v+m+e("0",R):O>0?v+x+i+e("0",O):v+x+t(i,R):m?S>0?v+"0."+e("0",Math.abs(S))+m:v+t(m,S):F>0?v+"0."+e("0",Math.abs(F))+x+i:v+t(x,F)+i}return u}return bu=o,bu}var xu,zg;function tx(){if(zg)return xu;zg=1;var e=us(),t=Tn();function o(n,u){var c=t(n),d=t(u);return parseInt(c.replace(".",""))*parseInt(d.replace(".",""))/Math.pow(10,e(c)+e(d))}return xu=o,xu}var Cu,Wg;function Rf(){if(Wg)return Cu;Wg=1;var e=tx(),t=nl(),o=Tn();function n(u){return function(c,d){var v=t(c),m=v;if(v){d=d>>0;var x=o(v),i=x.split("."),s=i[0],R=i[1]||"",O=R.substring(0,d+1),S=s+(O?"."+O:"");if(d>=R.length)return t(S);if(S=v,d>0){var F=Math.pow(10,d);m=Math[u](e(S,F))/F}else m=Math[u](S)}return m}}return Cu=n,Cu}var wu,Gg;function Sf(){if(Gg)return wu;Gg=1;var e=Rf(),t=e("round");return wu=t,wu}var yu,jg;function rx(){if(jg)return yu;jg=1;var e=Rf(),t=e("ceil");return yu=t,yu}var Eu,Ug;function ox(){if(Ug)return Eu;Ug=1;var e=Rf(),t=e("floor");return Eu=t,Eu}var Ru,Yg;function no(){if(Yg)return Ru;Yg=1;var e=an(),t=jo(),o=Tn();function n(u){return t(u)?o(u):""+(e(u)?"":u)}return Ru=n,Ru}var Su,Xg;function Of(){if(Xg)return Su;Xg=1;var e=Sf(),t=no(),o=Ei(),n=ex();function u(c,d){d=d>>0;var v=t(e(c,d)),m=v.split("."),x=m[0],i=m[1]||"",s=d-i.length;return d?s>0?x+"."+i+o("0",s):x+n(i,Math.abs(s)):x}return Su=u,Su}var Ou,Kg;function yy(){if(Kg)return Ou;Kg=1;var e=Wo(),t=Sf(),o=rx(),n=ox(),u=jo(),c=no(),d=Of(),v=Tn(),m=Fo();function x(i,s){var R=m({},e.commafyOptions,s),O=R.digits,S=u(i),F,_,q,P,V;return S?(F=(R.ceil?o:R.floor?n:t)(i,O),_=v(O?d(F,O):F).split("."),P=_[0],V=_[1],q=P&&F<0,q&&(P=P.substring(1,P.length))):(F=c(i).replace(/,/g,""),_=F?[F]:[],P=_[0]),_.length?(q?"-":"")+P.replace(new RegExp("(?=(?!(\\b))(.{"+(R.spaceNumber||3)+"})+$)","g"),R.separator||",")+(V?"."+V:""):F}return Ou=x,Ou}var Du,Zg;function Ey(){if(Zg)return Du;Zg=1;var e=yi(),t=Sb(),o=t(e);return Du=o,Du}var Mu,Jg;function Df(){if(Jg)return Mu;Jg=1;var e=tx(),t=nl();function o(n,u){var c=t(n),d=t(u);return e(c,d)}return Mu=o,Mu}var Tu,Qg;function nx(){if(Qg)return Tu;Qg=1;var e=us(),t=Tn(),o=Df();function n(u,c){var d=t(u),v=t(c),m=Math.pow(10,Math.max(e(d),e(v)));return(o(u,m)+o(c,m))/m}return Tu=n,Tu}var Fu,ev;function Ry(){if(ev)return Fu;ev=1;var e=nx(),t=nl();function o(n,u){return e(t(n),t(u))}return Fu=o,Fu}var Iu,tv;function Sy(){if(tv)return Iu;tv=1;var e=us(),t=Tn(),o=nl(),n=Of();function u(c,d){var v=o(c),m=o(d),x=t(v),i=t(m),s=e(x),R=e(i),O=Math.pow(10,Math.max(s,R)),S=s>=R?s:R;return parseFloat(n((v*O-m*O)/O,S))}return Iu=u,Iu}var ku,rv;function lx(){if(rv)return ku;rv=1;var e=us(),t=Tn(),o=Df();function n(u,c){var d=t(u),v=t(c),m=e(d),x=e(v),i=x-m,s=i<0,R=Math.pow(10,s?Math.abs(i):i);return o(d.replace(".","")/v.replace(".",""),s?1/R:R)}return ku=n,ku}var Au,ov;function Oy(){if(ov)return Au;ov=1;var e=lx(),t=nl();function o(n,u){return e(t(n),t(u))}return Au=o,Au}var Lu,nv;function ix(){if(nv)return Lu;nv=1;var e=nx(),t=ro(),o=or(),n=Ar(),u=wi();function c(d,v,m){var x=0;return n(d&&d.length>2&&o(d)?d.sort():d,v?t(v)?function(){x=e(x,v.apply(m,arguments))}:function(i){x=e(x,u(i,v))}:function(i){x=e(x,i)}),x}return Lu=c,Lu}var Hu,lv;function Dy(){if(lv)return Hu;lv=1;var e=lx(),t=Bb(),o=ix();function n(u,c,d){return e(o(u,c,d),t(u))}return Hu=n,Hu}var _u,iv;function Ri(){if(iv)return _u;iv=1;var e="first";return _u=e,_u}var qu,sv;function ds(){if(sv)return qu;sv=1;var e="last";return qu=e,qu}var Pu,av;function Si(){if(av)return Pu;av=1;function e(t){return t.getFullYear()}return Pu=e,Pu}var Nu,cv;function Wl(){if(cv)return Nu;cv=1;var e=864e5;return Nu=e,Nu}var Bu,uv;function fs(){if(uv)return Bu;uv=1;function e(t){return t.getMonth()}return Bu=e,Bu}var $u,dv;function bo(){if(dv)return $u;dv=1;var e=Mn(),t=mo();function o(n){return e(n)&&!isNaN(t(n))}return $u=o,$u}var Vu,fv;function Oi(){if(fv)return Vu;fv=1;var e=Ri(),t=ds(),o=Wl(),n=Si(),u=mo(),c=fs(),d=oo(),v=bo(),m=jo();function x(i,s,R){var O=s&&!isNaN(s)?s:0;if(i=d(i),v(i)){if(R===e)return new Date(n(i),c(i)+O,1);if(R===t)return new Date(u(x(i,O+1,e))-1);if(m(R)&&i.setDate(R),O){var S=i.getDate();if(i.setMonth(c(i)+O),S!==i.getDate())return i.setDate(1),new Date(u(i)-o)}}return i}return Vu=x,Vu}var zu,hv;function hs(){if(hv)return zu;hv=1;var e=Ri(),t=ds(),o=Si(),n=Oi(),u=oo(),c=bo();function d(v,m,x){var i;if(v=u(v),c(v)&&(m&&(i=m&&!isNaN(m)?m:0,v.setFullYear(o(v)+i)),x||!isNaN(x))){if(x===e)return new Date(o(v),0,1);if(x===t)return v.setMonth(11),n(v,0,t);v.setMonth(x)}return v}return zu=d,zu}var Wu,pv;function My(){if(pv)return Wu;pv=1;var e=Oi(),t=oo(),o=bo();function n(c){var d=c.getMonth();return d<3?1:d<6?2:d<9?3:4}function u(c,d,v){var m,x=d&&!isNaN(d)?d*3:0;return c=t(c),o(c)?(m=(n(c)-1)*3,c.setMonth(m),e(c,x,v)):c}return Wu=u,Wu}var Gu,gv;function sx(){if(gv)return Gu;gv=1;var e=Ri(),t=ds(),o=yi(),n=Si(),u=fs(),c=mo(),d=oo(),v=bo();function m(x,i,s){if(x=d(x),v(x)&&!isNaN(i)){if(x.setDate(x.getDate()+o(i)),s===e)return new Date(n(x),u(x),x.getDate());if(s===t)return new Date(c(m(x,1,e))-1)}return x}return Gu=m,Gu}var ju,vv;function ax(){if(vv)return ju;vv=1;function e(t){return t.toUpperCase()}return ju=e,ju}var Uu,mv;function cx(){if(mv)return Uu;mv=1;var e=Wl(),t=e*7;return Uu=t,Uu}var Yu,bv;function ux(){if(bv)return Yu;bv=1;var e=Wo(),t=Wl(),o=cx(),n=mo(),u=oo(),c=bo(),d=jo();function v(m,x,i,s){if(m=u(m),c(m)){var R=d(i),O=d(s),S=n(m);if(R||O){var F=O?s:e.firstDayOfWeek,_=m.getDay(),q=R?i:_;if(_!==q){var P=0;F>_?P=-(7-F+_):F<_&&(P=F-_),q>F?S+=((q===0?7:q)-F+P)*t:q<F?S+=(7-F+q+P)*t:S+=P*t}}return x&&!isNaN(x)&&(S+=x*o),new Date(S)}return m}return Yu=v,Yu}var Xu,xv;function dx(){if(xv)return Xu;xv=1;var e=Wo(),t=Wl(),o=cx(),n=jo(),u=Vl(),c=oo(),d=bo(),v=ux(),m=Qb(),x=Dn(),i=mo(),s=x(m(0,7),function(S){return[(S+1)%7,(S+2)%7,(S+3)%7]});function R(S,F){var _=new Date(S).getDay();return u(s[F],_)}function O(S,F){return function(_,q){var P=n(q)?q:e.firstDayOfWeek,V=c(_);if(d(V)){var G=v(V,0,P,P),ae=S(G),Q=i(ae),D=i(G),M=D+t*6,L=new Date(M),z=v(ae,0,P,P),J=i(z),k;if(D===J)return 1;if(F(G,L)){for(k=i(S(L));k<M;k+=t)if(R(k,P))return 1}var j=J+t*6,Z=new Date(M),ge=1;if(F(z,Z)){for(ge=0,k=Q;k<j;k+=t)if(R(k,P)){ge++;break}}return Math.floor((D-J)/o)+ge}return NaN}}return Xu=O,Xu}var Ku,Cv;function fx(){if(Cv)return Ku;Cv=1;var e=dx(),t=e(function(o){return new Date(o.getFullYear(),0,1)},function(o,n){return o.getFullYear()!==n.getFullYear()});return Ku=t,Ku}var Zu,wv;function Ty(){if(wv)return Zu;wv=1;var e=Si(),t=fs();function o(n){return new Date(e(n),t(n),n.getDate())}return Zu=o,Zu}var Ju,yv;function Fy(){if(yv)return Ju;yv=1;var e=mo(),t=Ty();function o(n){return e(t(n))}return Ju=o,Ju}var Qu,Ev;function hx(){if(Ev)return Qu;Ev=1;var e=Wl(),t=Ri(),o=Fy(),n=hs(),u=oo(),c=bo();function d(v){return v=u(v),c(v)?Math.floor((o(v)-o(n(v,0,t)))/e)+1:NaN}return Qu=d,Qu}var ed,Rv;function px(){if(Rv)return ed;Rv=1;var e=no(),t=Go(),o=Ei();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padStart?v.padStart(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),d.slice(0,c)+v):v}return ed=n,ed}var td,Sv;function gx(){if(Sv)return td;Sv=1;var e=Wo(),t=ax(),o=Si(),n=fs(),u=oo(),c=fx(),d=hx(),v=Fo(),m=bo(),x=ro(),i=px();function s(S,F,_,q){var P=F[_];return P?x(P)?P(q,_,S):P[q]:q}var R=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function O(S,F,_){if(S){if(S=u(S),m(S)){var q=F||e.parseDateFormat||e.formatString,P=S.getHours(),V=P<12?"am":"pm",G=v({},e.parseDateRules||e.formatStringMatchs,_?_.formats:null),ae=function(ve,fe){return(""+o(S)).substr(4-fe)},Q=function(ve,fe){return i(n(S)+1,fe,"0")},D=function(ve,fe){return i(S.getDate(),fe,"0")},M=function(ve,fe){return i(P,fe,"0")},L=function(ve,fe){return i(P<=12?P:P-12,fe,"0")},z=function(ve,fe){return i(S.getMinutes(),fe,"0")},J=function(ve,fe){return i(S.getSeconds(),fe,"0")},k=function(ve,fe){return i(S.getMilliseconds(),fe,"0")},j=function(ve,fe){var Me=S.getTimezoneOffset()/60*-1;return s(S,G,ve,(Me>=0?"+":"-")+i(Me,2,"0")+(fe===1?":":"")+"00")},Z=function(ve,fe){return i(s(S,G,ve,c(S,(_?_.firstDay:null)||e.firstDayOfWeek)),fe,"0")},ge=function(ve,fe){return i(s(S,G,ve,d(S)),fe,"0")},Ce={yyyy:ae,yy:ae,MM:Q,M:Q,dd:D,d:D,HH:M,H:M,hh:L,h:L,mm:z,m:z,ss:J,s:J,SSS:k,S:k,ZZ:j,Z:j,WW:Z,W:Z,DDD:ge,D:ge,a:function(ve){return s(S,G,ve,V)},A:function(ve){return s(S,G,ve,t(V))},e:function(ve){return s(S,G,ve,S.getDay())},E:function(ve){return s(S,G,ve,S.getDay())},q:function(ve){return s(S,G,ve,Math.floor((n(S)+3)/3))}};return q.replace(R,function(ve,fe){return fe||(Ce[ve]?Ce[ve](ve,ve.length):ve)})}return"Invalid Date"}return""}return td=O,td}var rd,Ov;function vx(){if(Ov)return rd;Ov=1;var e=mo(),t=cs(),o=Date.now||function(){return e(t())};return rd=o,rd}var od,Dv;function Iy(){if(Dv)return od;Dv=1;var e=mo(),t=vx(),o=oo(),n=Mn(),u=function(c,d){if(c){var v=o(c,d);return n(v)?e(v):v}return t()};return od=u,od}var nd,Mv;function ky(){if(Mv)return nd;Mv=1;var e=gx();function t(o,n,u){return o&&n?(o=e(o,u),o!=="Invalid Date"&&o===e(n,u)):!1}return nd=t,nd}var ld,Tv;function Ay(){if(Tv)return ld;Tv=1;var e=dx(),t=e(function(o){return new Date(o.getFullYear(),o.getMonth(),1)},function(o,n){return o.getMonth()!==n.getMonth()});return ld=t,ld}var id,Fv;function Ly(){if(Fv)return id;Fv=1;var e=hs(),t=oo(),o=bo(),n=qb();function u(c,d){return c=t(c),o(c)?n(e(c,d))?366:365:NaN}return id=u,id}var sd,Iv;function Hy(){if(Iv)return sd;Iv=1;var e=Wl(),t=Ri(),o=ds(),n=mo(),u=Oi(),c=oo(),d=bo();function v(m,x){return m=c(m),d(m)?Math.floor((n(u(m,x,o))-n(u(m,x,t)))/e)+1:NaN}return sd=v,sd}var ad,kv;function _y(){if(kv)return ad;kv=1;var e=mo(),t=cs(),o=oo(),n=bo(),u=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function c(d,v){var m,x,i,s,R,O,S={done:!1,time:0};if(d=o(d),v=v?o(v):t(),n(d)&&n(v)&&(m=e(d),x=e(v),m<x))for(s=S.time=x-m,S.done=!0,O=0,R=u.length;O<R;O++)i=u[O],s>=i[1]?O===R-1?S[i[0]]=s||0:(S[i[0]]=Math.floor(s/i[1]),s-=S[i[0]]*i[1]):S[i[0]]=0;return S}return ad=c,ad}var cd,Av;function qy(){if(Av)return cd;Av=1;var e=no(),t=Go(),o=Ei();function n(u,c,d){var v=e(u);return c=c>>0,d=t(d)?" ":""+d,v.padEnd?v.padEnd(c,d):c>v.length?(c-=v.length,c>d.length&&(d+=o(d,c/d.length)),v+d.slice(0,c)):v}return cd=n,cd}var ud,Lv;function Py(){if(Lv)return ud;Lv=1;var e=no(),t=Ei();function o(n,u){return t(e(n),u)}return ud=o,ud}var dd,Hv;function mx(){if(Hv)return dd;Hv=1;var e=no();function t(o){return o&&o.trimRight?o.trimRight():e(o).replace(/[\s\uFEFF\xA0]+$/g,"")}return dd=t,dd}var fd,_v;function bx(){if(_v)return fd;_v=1;var e=no();function t(o){return o&&o.trimLeft?o.trimLeft():e(o).replace(/^[\s\uFEFF\xA0]+/g,"")}return fd=t,fd}var hd,qv;function xx(){if(qv)return hd;qv=1;var e=mx(),t=bx();function o(n){return n&&n.trim?n.trim():e(t(n))}return hd=o,hd}var pd,Pv;function Cx(){if(Pv)return pd;Pv=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return pd=e,pd}var gd,Nv;function wx(){if(Nv)return gd;Nv=1;var e=no(),t=ln();function o(n){var u=new RegExp("(?:"+t(n).join("|")+")","g");return function(c){return e(c).replace(u,function(d){return n[d]})}}return gd=o,gd}var vd,Bv;function Ny(){if(Bv)return vd;Bv=1;var e=Cx(),t=wx(),o=t(e);return vd=o,vd}var md,$v;function By(){if($v)return md;$v=1;var e=Cx(),t=wx(),o=Ar(),n={};o(e,function(c,d){n[e[d]]=d});var u=t(n);return md=u,md}var bd,Vv;function yx(){if(Vv)return bd;Vv=1;function e(t,o,n){return t.substring(o,n)}return bd=e,bd}var xd,zv;function Ex(){if(zv)return xd;zv=1;function e(t){return t.toLowerCase()}return xd=e,xd}var Cd,Wv;function $y(){if(Wv)return Cd;Wv=1;var e=no(),t=yx(),o=ax(),n=Ex(),u={};function c(d){if(d=e(d),u[d])return u[d];var v=d.length,m=d.replace(/([-]+)/g,function(x,i,s){return s&&s+i.length<v?"-":""});return v=m.length,m=m.replace(/([A-Z]+)/g,function(x,i,s){var R=i.length;return i=n(i),s?R>2&&s+R<v?o(t(i,0,1))+t(i,1,R-1)+o(t(i,R-1,R)):o(t(i,0,1))+t(i,1,R):R>1&&s+R<v?t(i,0,R-1)+o(t(i,R-1,R)):i}).replace(/(-[a-zA-Z])/g,function(x,i){return o(t(i,1,i.length))}),u[d]=m,m}return Cd=c,Cd}var wd,Gv;function Vy(){if(Gv)return wd;Gv=1;var e=no(),t=yx(),o=Ex(),n={};function u(c){if(c=e(c),n[c])return n[c];if(/^[A-Z]+$/.test(c))return o(c);var d=c.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(v,m,x,i){var s=x.length;return s>1?m+"-"+o(t(x,0,s-1))+"-"+o(t(x,s-1,s))+i:o(m+"-"+x+i)}).replace(/^([A-Z]+)([a-z]+)?$/,function(v,m,x){var i=m.length;return o(t(m,0,i-1)+"-"+t(m,i-1,i)+(x||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(v,m,x,i,s){var R=x.length;return R>1&&(m&&(m+="-"),i)?(m||"")+o(t(x,0,R-1))+"-"+o(t(x,R-1,R))+i:(m||"")+(s?"-":"")+o(x)+(i||"")});return d=d.replace(/([-]+)/g,function(v,m,x){return x&&x+m.length<d.length?"-":""}),n[c]=d,d}return wd=u,wd}var yd,jv;function zy(){if(jv)return yd;jv=1;var e=no();function t(o,n,u){var c=e(o);return(arguments.length===1?c:c.substring(u)).indexOf(n)===0}return yd=t,yd}var Ed,Uv;function Wy(){if(Uv)return Ed;Uv=1;var e=no();function t(o,n,u){var c=e(o),d=arguments.length;return d>1&&(d>2?c.substring(0,u).indexOf(n)===u-1:c.indexOf(n)===c.length-1)}return Ed=t,Ed}var Rd,Yv;function Rx(){if(Yv)return Rd;Yv=1;var e=Wo(),t=no(),o=xx(),n=wi();function u(c,d,v){return t(c).replace((v||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(m,x){return n(d,o(x))})}return Rd=u,Rd}var Sd,Xv;function Gy(){if(Xv)return Sd;Xv=1;var e=Rx();function t(o,n){return e(o,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Sd=t,Sd}var Od,Kv;function jy(){if(Kv)return Od;Kv=1;function e(){}return Od=e,Od}var Dd,Zv;function Uy(){if(Zv)return Dd;Zv=1;var e=ll();function t(o,n){var u=e(arguments,2);return function(){return o.apply(n,e(arguments).concat(u))}}return Dd=t,Dd}var Md,Jv;function Yy(){if(Jv)return Md;Jv=1;var e=ll();function t(o,n){var u=!1,c=null,d=e(arguments,2);return function(){return u||(c=o.apply(n,e(arguments).concat(d)),u=!0),c}}return Md=t,Md}var Td,Qv;function Xy(){if(Qv)return Td;Qv=1;var e=ll();function t(o,n,u){var c=0,d=[];return function(){var v=arguments;c++,c<=o&&d.push(v[0]),c>=o&&n.apply(u,[d].concat(e(v)))}}return Td=t,Td}var Fd,em;function Ky(){if(em)return Fd;em=1;var e=ll();function t(o,n,u){var c=0,d=[];return u=u||this,function(){var v=arguments;c++,c<o&&(d.push(v[0]),n.apply(u,[d].concat(e(v))))}}return Fd=t,Fd}var Id,tm;function Zy(){if(tm)return Id;tm=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x="leading"in d?d.leading:!0,i="trailing"in d?d.trailing:!1,s=function(){u=null,c=null},R=function(){v=!0,t.apply(c,u),m=setTimeout(O,o),s()},O=function(){m=null,!v&&i===!0&&R()},S=function(){var _=m!==null;return _&&clearTimeout(m),s(),m=null,v=!1,_},F=function(){u=arguments,c=this,v=!1,m===null&&(x===!0?R():i===!0&&(m=setTimeout(O,o)))};return F.cancel=S,F}return Id=e,Id}var kd,rm;function Jy(){if(rm)return kd;rm=1;function e(t,o,n){var u=null,c=null,d=n||{},v=!1,m=null,x=typeof n=="boolean",i="leading"in d?d.leading:x,s="trailing"in d?d.trailing:!x,R=function(){u=null,c=null},O=function(){v=!0,t.apply(c,u),R()},S=function(){i===!0&&(m=null),!v&&s===!0&&O()},F=function(){var q=m!==null;return q&&clearTimeout(m),R(),m=null,v=!1,q},_=function(){v=!1,u=arguments,c=this,m===null?i===!0&&O():clearTimeout(m),m=setTimeout(S,o)};return _.cancel=F,_}return kd=e,kd}var Ad,om;function Qy(){if(om)return Ad;om=1;var e=ll();function t(o,n){var u=e(arguments,2),c=this;return setTimeout(function(){o.apply(c,u)},n)}return Ad=t,Ad}var Ld,nm;function Sx(){if(nm)return Ld;nm=1;var e=decodeURIComponent;return Ld=e,Ld}var Hd,lm;function Ox(){if(lm)return Hd;lm=1;var e=Sx(),t=Yr(),o=cn();function n(u){var c,d={};return u&&o(u)&&t(u.split("&"),function(v){c=v.split("="),d[e(c[0])]=e(c[1]||"")}),d}return Hd=n,Hd}var _d,im;function Dx(){if(im)return _d;im=1;var e=encodeURIComponent;return _d=e,_d}var qd,sm;function eE(){if(sm)return qd;sm=1;var e=Dx(),t=Ar(),o=or(),n=sn(),u=Go(),c=$l();function d(m,x,i){var s,R=[];return t(m,function(O,S){s=o(O),c(O)||s?R=R.concat(d(O,x+"["+S+"]",s)):R.push(e(x+"["+(i?"":S)+"]")+"="+e(n(O)?"":O))}),R}function v(m){var x,i=[];return t(m,function(s,R){u(s)||(x=o(s),c(s)||x?i=i.concat(d(s,R,x)):i.push(e(R)+"="+e(n(s)?"":s)))}),i.join("&").replace(/%20/g,"+")}return qd=v,qd}var Pd,am;function ps(){if(am)return Pd;am=1;var e=Io(),t=typeof location===e?0:location;return Pd=t,Pd}var Nd,cm;function Mx(){if(cm)return Nd;cm=1;var e=ps();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Nd=t,Nd}var Bd,um;function Tx(){if(um)return Bd;um=1;var e=ps(),t=Ox(),o=Mx();function n(c){return t(c.split("?")[1]||"")}function u(c){var d,v,m,x,i=""+c;return i.indexOf("//")===0?i=(e?e.protocol:"")+i:i.indexOf("/")===0&&(i=o()+i),m=i.replace(/#.*/,"").match(/(\?.*)/),x={href:i,hash:"",host:"",hostname:"",protocol:"",port:"",search:m&&m[1]&&m[1].length>1?m[1]:""},x.path=i.replace(/^([a-z0-9.+-]*:)\/\//,function(s,R){return x.protocol=R,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(s,R,O){return v=O||"",x.port=v.replace(":",""),x.hostname=R,x.host=R+v,"/"}).replace(/(#.*)/,function(s,R){return x.hash=R.length>1?R:"",""}),d=x.hash.match(/#((.*)\?|(.*))/),x.pathname=x.path.replace(/(\?|#.*).*/,""),x.origin=x.protocol+"//"+x.host,x.hashKey=d&&(d[2]||d[1])||"",x.hashQuery=n(x.hash),x.searchQuery=n(x.search),x}return Bd=u,Bd}var $d,dm;function tE(){if(dm)return $d;dm=1;var e=ps(),t=Mx(),o=Nb();function n(){if(e){var u=e.pathname,c=o(u,"/")+1;return t()+(c===u.length?u:u.substring(0,c))}return""}return $d=n,$d}var Vd,fm;function rE(){if(fm)return Vd;fm=1;var e=ps(),t=Tx();function o(){return e?t(e.href):{}}return Vd=o,Vd}var zd,hm;function oE(){if(hm)return zd;hm=1;var e=Wo(),t=yf(),o=Sx(),n=Dx(),u=or(),c=ss(),d=Mn(),v=Go(),m=Vl(),x=ln(),i=Fo(),s=Yr(),R=cs(),O=mo(),S=hs(),F=Oi(),_=sx();function q(z,J){var k=parseFloat(J),j=R(),Z=O(j);switch(z){case"y":return O(S(j,k));case"M":return O(F(j,k));case"d":return O(_(j,k));case"h":case"H":return Z+k*60*60*1e3;case"m":return Z+k*60*1e3;case"s":return Z+k*1e3}return Z}function P(z){return(d(z)?z:new Date(z)).toUTCString()}function V(z,J,k){if(t){var j,Z,ge,Ce,ve,fe,Me=[],Re=arguments;return u(z)?Me=z:Re.length>1?Me=[i({name:z,value:J},k)]:c(z)&&(Me=[z]),Me.length>0?(s(Me,function(re){j=i({},e.cookies,re),ge=[],j.name&&(Z=j.expires,ge.push(n(j.name)+"="+n(c(j.value)?JSON.stringify(j.value):j.value)),Z&&(isNaN(Z)?Z=Z.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(ue,X,oe){return P(q(oe,X))}):/^[0-9]{11,13}$/.test(Z)||d(Z)?Z=P(Z):Z=P(q("d",Z)),j.expires=Z),s(["expires","path","domain","secure"],function(ue){v(j[ue])||ge.push(j[ue]&&ue==="secure"?ue:ue+"="+j[ue])})),t.cookie=ge.join("; ")}),!0):(Ce={},ve=t.cookie,ve&&s(ve.split("; "),function(re){fe=re.indexOf("="),Ce[o(re.substring(0,fe))]=o(re.substring(fe+1)||"")}),Re.length===1?Ce[z]:Ce)}return!1}function G(z){return m(M(),z)}function ae(z){return V(z)}function Q(z,J,k){return V(z,J,k),V}function D(z,J){V(z,"",i({expires:-1},e.cookies,J))}function M(){return x(V())}function L(){return V()}return i(V,{has:G,set:Q,setItem:Q,get:ae,getItem:ae,remove:D,removeItem:D,keys:M,getJSON:L}),zd=V,zd}var Wd,pm;function nE(){if(pm)return Wd;pm=1;var e=Io(),t=yf(),o=jb(),n=Fo(),u=Yr();function c(m){try{var x="__xe_t";return m.setItem(x,1),m.removeItem(x),!0}catch{return!1}}function d(m){return navigator.userAgent.indexOf(m)>-1}function v(){var m,x,i,s=!1,R=!1,O=!1,S={isNode:!1,isMobile:s,isPC:!1,isDoc:!!t};if(!o&&typeof process!==e)S.isNode=!0;else{i=d("Edge"),x=d("Chrome"),s=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),S.isDoc&&(m=t.body||t.documentElement,u(["webkit","khtml","moz","ms","o"],function(F){S["-"+F]=!!m[F+"MatchesSelector"]}));try{R=c(o.localStorage)}catch{}try{O=c(o.sessionStorage)}catch{}n(S,{edge:i,firefox:d("Firefox"),msie:!i&&S["-ms"],safari:!x&&!i&&d("Safari"),isMobile:s,isPC:!s,isLocalStorage:R,isSessionStorage:O})}return S}return Wd=v,Wd}var Gd,gm;function lE(){if(gm)return Gd;gm=1;var e=xw(),t=Fo(),o=Ci(),n=vb(),u=Cw(),c=ww(),d=Dn(),v=bb(),m=xb(),x=Cb(),i=Yr(),s=mf(),R=wb(),O=yw(),S=bf(),F=Ew(),_=Cf(),q=Rb(),P=Rw(),V=ll(),G=Sw(),ae=Ow(),Q=Vl(),D=Dw(),M=Mw(),L=Tw(),z=Fw(),J=Iw(),k=kw(),j=Tb(),Z=Aw(),ge=Lw(),Ce=Ob(),ve=Hw(),fe=_w(),Me=qw(),Re=Pw(),re=Lb(),ue=Nw(),X=Bw(),oe=$w(),te=Hb(),le=_b(),we=To(),ie=or(),Oe=sn(),de=Vw(),he=Go(),Te=ro(),me=ss(),ce=cn(),Ie=$l(),Ee=qb(),Ye=Mn(),Le=an(),Ue=Ar(),_e=Ww(),lt=Gw(),yt=jw(),Ct=Nb(),it=ln(),vt=zl(),xt=vf(),Xe=Bb(),Ve=Ib(),ft=Ab(),ze=kb(),ot=Uw(),Ae=Yw(),Be=$b(),$e=Vb(),Ze=jo(),Rt=wf(),At=zb(),ne=Xw(),se=Wb(),be=Gb(),ke=Kw(),Fe=Zw(),et=Jw(),tt=Qw(),wt=ey(),bt=ty(),nt=ry(),Mt=oy(),ht=ny(),$t=ly(),nr=Kb(),Zt=iy(),Vt=sy(),zt=ay(),er=Ef(),ct=cy(),Lt=uy(),St=dy(),gr=fy(),tr=hy(),Pt=py(),Lr=gy(),Gt=vy(),jt=my(),lr=wi(),ir=by(),yr=Jb(),Er=xy(),xr=Qb(),vr=Cy(),Cr=Eb(),Ot=Mb(),ut=wy(),cr=yy(),Xr=Sf(),po=rx(),Br=ox(),Fn=Of(),Gl=Ey(),In=nl(),il=Tn(),jl=Ry(),Ul=Sy(),sl=Df(),kn=Oy(),al=ix(),Yl=Dy(),cl=hs(),h=My(),xo=Oi(),An=sx(),Hr=oo(),Kr=gx(),ul=vx(),Ln=Iy(),ko=bo(),un=ky(),Co=ux(),Uo=hx(),Xl=fx(),Zr=Ay(),dl=Ly(),Yo=Hy(),Hn=_y(),Ao=qy(),wo=px(),dn=Py(),fl=xx(),fn=mx(),hn=bx(),_n=Ny(),yo=By(),qn=$y(),Pn=Vy(),Eo=zy(),Nn=Wy(),Jr=Rx(),ur=Gy(),$r=no(),pn=jy(),Lo=Bl(),lo=Uy(),io=Yy(),gn=Xy(),Rr=Ky(),Xo=Zy(),Ho=Jy(),Ko=Qy(),Ro=Ox(),hl=eE(),Tt=Tx(),mr=tE(),Tr=rE(),Bn=oE(),Zo=nE();return t(e,{assign:t,objectEach:o,lastObjectEach:n,objectMap:u,merge:c,uniq:R,union:O,sortBy:F,orderBy:_,shuffle:q,sample:P,some:v,every:m,slice:V,filter:G,find:D,findLast:M,findKey:ae,includes:Q,arrayIndexOf:te,arrayLastIndexOf:le,map:d,reduce:L,copyWithin:z,chunk:J,zip:k,unzip:j,zipObject:Z,flatten:ge,toArray:S,includeArrays:x,pluck:Ce,invoke:ve,arrayEach:i,lastArrayEach:s,toArrayTree:fe,toTreeArray:Me,findTree:Re,eachTree:re,mapTree:ue,filterTree:X,searchTree:oe,hasOwnProp:we,eqNull:Le,isNaN:de,isFinite:ot,isUndefined:he,isArray:ie,isFloat:Ae,isInteger:Be,isFunction:Te,isBoolean:$e,isString:ce,isNumber:Ze,isRegExp:Rt,isObject:me,isPlainObject:Ie,isDate:Ye,isError:At,isTypeError:ne,isEmpty:se,isNull:Oe,isSymbol:be,isArguments:ke,isElement:Fe,isDocument:et,isWindow:tt,isFormData:wt,isMap:bt,isWeakMap:nt,isSet:Mt,isWeakSet:ht,isLeapYear:Ee,isMatch:$t,isEqual:nr,isEqualWith:Zt,getType:Vt,uniqueId:zt,getSize:Xe,indexOf:yt,lastIndexOf:Ct,findIndexOf:er,findLastIndexOf:ct,toStringJSON:Lt,toJSONString:St,keys:it,values:vt,entries:gr,pick:tr,omit:Pt,first:Lr,last:Gt,each:Ue,forOf:_e,lastForOf:lt,lastEach:Ve,has:jt,get:lr,set:ir,groupBy:yr,countBy:Er,clone:xt,clear:ze,remove:ft,range:xr,destructuring:vr,random:Cr,min:ut,max:Ot,commafy:cr,round:Xr,ceil:po,floor:Br,toFixed:Fn,toNumber:In,toNumberString:il,toInteger:Gl,add:jl,subtract:Ul,multiply:sl,divide:kn,sum:al,mean:Yl,now:ul,timestamp:Ln,isValidDate:ko,isDateSame:un,toStringDate:Hr,toDateString:Kr,getWhatYear:cl,getWhatQuarter:h,getWhatMonth:xo,getWhatWeek:Co,getWhatDay:An,getYearDay:Uo,getYearWeek:Xl,getMonthWeek:Zr,getDayOfYear:dl,getDayOfMonth:Yo,getDateDiff:Hn,trim:fl,trimLeft:hn,trimRight:fn,escape:_n,unescape:yo,camelCase:qn,kebabCase:Pn,repeat:dn,padStart:wo,padEnd:Ao,startsWith:Eo,endsWith:Nn,template:Jr,toFormatString:ur,toString:$r,toValueString:$r,noop:pn,property:Lo,bind:lo,once:io,after:gn,before:Rr,throttle:Xo,debounce:Ho,delay:Ko,unserialize:Ro,serialize:hl,parseUrl:Tt,getBaseURL:mr,locat:Tr,browse:Zo,cookie:Bn}),Gd=e,Gd}var iE=lE();const f=iw(iE);var kl=null,jd=null,mn=null,vm="z-index-manage",jn=null,mm="z-index-style",Fx="m",Ix="s",mi={m:1e3,s:1e3};function Mf(){return kl||typeof document<"u"&&(kl=document),kl}function kx(){return kl&&!jd&&(jd=kl.body||kl.getElementsByTagName("body")[0]),jd}function sE(){var e=0,t=Mf();if(t){var o=kx();if(o)for(var n=o.getElementsByTagName("*"),u=0;u<n.length;u++){var c=n[u];if(c&&c.style&&c.nodeType===1){var d=c.style.zIndex;d&&/^\d+$/.test(d)&&(e=Math.max(e,Number(d)))}}}return e}function aE(){if(!jn){var e=Mf();e&&(jn=e.getElementById(mm),jn||(jn=e.createElement("style"),jn.id=mm,e.getElementsByTagName("head")[0].appendChild(jn)))}return jn}function Ax(){var e=aE();if(e){var t="--dom-",o="-z-index";e.innerHTML=":root{"+t+"main"+o+":"+gs()+";"+t+"sub"+o+":"+If()+"}"}}function Lx(){if(!mn){var e=Mf();if(e&&(mn=e.getElementById(vm),!mn)){var t=kx();t&&(mn=e.createElement("div"),mn.id=vm,mn.style.display="none",t.appendChild(mn),Tf(mi.m),Ff(mi.s))}}return mn}function Hx(e){return function(t){if(t){t=Number(t),mi[e]=t;var o=Lx();o&&(o.dataset?o.dataset[e]=t+"":o.setAttribute("data-"+e,t+""))}return Ax(),mi[e]}}var Tf=Hx(Fx);function _x(e,t){return function(n){var u,c=Lx();if(c){var d=c.dataset?c.dataset[e]:c.getAttribute("data-"+e);d&&(u=Number(d))}return u||(u=mi[e]),n?Number(n)<u?t():n:u}}var gs=_x(Fx,qx);function qx(){return Tf(gs()+1)}var Ff=Hx(Ix),Px=_x(Ix,Nx);function If(){return gs()+Px()}function Nx(){return Ff(Px()+1),If()}var kf={setCurrent:Tf,getCurrent:gs,getNext:qx,setSubCurrent:Ff,getSubCurrent:If,getSubNext:Nx,getMax:sE};Ax();const _l={size:"",version:1,zIndex:999,resizeInterval:500},Bx={theme:""};function Af(e){const t=!e||e==="default"?"light":e;if(Bx.theme=t,typeof document<"u"){const o=document.documentElement;o&&o.setAttribute("data-vxe-ui-theme",t)}return ol}function cE(){return Bx.theme}function uE(e){return e&&(e.zIndex&&kf.setCurrent(e.zIndex),e.theme&&Af(e.theme),f.merge(_l,e)),ol}function dE(e,t){return arguments.length?f.get(_l,e,t):_l}const fE={},sf={};function hE(e){return e&&Object.assign(sf,e),ol}function pE(e){return arguments.length?f.get(sf,e):sf}const Kn={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},af=f.browse(),bm={" ":"Spacebar",Apps:Kn.CONTEXT_MENU,Del:Kn.DELETE,Up:Kn.ARROW_UP,Down:Kn.ARROW_DOWN,Left:Kn.ARROW_LEFT,Right:Kn.ARROW_RIGHT},$x=af.firefox?"DOMMouseScroll":"mousewheel",cf=[];function Qo(e){const t=e.type===$x;cf.forEach(({type:o,cb:n})=>{e.cancelBubble||(o===e.type||t&&o==="mousewheel")&&n(e)})}class gE{constructor(t,o,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,o),f.objectEach(n,(u,c)=>{if(f.isFunction(u)){let d=null,v=!1;Object.defineProperty(this,c,{get(){return v||(v=!0,d=u()),d}})}else this[c]=u})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const vE=(e,t,o)=>new gE(e,t,o),mE={on(e,t,o){cf.push({comp:e,type:t,cb:o})},off(e,t){f.remove(cf,o=>o.comp===e&&o.type===t)},hasKey(e,t){const{key:o}=e;return t=t.toLowerCase(),o?t===o.toLowerCase()||!!(bm[o]&&bm[o].toLowerCase()===t):!1}};af.isDoc&&(af.msie||(window.addEventListener("copy",Qo,!1),window.addEventListener("cut",Qo,!1),window.addEventListener("paste",Qo,!1)),document.addEventListener("keydown",Qo,!1),document.addEventListener("contextmenu",Qo,!1),window.addEventListener("mousedown",Qo,!1),window.addEventListener("blur",Qo,!1),window.addEventListener("resize",Qo,!1),window.addEventListener($x,f.throttle(Qo,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let xm;const Jn=[],bE=500;function xE(){Jn.length&&(Jn.forEach(e=>{e.tarList.forEach(t=>{const{target:o,width:n,heighe:u}=t,c=o.clientWidth,d=o.clientHeight;(c&&n!==c||d&&u!==d)&&(t.width=c,t.heighe=d,setTimeout(e.callback))})}),Vx())}function Vx(){clearTimeout(xm),xm=setTimeout(xE,_l.resizeInterval||bE)}class CE{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:o}=this;o.some(n=>n.target===t)||o.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),Jn.length||Vx(),Jn.some(n=>n===this)||Jn.push(this)}}unobserve(t){f.remove(Jn,o=>o.tarList.some(n=>n.target===t))}disconnect(){f.remove(Jn,t=>t===this)}}const wE={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new CE(e)}},ql=to({language:"",langMaps:{}});let Cm=!1,Ui={};function zx(e,t){const{langMaps:o,language:n}=ql,{i18n:u}=_l;if(u)return`${u(e,t)||""}`;if(Cm||(o[n]||console.error(`[vxe core] Language not installed. https://${ol.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),Cm=!0),!t&&Ui[e])return Ui[e];const c=f.toFormatString(f.get(o[n],e,e),t);return t||(Ui[e]=c),c}function yE(e){const{language:t}=ql,o=e||"zh-CN";return t!==o&&(ql.language=o,Ui={}),ol}function EE(e,t){return ql.langMaps[e]=Object.assign({},t),ol}function RE(e){const{langMaps:t}=ql;return!!t[e]}function SE(){const{language:e}=ql;return e}function Ud(e,t){return function(o,n){const u=`[vxe ${t||""}] ${zx(o,n)}`;return console[e](u),u}}const wm="4.1.5",Vo={create:Ud,warn:Ud("warn",`v${wm}`),err:Ud("error",`v${wm}`)},ri={},Dl={mixin(e){return f.each(e,(t,o)=>Dl.add(o,t)),Dl},get(e){return ri[e]||null},add(e,t){if(e&&t){const o=ri[e];o?(f.each(t,(n,u)=>{!f.eqNull(o[u])&&o[u]!==n&&Vo.warn("vxe.error.coverProp",[`Renderer.${e}`,u])}),Object.assign(o,t)):ri[e]=t}return Dl},forEach(e){return f.objectEach(ri,e),Dl},delete(e){return delete ri[e],Dl}};class Wx{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t],u=f.keys(n);return f.each(o,(c,d)=>{u.includes(d)&&Vo.warn("vxe.error.coverProp",[t,d])}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const Gx=new Wx;Object.assign(Gx,{_name:"Validators"});class OE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];f.isFunction(o)&&(Vo.warn("vxe.error.delProp",["menus -> callback","menuMethod"]),o={menuMethod:o});const u=f.keys(n);return f.each(o,(c,d)=>{u.includes(d)&&Vo.warn("vxe.error.coverProp",[t,d])}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const jx=new OE;Object.assign(jx,{_name:"Menus"});class DE{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];f.isFunction(o)&&(Vo.warn("vxe.error.delProp",["formats -> callback","cellFormatMethod"]),o={cellFormatMethod:o});const u=f.keys(n);return f.each(o,(c,d)=>{u.includes(d)&&Vo.warn("vxe.error.coverProp",[t,d])}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const Ux=new DE;Object.assign(Ux,{_name:"Formats"});class ME{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return f.each(t,(o,n)=>{this.add(n,o)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,o){const n=this.store[t];f.isFunction(o)&&(Vo.warn("vxe.error.delProp",["commands -> callback","commandMethod"]),o={commandMethod:o});const u=f.keys(n);return f.each(o,(c,d)=>{u.includes(d)&&Vo.warn("vxe.error.coverProp",[t,d])}),this.store[t]=n?f.merge(n,o):o,this}delete(t){delete this.store[t]}forEach(t){f.objectEach(this.store,t)}}const Yx=new ME;Object.assign(Yx,{_name:"Commands"});const oi={},Yi={mixin(e){return f.each(e,(t,o)=>{Yi.add(o,t)}),Yi},get(e){return oi[e]||[]},add(e,t){f.isFunction(t)&&(t={tableInterceptorMethod:t});const o=t.tableInterceptorMethod;if(o){let n=oi[e];n||(n=oi[e]=[]),n.indexOf(o)>-1&&Vo.warn("vxe.error.coverProp",["Interceptor",e]),n.push(o)}return Yi},delete(e,t){const o=oi[e];if(o){f.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?f.remove(o,u=>u===n):delete oi[e]}}};let Bo;const ni={text:"",html:""};function TE(e){if(!Bo){Bo=document.createElement("textarea"),Bo.id="$VxeCopy";const t=Bo.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(Bo)}Bo.value=e}const FE={getStore(){return ni},setStore(e){Object.assign(ni,e||{})},copy(e){let t=!1;try{const o=f.toValueString(e);TE(o),Bo.select(),Bo.setSelectionRange(0,Bo.value.length),t=document.execCommand("copy"),Bo.blur(),ni.text=o,ni.html=""}catch{}return t},getText(){return ni.text||""}};function Xi(e,t){let o=!0,n=!1;const u=t||_l.permissionMethod;if(e&&u){o=!1,n=!0;let d=!1,v=!1;const m=String(e).split("|");for(let x=0;x<m.length;x++){const i=m[x];let s=!0,R=!1;const O=u({code:i});if(f.isBoolean(O)?s=O:O&&(s=!!O.visible,R=!!O.disabled),!R&&!v&&(v=!0,n=R),s&&!d&&(d=!0,o=s),d&&v)break}}return{code:e,visible:o,disabled:n}}const IE={getCheckInfo(e){return Xi(e)},checkVisible(e){return Xi(e).visible},checkDisable(e){return Xi(e).disabled}},kE=new Wx;function AE(e){const t=Pr("xeSizeInfo",null),o=qe(()=>e.size||(t?t.value:null));return On("xeSizeInfo",o),{computeSize:o}}function LE(e){return{computePermissionInfo:qe(()=>Xi(e.permissionCode,e.permissionMethod))}}const HE={useSize:AE,usePermission:LE},ym=[];function _E(e,t){return e&&e.install&&ym.indexOf(e)===-1&&(e.install(xe,t),ym.push(e)),xe}const uf={};function qE(e){return uf[e]||null}function PE(e){e&&e.name&&(uf[e.name]=e,uf[f.kebabCase(e.name)]=e)}function NE(){return Qe()}const xe=Object.assign(ol,{renderEmptyElement:NE,setTheme:Af,getTheme:cE,setConfig:uE,getConfig:dE,setIcon:hE,getIcon:pE,setLanguage:yE,hasLanguage:RE,getLanguage:SE,setI18n:EE,getI18n:zx,globalEvents:mE,GLOBAL_EVENT_KEYS:Kn,createEvent:vE,globalResize:wE,renderer:Dl,validators:Gx,menus:jx,formats:Ux,commands:Yx,interceptor:Yi,clipboard:FE,log:Vo,permission:IE,globalStore:fE,hooks:kE,component:PE,getComponent:qE,useFns:HE,use:_E});Af();function Et(e){return e&&e.enabled!==!1}function Lf(e){return e==null||e===""}function Xx(e){const t=e.name,o=f.lastIndexOf(t,"."),n=t.substring(o+1,t.length).toLowerCase();return{filename:t.substring(0,o),type:n}}function Kx(){return kf.getNext()}function Zx(){return kf.getCurrent()}function Fl(e){return e&&e.children&&e.children.length>0}function zo(e,t){if(e){const o=xe.getConfig().translate;return f.toValueString(o?o(""+e,t):e)}return""}function Mr(e,t){return""+(Lf(e)?t?xe.getConfig().emptyCell:"":e)}function rn(e){return e===""||f.eqNull(e)}const Jx="4.13.39";xe.version=Jx;xe.tableVersion=Jx;xe.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},aggregateConfig:{padding:!0,rowField:"id",parentField:"_X_ROW_PARENT_KEY",childrenField:"_X_ROW_CHILDREN",mapChildrenField:"_X_ROW_CHILD_LIST",indent:20,showIcon:!0},treeConfig:{padding:!0,rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isAll:!0,isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{gt:24,preSize:1,oSize:0},virtualYConfig:{gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const kt="vxe-table-icon-";xe.setIcon({TABLE_SORT_ASC:kt+"caret-up",TABLE_SORT_DESC:kt+"caret-down",TABLE_FILTER_NONE:kt+"funnel",TABLE_FILTER_MATCH:kt+"funnel",TABLE_EDIT:kt+"edit",TABLE_TITLE_PREFIX:kt+"question-circle-fill",TABLE_TITLE_SUFFIX:kt+"question-circle-fill",TABLE_TREE_LOADED:kt+"spinner roll",TABLE_TREE_OPEN:kt+"caret-right rotate90",TABLE_TREE_CLOSE:kt+"caret-right",TABLE_EXPAND_LOADED:kt+"spinner roll",TABLE_EXPAND_OPEN:kt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:kt+"arrow-right",TABLE_CHECKBOX_CHECKED:kt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:kt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:kt+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:kt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:kt+"radio-unchecked",TABLE_CUSTOM_SORT:kt+"drag-handle",TABLE_MENU_OPTIONS:kt+"arrow-right",TABLE_DRAG_ROW:kt+"drag-handle",TABLE_DRAG_COLUMN:kt+"drag-handle",TABLE_DRAG_STATUS_ROW:kt+"sort",TABLE_DRAG_STATUS_SUB_ROW:kt+"add-sub",TABLE_DRAG_STATUS_COLUMN:kt+"swap",TABLE_DRAG_DISABLED:kt+"no-drop",TABLE_ROW_GROUP_OPEN:kt+"arrow-right rotate90",TABLE_ROW_GROUP_CLOSE:kt+"arrow-right",TABLE_AGGREGATION_GROUPING:kt+"grouping",TABLE_AGGREGATION_VALUES:kt+"values",TABLE_AGGREGATION_DELETE:kt+"close",TOOLBAR_TOOLS_REFRESH:kt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:kt+"repeat roll",TOOLBAR_TOOLS_IMPORT:kt+"upload",TOOLBAR_TOOLS_EXPORT:kt+"download",TOOLBAR_TOOLS_PRINT:kt+"print",TOOLBAR_TOOLS_FULLSCREEN:kt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:kt+"minimize",TOOLBAR_TOOLS_CUSTOM:kt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:kt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:kt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:kt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:kt+"fixed-right-fill"});xe.setTheme;xe.getTheme;xe.setConfig;xe.getConfig;xe.setIcon;xe.getIcon;xe.setLanguage;xe.setI18n;xe.getI18n;xe.globalEvents;xe.globalResize;xe.renderer;xe.validators;xe.menus;xe.formats;xe.commands;xe.interceptor;xe.clipboard;xe.log;xe.hooks;xe.use;const BE=e=>xe.setConfig(e);xe.setup=BE;const $E=e=>xe.setConfig(e);xe.config=$E;const VE=(e,t)=>xe.getI18n(e,t);xe.t=VE;const zE=(e,t)=>zo(e,t);xe._t=zE;const ho=ls,{log:Qx}=xe,eC="table v4.13.39",st=Qx.create("warn",eC),je=Qx.create("error",eC),{getI18n:WE,formats:Em}=xe;class df{constructor(t,o,{renderHeader:n,renderCell:u,renderFooter:c,renderData:d}={}){const v=t.props,m=t.xeGrid,x=o.formatter,i=f.isBoolean(o.visible)?o.visible:!0,s=["seq","checkbox","radio","expand","html"];if(o.type&&s.indexOf(o.type)===-1&&st("vxe.error.errProp",[`type=${o.type}`,s.join(", ")]),(f.isBoolean(o.cellRender)||o.cellRender&&!f.isObject(o.cellRender))&&st("vxe.error.errProp",[`column.cell-render=${o.cellRender}`,"column.cell-render={}"]),(f.isBoolean(o.editRender)||o.editRender&&!f.isObject(o.editRender))&&st("vxe.error.errProp",[`column.edit-render=${o.editRender}`,"column.edit-render={}"]),o.type==="expand"){const{treeConfig:R}=v,{computeTreeOpts:O}=t.getComputeMaps(),S=O.value;R&&(S.showLine||S.line)&&je("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(x){if(f.isString(x)){const R=Em.get(x)||f[x];(!R||!f.isFunction(R.tableCellFormatMethod||R.cellFormatMethod))&&je("vxe.error.notFormats",[x])}else if(f.isArray(x)){const R=Em.get(x[0])||f[x[0]];(!R||!f.isFunction(R.tableCellFormatMethod||R.cellFormatMethod))&&je("vxe.error.notFormats",[x[0]])}}if(Object.assign(this,{type:o.type,property:o.field,field:o.field,title:o.title,width:o.width,minWidth:o.minWidth,maxWidth:o.maxWidth,resizable:o.resizable,fixed:o.fixed,align:o.align,headerAlign:o.headerAlign,footerAlign:o.footerAlign,showOverflow:o.showOverflow,showHeaderOverflow:o.showHeaderOverflow,showFooterOverflow:o.showFooterOverflow,className:o.className,headerClassName:o.headerClassName,footerClassName:o.footerClassName,formatter:x,footerFormatter:o.footerFormatter,padding:o.padding,verticalAlign:o.verticalAlign,sortable:o.sortable,sortBy:o.sortBy,sortType:o.sortType,filters:Pf(o.filters),filterMultiple:f.isBoolean(o.filterMultiple)?o.filterMultiple:!0,filterMethod:o.filterMethod,filterResetMethod:o.filterResetMethod,filterRecoverMethod:o.filterRecoverMethod,filterRender:o.filterRender,rowGroupNode:o.rowGroupNode,treeNode:o.treeNode,dragSort:o.dragSort,rowResize:o.rowResize,cellType:o.cellType,cellRender:o.cellRender,editRender:o.editRender,contentRender:o.contentRender,headerExportMethod:o.headerExportMethod,exportMethod:o.exportMethod,footerExportMethod:o.footerExportMethod,titleHelp:o.titleHelp,titlePrefix:o.titlePrefix,titleSuffix:o.titleSuffix,aggFunc:o.aggFunc,params:o.params,id:o.colId||f.uniqueId("col_"),parentId:null,visible:i,halfVisible:!1,defaultVisible:i,defaultFixed:o.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderAggFn:"",renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||o.renderHeader,renderCell:u||o.renderCell,renderFooter:c||o.renderFooter,renderData:d,slots:o.slots}),m){const{computeProxyOpts:R}=m.getComputeMaps(),O=R.value;O.beforeColumn&&O.beforeColumn({$grid:m,column:this})}}getTitle(){return zo(this.title||(this.type==="seq"?WE("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,o){t!=="filters"&&(t==="field"&&(this.property=o),this[t]=o)}}const Yd={};let Il;function tC(){return Il||(Il=new Image,Il.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),Il}function ff(){return Il||tC()}function wn(e,t){return e?f.isFunction(e)?e(t):e:""}function rC(e){return Yd[e]||(Yd[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),Yd[e]}function hf(e){return e&&/^\d+(px)?$/.test(e)}function Ml(e){return e&&/^\d+%$/.test(e)}function on(e,t){return!!(e&&e.className&&e.className.match&&e.className.match(rC(t)))}function eo(e,t){e&&on(e,t)&&(e.className=e.className.replace(rC(t),""))}function Do(e,t){e&&!on(e,t)&&(eo(e,t),e.className=`${e.className} ${t}`)}function pi(e){return e.ctrlKey||e.metaKey}function bi(e,t="px"){return f.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function en(e,t){return e?e.querySelector(t):null}function vs(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function li(e){return e?e.offsetHeight:0}function pf(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingTop),n=f.toNumber(t.paddingBottom);return o+n}return 0}function Wt(e,t){e&&(e.scrollTop=t)}function Ut(e,t){e&&(e.scrollLeft=t)}function Hf(e,t){const o=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==o&&e.setAttribute("title",o)}function Bt(e,t,o,n){let u,c=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;c&&c.nodeType&&c!==document;){if(o&&on(c,o)&&(!n||n(c)))u=c;else if(c===t)return{flag:o?!!u:!0,container:t,targetElem:u};c=c.parentNode}return{flag:!1}}function Ki(e){const t=e.getBoundingClientRect(),o=t.top,n=t.left,{scrollTop:u,scrollLeft:c,visibleHeight:d,visibleWidth:v}=vs();return{boundingTop:o,top:u+o,boundingLeft:n,left:c+n,visibleHeight:d,visibleWidth:v}}const Rm="scrollIntoViewIfNeeded",Sm="scrollIntoView";function GE(e){e&&(e[Rm]?e[Rm]():e[Sm]&&e[Sm]())}function jE(e,t){e&&e.dispatchEvent(new Event(t))}const oC=(e,t)=>{const o=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(u=>u.visible)?(o.push(n),o.push(...oC(n.children,n))):o.push(n))}),o},UE=e=>{let t=1;const o=(c,d)=>{if(d&&(c.level=d.level+1,t<c.level&&(t=c.level)),c.children&&c.children.length&&c.children.some(v=>v.visible)){let v=0;c.children.forEach(m=>{m.visible&&(o(m,c),v+=m.colSpan)}),c.colSpan=v}else c.colSpan=1};e.forEach(c=>{c.level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return oC(e).forEach(c=>{c.children&&c.children.length&&c.children.some(d=>d.visible)?c.rowSpan=1:c.rowSpan=t-c.level+1,n[c.level-1].push(c)}),n};function _i(e,t,o){const n=e.internalData;return t||o?(n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,o)):e.clearScroll()}function gi(){return f.uniqueId("row_")}function YE(e){return e.indexOf(".")>-1}function Un(e){const{currKeyField:t}=e.internalData;return t}function Ne(e,t){const o=e.internalData,{isCurrDeepKey:n,currKeyField:u}=o;return t?ms((n?_f:qf)(t,u)):""}function Om(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:n}=t,u=o?XE:KE;return{rowKey:n,handleUpdateRowId(c){return c?u(c,n):""}}}function br(e){const t=e.internalData,{isCurrDeepKey:o,currKeyField:n}=t,u=o?_f:qf;return{rowKey:n,handleGetRowId(c){return c?ms(u(c,n)):""}}}function ms(e){return f.eqNull(e)?"":encodeURIComponent(e)}function _f(e,t){return f.get(e,t)}function XE(e,t){let o=ms(_f(e,t));return rn(o)&&(o=gi(),f.set(e,t,o)),o}function qf(e,t){return e[t]}function KE(e,t){let o=ms(qf(e,t));return rn(o)&&(o=gi(),e[t]=o),o}function sr(e,t){return t?f.isString(t)||f.isNumber(t)?e.getColumnByField(`${t}`):t:null}function Dm(e,t){if(t){const o=f.isString(t)||f.isNumber(t)?t:Ne(e,t);return e.getRowById(o)}return null}function Xd(e,t,o,n){return e.resizeHeight||t.height||o.height||e.height||n}function Mm(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.paddingLeft),n=f.toNumber(t.paddingRight);return o+n}return 0}function bn(e){if(e){const t=getComputedStyle(e),o=f.toNumber(t.marginLeft),n=f.toNumber(t.marginRight);return e.offsetWidth+o+n}return 0}function Pf(e){return e&&f.isArray(e)?e.map(({label:t,value:o,data:n,resetValue:u,checked:c})=>({label:t,value:o,data:n,resetValue:u,checked:!!c,_checked:!!c})):e}function Tm(e){return e.map((t,o)=>o%2===0?Number(t)+1:".").join("")}function wr(e,t){return f.get(e,t.field)}function Mo(e,t,o){return f.set(e,t.field,o)}function rt(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function Qi(e){return e==="unset"?0:e||0}function Fm(e){const{$table:t,column:o,cell:n}=e,u=t.props,c=t.internalData,{computeResizableOpts:d}=t.getComputeMaps(),v=d.value,{minWidth:m}=v;if(m){const ae=f.isFunction(m)?m(e):m;if(ae!=="auto")return Math.max(1,f.toNumber(ae))}const{elemStore:x}=c,{showHeaderOverflow:i}=u,{showHeaderOverflow:s,minWidth:R}=o,O=f.isUndefined(s)||f.isNull(s)?i:s,q=O==="title"||(O===!0||O==="tooltip")||O==="ellipsis",P=f.floor((f.toNumber(getComputedStyle(n).fontSize)||14)*1.8),V=Mm(n)+Mm(en(n,".vxe-cell"));let G=P+V;if(q){const ae=bn(en(n,".vxe-cell--drag-handle")),Q=bn(en(n,".vxe-cell--checkbox")),D=bn(en(n,".vxe-cell--required-icon")),M=bn(en(n,".vxe-cell--edit-icon")),L=bn(en(n,".vxe-cell-title-prefix-icon")),z=bn(en(n,".vxe-cell-title-suffix-icon")),J=bn(en(n,".vxe-cell--sort")),k=bn(en(n,".vxe-cell--filter"));G+=ae+Q+D+M+L+z+k+J}if(R){const ae=rt(x["main-body-scroll"]);if(ae){if(Ml(R)){const D=(ae.clientWidth-1)/100;return Math.max(G,Math.floor(f.toInteger(R)*D))}else if(hf(R))return Math.max(G,f.toInteger(R))}}return G}function Zi(e){return e&&(e.constructor===df||e instanceof df)}function ZE(e,t,o){return Zi(t)?t:to(new df(e,t,o))}function nC(e,t,o){Object.keys(t).forEach(n=>{It(()=>t[n],u=>{o.update(n,u),e&&(n==="filters"?(e.setFilter(o,u),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function lC(e,t,o,n){const{reactData:u}=e,{staticColumns:c}=u,d=t.parentNode,v=n?n.columnConfig:null,m=v?v.children:c;d&&m&&(m.splice(f.arrayIndexOf(d.children,t),0,o),u.staticColumns=c.slice(0))}function iC(e,t){const{reactData:o}=e,{staticColumns:n}=o,u=f.findTree(n,c=>c.id===t.id,{children:"children"});u&&u.items.splice(u.index,1),o.staticColumns=n.slice(0)}function Im(e,t){const{internalData:o}=e,{fullColumnIdData:n}=o;if(!t)return null;let u=t.parentId;for(;n[u];){const c=n[u].column;if(u=c.parentId,!u)return c}return t}const JE={mini:3,small:2,medium:1,large:0},sC=(e,t)=>{let o=1;if(!e)return o;const{$table:n}=t,{computeTreeOpts:u}=n.getComputeMaps(),c=u.value,{transform:d,mapChildrenField:v}=c,m=c.children||c.childrenField,x=e[d?v:m];if(x&&n.isTreeExpandByRow(e))for(let i=0;i<x.length;i++)o+=sC(x[i],t);return o},aC=e=>{const{computeSize:t}=e.getComputeMaps(),o=t.value;return o&&JE[o]||0};function QE(e,t){const{$table:o,row:n}=e,u=o.props,c=o.reactData,d=o.internalData,{showOverflow:v}=u,{scrollYLoad:m}=c,{fullAllDataRowIdData:x}=d,{computeRowOpts:i,computeCellOpts:s,computeDefaultRowHeight:R}=o.getComputeMaps(),O=i.value,S=s.value,F=R.value,_=Ne(o,n),q=x[_],P=q.resizeHeight||S.height||O.height||q.height||F;let V=1;t&&(V=sC(t,e));let G=P;const ae=q.height;return m&&(v||(G=ae||P)),G*V-(t?1:12-aC(o))}function eR(e){const{props:t,internalData:o}=e;return o.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function tR(e){return e.clearFilter&&e.clearFilter(),eR(e)}function km(e,t){const o=e.props,n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d,computeRowOpts:v,computeCellOpts:m,computeDefaultRowHeight:x}=e.getComputeMaps(),{showOverflow:i}=o,{scrollYLoad:s,scrollYTop:R}=n,{elemStore:O,afterFullData:S,fullAllDataRowIdData:F,isResizeCellHeight:_}=u,q=v.value,P=m.value,V=x.value,G=c.value,ae=d.value,Q=rt(O["main-body-scroll"]),D=Ne(e,t);if(Q){const M=Q.clientHeight,L=Q.scrollTop,z=Q.querySelector(`[rowid="${D}"]`);if(z){const J=z.offsetTop+(s?R:0),k=z.clientHeight;if(J<L||J>L+M)return e.scrollTo(null,J);if(J+k>=M+L)return e.scrollTo(null,L+k)}else if(s){if(!(_||P.height||q.height)&&i)return e.scrollTo(null,(e.findRowIndexOf(S,t)-1)*V);let k=0;const j=F[D]||{},Z=j.resizeHeight||P.height||q.height||j.height||V;for(let ge=0;ge<S.length;ge++){const Ce=S[ge],ve=Ne(e,Ce);if(Ce===t||ve===D)break;const fe=F[ve]||{};k+=fe.resizeHeight||P.height||q.height||fe.height||V}return k<L?e.scrollTo(null,k-G-1):e.scrollTo(null,k+Z-(M-ae-1))}}return Promise.resolve()}function Am(e,t,o){const n=e.reactData,u=e.internalData,{computeLeftFixedWidth:c,computeRightFixedWidth:d}=e.getComputeMaps(),{scrollXLoad:v,scrollXLeft:m}=n,{elemStore:x,visibleColumn:i}=u,s=c.value,R=d.value,O=rt(x["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(O){const S=O.clientWidth,F=O.scrollLeft;let _=null;if(o){const q=Ne(e,o);_=O.querySelector(`[rowid="${q}"] .${t.id}`)}if(_||(_=O.querySelector(`.${t.id}`)),_){const q=_.offsetLeft+(v?m:0),P=_.clientWidth;if(q<F+s)return e.scrollTo(q-s-1);if(q+P-F>S-R)return e.scrollTo(q+P-(S-R-1))}else if(v){let q=0;const P=t.renderWidth;for(let V=0;V<i.length;V++){const G=i[V];if(G===t||G.id===t.id)break;q+=G.renderWidth}return q<F?e.scrollTo(q-s-1):e.scrollTo(q+P-(S-R-1))}}return Promise.resolve()}function En(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function cC(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function uC(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function qr(e){return e==null?[]:f.isArray(e)?e:[e]}const{getI18n:ii,getIcon:rr,renderer:fi,formats:Lm,renderEmptyElement:yn}=xe;function rR(e){const{$table:t,column:o}=e,n=o.titlePrefix||o.titleHelp;return n?w("span",{class:["vxe-cell-title-prefix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}},[w("i",{class:n.icon||rr().TABLE_TITLE_PREFIX})]):yn(t)}function oR(e){const{$table:t,column:o}=e,n=o.titleSuffix;return n?w("span",{class:["vxe-cell-title-suffix-icon",n.iconStatus?`theme--${n.iconStatus}`:""],onMouseenter(u){t.triggerHeaderTitleEvent(u,n,e)},onMouseleave(u){t.handleTargetLeaveEvent(u)}},[w("i",{class:n.icon||rr().TABLE_TITLE_SUFFIX})]):yn(t)}function Hm(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,c=t.props,{slots:d}=o,{dragConfig:v}=c,{computeRowDragOpts:m}=t.getComputeMaps(),x=m.value,{icon:i,trigger:s,disabledMethod:R}=x,O=R||(v?v.rowDisabledMethod:null),S=O&&O(e),F=(d?d.rowDragIcon||d["row-drag-icon"]:null)||u.rowDragIcon||u["row-drag-icon"],_={};return s!=="cell"&&(_.onMousedown=q=>{S||t.handleCellDragMousedownEvent(q,e)},_.onMouseup=t.handleCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":S}]},_),F?t.callSlot(F,e):[w("i",{class:i||(v?v.rowIcon:"")||rr().TABLE_DRAG_ROW})])}function kr(e,t){const{$table:o,column:n,level:u}=e,{dragSort:c}=n,d=o.props,{treeConfig:v,dragConfig:m}=d,{computeRowOpts:x,computeRowDragOpts:i,computeTreeOpts:s}=o.getComputeMaps(),R=x.value,O=i.value,S=s.value,{showIcon:F,isPeerDrag:_,isCrossDrag:q,visibleMethod:P}=O,V=P||(m?m.rowVisibleMethod:null),G=[];return c&&R.drag&&(F||m&&m.showRowIcon)&&(!V||V(e))&&(v?S.transform&&(_||q||!u)&&G.push(Hm(e)):G.push(Hm(e))),G.concat(f.isArray(t)?t:[t])}function nR(e){const{$table:t,column:o}=e,{context:n}=t,u=n.slots,{slots:c}=o,{computeColumnOpts:d,computeColumnDragOpts:v}=t.getComputeMaps(),m=d.value,x=v.value,{showIcon:i,icon:s,trigger:R,isPeerDrag:O,isCrossDrag:S,visibleMethod:F,disabledMethod:_}=x;if(m.drag&&i&&(!F||F(e))&&!o.fixed&&(O||S||!o.parentId)){const q=_&&_(e),P=(c?c.columnDragIcon||c["column-drag-icon"]:null)||u.columnDragIcon||u["column-drag-icon"],V={};return R!=="cell"&&(V.onMousedown=G=>{q||t.handleHeaderCellDragMousedownEvent(G,e)},V.onMouseup=t.handleHeaderCellDragMouseupEvent),w("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":q}]},V),P?t.callSlot(P,e):[w("i",{class:s||rr().TABLE_DRAG_COLUMN})])}return yn(t)}function _o(e,t){return[rR(e),nR(e),...f.isArray(t)?t:[t],oR(e)]}function xn(e,t){const{$table:o,column:n}=e,u=o.props,c=o.reactData,{computeTooltipOpts:d}=o.getComputeMaps(),{showHeaderOverflow:v}=u,{type:m,showHeaderOverflow:x}=n,s=d.value.showAll,R=f.isUndefined(x)||f.isNull(x)?v:x,O=R==="title",S=R===!0||R==="tooltip",F={};return(O||S||s)&&(F.onMouseenter=_=>{c.isDragResize||(O?Hf(_.currentTarget,n):(S||s)&&o.triggerHeaderTooltipEvent(_,e))}),(S||s)&&(F.onMouseleave=_=>{c.isDragResize||(S||s)&&o.handleTargetLeaveEvent(_)}),[m==="html"&&f.isString(t)?w("span",Object.assign({class:"vxe-cell--title",innerHTML:t},F)):w("span",Object.assign({class:"vxe-cell--title"},F),qr(t))]}function lR(e){const{$table:t,column:o,_columnIndex:n,items:u,row:c}=e,{slots:d,editRender:v,cellRender:m,footerFormatter:x}=o,i=v||m,s=d?d.footer:null;if(s)return t.callSlot(s,e);let R="";f.isArray(u)?R=u[n]:R=f.get(c,o.field);const O=Object.assign(e,{itemValue:R});if(x){if(f.isFunction(x))return[w("span",{class:"vxe-cell--label"},`${x(O)}`)];const S=f.isArray(x),F=S?Lm.get(x[0]):Lm.get(x),_=F?F.tableFooterCellFormatMethod:null;return _?[w("span",{class:"vxe-cell--label"},`${S?_(O,...x.slice(1)):_(O)}`)]:[w("span",{class:"vxe-cell--label"},"")]}if(i){const S=fi.get(i.name);if(S){const F=S.renderTableFooter||S.renderFooter;if(F)return qr(F(i,O))}}return[w("span",{class:"vxe-cell--label"},Mr(R,1))]}function _m(e){const{$table:t,row:o,column:n}=e;return Mr(t.getCellLabel(o,n),1)}function iR(e){const{column:t,row:o,$table:n}=e,u=n.props,c=n.reactData,{isRowGroupStatus:d}=c,{editConfig:v}=u,{type:m,treeNode:x,rowGroupNode:i,editRender:s}=t,{computeEditOpts:R,computeCheckboxOpts:O,computeAggregateOpts:S}=n.getComputeMaps(),F=S.value,{mode:_}=F,q=O.value,P=R.value,V=x||d&&(_==="column"?t.field===o.groupField:i);switch(m){case"seq":return V?gt.renderDeepIndexCell(e):gt.renderSeqCell(e);case"radio":return V?gt.renderDeepRadioCell(e):gt.renderRadioCell(e);case"checkbox":return q.checkField?V?gt.renderDeepSelectionCellByProp(e):gt.renderCheckboxCellByProp(e):V?gt.renderDeepSelectionCell(e):gt.renderCheckboxCell(e);case"expand":return gt.renderExpandCell(e);case"html":return V?gt.renderDeepHTMLCell(e):gt.renderHTMLCell(e)}return Et(v)&&s?P.mode==="cell"?V?gt.renderDeepCellEdit(e):gt.renderCellEdit(e):V?gt.renderDeepRowEdit(e):gt.renderRowEdit(e):V?gt.renderDeepCell(e):gt.renderDefaultCell(e)}function sR(e){const{column:t,$table:o}=e,n=o.props,{editConfig:u}=n,{type:c,filters:d,sortable:v,editRender:m}=t;switch(c){case"seq":return gt.renderSeqHeader(e);case"radio":return gt.renderRadioHeader(e);case"checkbox":return gt.renderCheckboxHeader(e);case"html":if(d&&v)return gt.renderSortAndFilterHeader(e);if(v)return gt.renderSortHeader(e);if(d)return gt.renderFilterHeader(e);break}return u&&m?gt.renderEditHeader(e):d&&v?gt.renderSortAndFilterHeader(e):v?gt.renderSortHeader(e):d?gt.renderFilterHeader(e):gt.renderDefaultHeader(e)}function aR(e){return gt.renderDefaultFooter(e)}const gt={createColumn(e,t){const{type:o}=t,n={renderHeader:sR,renderCell:iR,renderFooter:aR};return o==="expand"&&(n.renderData=gt.renderExpandData),ZE(e,t,n)},renderHeaderTitle(e){const{$table:t,column:o}=e,{slots:n,editRender:u,cellRender:c}=o,d=u||c,v=n?n.header:null;if(v)return xn(e,t.callSlot(v,e));if(d){const m=fi.get(d.name);if(m){const x=m.renderTableHeader||m.renderHeader;if(x)return xn(e,qr(x(d,e)))}}return xn(e,Mr(o.getTitle(),1))},renderDefaultHeader(e){return _o(e,gt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:o,column:n}=e,u=t.reactData,c=t.internalData,{isRowGroupStatus:d}=u,{field:v,slots:m,editRender:x,cellRender:i,rowGroupNode:s,aggFunc:R}=n,O=x||i,S=m?m.default:null;if(S)return kr(e,t.callSlot(S,e));if(O){const q=fi.get(O.name);if(q){const P=q.renderTableCell||q.renderCell,V=q.renderTableDefault||q.renderDefault,G=x?P:V;if(G)return kr(e,qr(G(O,Object.assign({$type:x?"edit":"cell"},e))))}}let F="";if(d&&v&&o.isAggregate){const q=o,{fullColumnFieldData:P}=c,{computeAggregateOpts:V}=t.getComputeMaps(),G=V.value,{mode:ae,showTotal:Q,totalMethod:D,countFields:M,contentMethod:L,mapChildrenField:z}=G,J=G.aggregateMethod||G.countMethod,k=q.groupField,j=q.groupContent,Z=z?q[z]||[]:[],ge=q.childCount,Ce=P[k]||{},ve={$table:t,groupField:k,groupColumn:Ce?Ce.column:null,column:n,groupValue:j,children:Z,childCount:ge,aggValue:null,totalValue:ge};(ae==="column"?v===q.groupField:s)?(F=j,L&&(F=`${L(ve)}`),Q&&(F=ii("vxe.table.rowGroupContentTotal",[F,D?D(ve):ge,ge]))):t.getPivotTableAggregateCellAggValue?F=t.getPivotTableAggregateCellAggValue(e):(R===!0||M&&M.includes(v))&&J&&(ve.aggValue=ge,F=`${J(ve)}`)}else F=t.getCellLabel(o,n);const _=x?x.placeholder:"";return kr(e,[w("span",{class:"vxe-cell--label"},[x&&rn(F)?w("span",{class:"vxe-cell--placeholder"},Mr(zo(_),1)):w("span",Mr(F,1))])])},renderDeepCell(e){return gt.renderDeepNodeBtn(e,gt.renderDefaultCell(e))},renderDefaultFooter(e){return lR(e)},renderRowGroupBtn(e,t){const{$table:o}=e,n=o.reactData,u=o.internalData,{row:c,level:d}=e,{computeAggregateOpts:v}=o.getComputeMaps(),{rowGroupExpandedFlag:m}=n,{rowGroupExpandedMaps:x}=u,i=v.value,{padding:s,indent:R}=i,O=Ne(o,c),S=!!m&&!!x[O];return w("div",{class:["vxe-row-group--tree-node",{"is--expanded":S}],style:s&&R?{paddingLeft:`${d*R}px`}:void 0},[c.isAggregate?w("span",{class:"vxe-row-group--node-btn",onClick(F){o.triggerRowGroupExpandEvent(F,e)}},[w("i",{class:S?rr().TABLE_ROW_GROUP_OPEN:rr().TABLE_ROW_GROUP_CLOSE})]):yn(o),w("div",{class:"vxe-row-group-cell"},t)])},renderTreeNodeBtn(e,t){const{$table:o,isHidden:n}=e,u=o.reactData,c=o.internalData,{row:d,column:v,level:m}=e,{slots:x}=v,i=x?x.icon:null;if(i)return o.callSlot(i,e);const{computeTreeOpts:s}=o.getComputeMaps(),{treeExpandedFlag:R}=u,{fullAllDataRowIdData:O,treeExpandedMaps:S,treeExpandLazyLoadedMaps:F}=c,_=s.value,{padding:q,indent:P,lazy:V,trigger:G,iconLoaded:ae,showIcon:Q,iconOpen:D,iconClose:M}=_,L=_.children||_.childrenField,z=_.hasChild||_.hasChildField,J=d[L],k=J&&J.length;let j=!1,Z=!1,ge=!1,Ce=!1;const ve={};if(!n){const fe=Ne(o,d);if(Z=!!R&&!!S[fe],V){const Me=O[fe];ge=!!F[fe],j=d[z],Ce=!!Me.treeLoaded}}return(!G||G==="default")&&(ve.onClick=fe=>{o.triggerTreeExpandEvent(fe,e)}),w("div",{class:["vxe-cell--tree-node",{"is--active":Z}],style:q&&P?{paddingLeft:`${m*P}px`}:void 0},[Q&&(V?Ce?k:k||j:k)?[w("div",Object.assign({class:"vxe-cell--tree-btn"},ve),[w("i",{class:ge?ae||rr().TABLE_TREE_LOADED:Z?D||rr().TABLE_TREE_OPEN:M||rr().TABLE_TREE_CLOSE})])]:null,w("div",{class:"vxe-tree-cell"},t)])},renderDeepNodeBtn(e,t){const{$table:o,row:n,column:u}=e,{rowGroupNode:c}=u,d=o.reactData,{rowGroupList:v}=d;if(v.length){const{computeAggregateOpts:m}=o.getComputeMaps(),x=m.value,{mode:i}=x;if(i==="column"?u.field===n.groupField:c)return[gt.renderRowGroupBtn(e,t)]}return[gt.renderTreeNodeBtn(e,t)]},renderSeqHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null;return _o(e,xn(e,u?t.callSlot(u,e):Mr(o.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:o}=e,n=t.props,{treeConfig:u}=n,{computeSeqOpts:c}=t.getComputeMaps(),d=c.value,{slots:v}=o,m=v?v.default:null;if(m)return kr(e,t.callSlot(m,e));const{seq:x}=e,i=d.seqMethod;return kr(e,[w("span",`${Mr(i?i(e):u?x:(d.startIndex||0)+x,1)}`)])},renderDeepIndexCell(e){return gt.renderDeepNodeBtn(e,gt.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.header:null,c=n?n.title:null;return _o(e,xn(e,u?t.callSlot(u,e):[w("span",{class:"vxe-radio--label"},c?t.callSlot(c,e):Mr(o.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeRadioOpts:c}=t.getComputeMaps(),{selectRadioRow:d}=u,v=c.value,{slots:m}=o,{labelField:x,checkMethod:i,visibleMethod:s}=v,{row:R}=e,O=m?m.default:null,S=m?m.radio:null,F=t.eqRow(R,d),_=!s||s({$table:t,row:R});let q=!!i,P;n||(P={onClick(ae){!q&&_&&t.triggerRadioRowEvent(ae,e)}},i&&(q=!i({$table:t,row:R})));const V=Object.assign(Object.assign({},e),{checked:F,disabled:q,visible:_});if(S)return kr(e,t.callSlot(S,V));const G=[];return _&&G.push(w("span",{class:["vxe-radio--icon",F?rr().TABLE_RADIO_CHECKED:rr().TABLE_RADIO_UNCHECKED]})),(O||x)&&G.push(w("span",{class:"vxe-radio--label"},O?t.callSlot(O,V):f.get(R,x))),kr(e,[w("span",Object.assign({class:["vxe-cell--radio",{"is--checked":F,"is--disabled":q}]},P),G)])},renderDeepRadioCell(e){return gt.renderDeepNodeBtn(e,gt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:o,isHidden:n}=e,u=t.reactData,{computeIsAllCheckboxDisabled:c,computeCheckboxOpts:d}=t.getComputeMaps(),{isAllSelected:v,isIndeterminate:m}=u,x=c.value,{slots:i}=o,s=i?i.header:null,R=i?i.title:null,O=d.value,{checkStrictly:S,showHeader:F,headerTitle:_}=O,q=o.getTitle(),P={};n||(P.onClick=G=>{x||t.triggerCheckAllEvent(G,!v)});const V=Object.assign(Object.assign({},e),{checked:v,disabled:x,indeterminate:m});return s?_o(e,xn(V,t.callSlot(s,V))):(S?!F:F===!1)?_o(e,xn(V,[w("span",{class:"vxe-checkbox--label"},R?t.callSlot(R,V):q)])):_o(e,xn(V,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":v,"is--disabled":x,"is--indeterminate":m}],title:f.eqNull(_)?ii("vxe.table.allTitle"):`${_||""}`},P),[w("span",{class:["vxe-checkbox--icon",m?rr().TABLE_CHECKBOX_INDETERMINATE:v?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})].concat(R||q?[w("span",{class:"vxe-checkbox--label"},R?t.callSlot(R,V):q)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{selectCheckboxMaps:s,treeIndeterminateRowMaps:R}=v,{computeCheckboxOpts:O}=t.getComputeMaps(),S=O.value,{labelField:F,checkMethod:_,visibleMethod:q}=S,{slots:P}=n,V=P?P.default:null,G=P?P.checkbox:null;let ae=!1,Q=!1;const D=!q||q({$table:t,row:o});let M=!!_;const L={};if(!u){const k=Ne(t,o);Q=!!x&&!!s[k],L.onClick=j=>{!M&&D&&t.triggerCheckRowEvent(j,e,!Q)},_&&(M=!_({$table:t,row:o})),(m||i)&&(ae=!!R[k])}const z=Object.assign(Object.assign({},e),{checked:Q,disabled:M,visible:D,indeterminate:ae});if(G)return kr(e,t.callSlot(G,z));const J=[];return D&&J.push(w("span",{class:["vxe-checkbox--icon",ae?rr().TABLE_CHECKBOX_INDETERMINATE:Q?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(V||F)&&J.push(w("span",{class:"vxe-checkbox--label"},V?t.callSlot(V,z):f.get(o,F))),kr(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":Q,"is--disabled":M,"is--indeterminate":ae,"is--hidden":!D}]},L),J)])},renderDeepSelectionCell(e){return gt.renderDeepNodeBtn(e,gt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:o,column:n,isHidden:u}=e,c=t.props,d=t.reactData,v=t.internalData,{treeConfig:m}=c,{updateCheckboxFlag:x,isRowGroupStatus:i}=d,{treeIndeterminateRowMaps:s}=v,{computeCheckboxOpts:R}=t.getComputeMaps(),O=R.value,{labelField:S,checkField:F,checkMethod:_,visibleMethod:q}=O,P=O.indeterminateField||O.halfField,{slots:V}=n,G=V?V.default:null,ae=V?V.checkbox:null;let Q=!1,D=!1;const M=!q||q({$table:t,row:o});let L=!!_;const z={};if(!u){const j=Ne(t,o);D=!!x&&f.get(o,F),z.onClick=Z=>{!L&&M&&t.triggerCheckRowEvent(Z,e,!D)},_&&(L=!_({$table:t,row:o})),(m||i)&&(Q=!!s[j])}const J=Object.assign(Object.assign({},e),{checked:D,disabled:L,visible:M,indeterminate:Q});if(ae)return kr(e,t.callSlot(ae,J));const k=[];return M&&(k.push(w("span",{class:["vxe-checkbox--icon",Q?rr().TABLE_CHECKBOX_INDETERMINATE:D?rr().TABLE_CHECKBOX_CHECKED:rr().TABLE_CHECKBOX_UNCHECKED]})),(G||S)&&k.push(w("span",{class:"vxe-checkbox--label"},G?t.callSlot(G,J):f.get(o,S)))),kr(e,[w("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":D,"is--disabled":L,"is--indeterminate":P&&!D?o[P]:Q,"is--hidden":!M}]},z),k)])},renderDeepSelectionCellByProp(e){return gt.renderDeepNodeBtn(e,gt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:o,row:n,column:u}=e,c=t.reactData,d=t.internalData,{isRowGroupStatus:v}=c,{rowExpandedMaps:m,rowExpandLazyLoadedMaps:x}=d,{computeExpandOpts:i}=t.getComputeMaps(),s=i.value,{lazy:R,labelField:O,iconLoaded:S,showIcon:F,iconOpen:_,iconClose:q,visibleMethod:P}=s,{slots:V}=u,G=V?V.default:null,ae=V?V.icon:null;let Q=!1,D=!1;if(v&&n.isAggregate)return kr(e,[]);if(ae)return kr(e,t.callSlot(ae,e));if(!o){const M=Ne(t,n);Q=!!m[M],R&&(D=!!x[M])}return kr(e,[F&&(!P||P(e))?w("span",{class:["vxe-table--expanded",{"is--active":Q}],onMousedown(M){M.stopPropagation()},onClick(M){t.triggerRowExpandEvent(M,e)}},[w("i",{class:["vxe-table--expand-btn",D?S||rr().TABLE_EXPAND_LOADED:Q?_||rr().TABLE_EXPAND_OPEN:q||rr().TABLE_EXPAND_CLOSE]})]):yn(t),G||O?w("span",{class:"vxe-table--expand-label"},G?t.callSlot(G,e):f.get(n,O)):yn(t)])},renderExpandData(e){const{$table:t,column:o}=e,{slots:n,contentRender:u}=o,c=n?n.content:null;if(c)return t.callSlot(c,e);if(u){const d=fi.get(u.name);if(d){const v=d.renderTableExpand||d.renderExpand;if(v)return qr(v(u,e))}}return[]},renderHTMLCell(e){const{$table:t,column:o}=e,{slots:n}=o,u=n?n.default:null;return u?kr(e,t.callSlot(u,e)):kr(e,[w("span",{class:"vxe-cell--html",innerHTML:_m(e)})])},renderDeepHTMLCell(e){return gt.renderDeepNodeBtn(e,gt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return _o(e,gt.renderHeaderTitle(e).concat(gt.renderSortIcon(e).concat(gt.renderFilterIcon(e))))},renderSortHeader(e){return _o(e,gt.renderHeaderTitle(e).concat(gt.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:o}=e,{computeSortOpts:n}=t.getComputeMaps(),u=n.value,{showIcon:c,allowBtn:d,ascTitle:v,descTitle:m,iconLayout:x,iconAsc:i,iconDesc:s,iconVisibleMethod:R}=u,{order:O}=o;return c&&(!R||R(e))?[w("span",{class:["vxe-cell--sort",`vxe-cell--sort-${x}-layout`]},[w("i",{class:["vxe-sort--asc-btn",i||rr().TABLE_SORT_ASC,{"sort--active":O==="asc"}],title:f.eqNull(v)?ii("vxe.table.sortAsc"):`${v||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"asc")}:void 0}),w("i",{class:["vxe-sort--desc-btn",s||rr().TABLE_SORT_DESC,{"sort--active":O==="desc"}],title:f.eqNull(m)?ii("vxe.table.sortDesc"):`${m||""}`,onClick:d?S=>{S.stopPropagation(),t.triggerSortEvent(S,o,"desc")}:void 0})])]:[]},renderFilterHeader(e){return _o(e,gt.renderHeaderTitle(e).concat(gt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:o,hasFilter:n}=e,u=t.reactData,{filterStore:c}=u,{computeFilterOpts:d}=t.getComputeMaps(),v=d.value,{showIcon:m,iconNone:x,iconMatch:i,iconVisibleMethod:s}=v;return m&&(!s||s(e))?[w("span",{class:["vxe-cell--filter",{"is--active":c.visible&&c.column===o}],onClick(R){t.triggerFilterEvent&&t.triggerFilterEvent(R,e.column,e)}},[w("i",{class:["vxe-filter--btn",n?i||rr().TABLE_FILTER_MATCH:x||rr().TABLE_FILTER_NONE],title:ii("vxe.table.filter")})])]:[]},renderEditHeader(e){const{$table:t,column:o}=e,n=t.props,{computeEditOpts:u}=t.getComputeMaps(),{editConfig:c,editRules:d}=n,v=u.value,{sortable:m,filters:x,editRender:i}=o;let s=!1;if(d){const O=f.get(d,o.field);O&&(s=O.some(S=>S.required))}let R=[];return Et(c)&&(R=[s&&v.showAsterisk?w("span",{class:"vxe-cell--required-icon"},[w("i")]):yn(t),Et(i)&&v.showIcon?w("span",{class:"vxe-cell--edit-icon"},[w("i",{class:v.icon||rr().TABLE_EDIT})]):yn(t)]),_o(e,R.concat(gt.renderHeaderTitle(e)).concat(m?gt.renderSortIcon(e):[]).concat(x?gt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return gt.runRenderer(e,Et(d)&&c&&c.row===e.row)},renderDeepRowEdit(e){return gt.renderDeepNodeBtn(e,gt.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:o}=e,n=t.reactData,{editStore:u}=n,{actived:c}=u,{editRender:d}=o;return gt.runRenderer(e,Et(d)&&c&&c.row===e.row&&c.column===e.column)},renderDeepCellEdit(e){return gt.renderDeepNodeBtn(e,gt.renderCellEdit(e))},runRenderer(e,t){const{$table:o,column:n}=e,{slots:u,editRender:c,formatter:d}=n,v=u?u.default:null,m=u?u.edit:null,x=fi.get(c.name),i=x?x.renderTableEdit||x.renderEdit:null,s=Object.assign({$type:"",isEdit:t},e);return t?(s.$type="edit",m?o.callSlot(m,s):i?qr(i(c,s)):[]):v?kr(e,o.callSlot(v,s)):d?kr(e,[w("span",{class:"vxe-cell--label"},_m(s))]):gt.renderDefaultCell(s)}},dC={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,rowGroupNode:Boolean,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,aggFunc:[String,Boolean],params:Object},Rn=ho({name:"VxeColumn",props:dC,setup(e,{slots:t}){const o=Pe(),n=Pr("$xeTable",null),u=Pr("$xeColgroup",null);if(!n)return()=>Qe();const c=gt.createColumn(n,e);c.slots=t;const d=()=>w("div",{ref:o}),v={columnConfig:c,renderVN:d};return nC(n,e,c),nn(()=>{const m=o.value;m&&lC(n,m,c,u)}),rl(()=>{iC(n,c)}),On("$xeColumn",v),On("$xeGrid",null),d}});Object.assign({},Rn,{install(e){e.component(Rn.name,Rn),e.component("VxeTableColumn",Rn)}});xe.dynamicApp&&(xe.dynamicApp.component(Rn.name,Rn),xe.dynamicApp.component("VxeTableColumn",Rn));xe.component(Rn);const Sn=ho({name:"VxeColgroup",props:dC,setup(e,{slots:t}){const o=Pe(),n=Pr("$xeTable",null),u=Pr("$xeColgroup",null);if(!n)return()=>Qe();const c=gt.createColumn(n,e),d={};t.header&&(d.header=t.header),c.slots=d,c.children=[],nC(n,e,c),nn(()=>{const x=o.value;x&&lC(n,x,c,u)}),rl(()=>{iC(n,c)});const v=()=>w("div",{ref:o},t.default?t.default():[]);return On("$xeColgroup",{columnConfig:c}),On("$xeGrid",null),v}});Object.assign({},Sn,{install(e){e.component(Sn.name,Sn),e.component("VxeTableColgroup",Sn)}});xe.dynamicApp&&(xe.dynamicApp.component(Sn.name,Sn),xe.dynamicApp.component("VxeTableColgroup",Sn));xe.component(Sn);const{getI18n:cR,renderer:qm,renderEmptyElement:Kd}=xe,qi="body",Pm=ho({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=Pr("$xeTable",{}),{xID:o,props:n,context:u,reactData:c,internalData:d}=t,{computeEditOpts:v,computeMouseOpts:m,computeCellOffsetWidth:x,computeAreaOpts:i,computeDefaultRowHeight:s,computeEmptyOpts:R,computeTooltipOpts:O,computeRadioOpts:S,computeExpandOpts:F,computeTreeOpts:_,computeCheckboxOpts:q,computeCellOpts:P,computeValidOpts:V,computeRowOpts:G,computeColumnOpts:ae,computeRowDragOpts:Q,computeColumnDragOpts:D,computeResizableOpts:M,computeVirtualXOpts:L,computeVirtualYOpts:z}=t.getComputeMaps(),J=Pe(),k=Pe(),j=Pe(),Z=Pe(),ge=Pe(),Ce=Pe(),ve=Pe(),fe=Pe(),Me=()=>{const{delayHover:oe}=n,{lastScrollTime:te,isDragResize:le}=c;return!!(le||te&&Date.now()<te+oe)},Re=(oe,te,le)=>{const{row:we,column:ie}=te,{afterFullData:Oe}=d,{treeConfig:de}=n,he=_.value,{slots:Te,treeNode:me}=ie,{fullAllDataRowIdData:ce}=d;if(Te&&Te.line)return t.callSlot(Te.line,te);const Ie=ce[oe];let Ee=0,Ye=null;return Ie&&(Ee=Ie.level,Ye=Ie.items[Ie.treeIndex-1]),de&&me&&(he.showLine||he.line)?[w("div",{key:"tl",class:"vxe-tree--line-wrapper"},[w("div",{class:"vxe-tree--line",style:{height:`${t.eqRow(Oe[0],we)?1:QE(te,Ye)}px`,bottom:`-${Math.floor(le/2)}px`,left:`${Ee*he.indent+(Ee?2-aC(t):0)+16}px`}})])]:[]},re=(oe,te,le,we,ie,Oe,de,he,Te,me,ce,Ie,Ee)=>{const Ye=t.xeGrid,{columnKey:Le,resizable:Ue,showOverflow:_e,border:lt,height:yt,treeConfig:Ct,cellClassName:it,cellStyle:vt,align:xt,spanMethod:Xe,mouseConfig:Ve,editConfig:ft,editRules:ze,tooltipConfig:ot,padding:Ae}=n,{tableData:Be,dragRow:$e,overflowX:Ze,currentColumn:Rt,scrollXLoad:At,scrollYLoad:ne,mergeBodyFlag:se,calcCellHeightFlag:be,resizeHeightFlag:ke,resizeWidthFlag:Fe,editStore:et,isAllOverflow:tt,validErrorMaps:wt}=c,{fullAllDataRowIdData:bt,fullColumnIdData:nt,mergeBodyCellMaps:Mt,visibleColumn:ht,afterFullData:$t,mergeBodyList:nr,scrollXStore:Zt,scrollYStore:Vt}=d,zt=P.value,er=V.value,ct=q.value,Lt=v.value,St=O.value,gr=M.value,tr=L.value,Pt=z.value,{isAllColumnDrag:Lr,isAllRowDrag:Gt}=gr,jt=G.value,lr=Q.value,ir=s.value,yr=be?zt.height||jt.height:0,{disabledMethod:Er,isCrossDrag:xr,isPeerDrag:vr}=lr,Cr=ae.value,Ot=m.value,ut=i.value,cr=x.value,{selectCellToRow:Xr}=ut,{type:po,cellRender:Br,editRender:Fn,align:Gl,showOverflow:In,className:il,treeNode:jl,rowResize:Ul,padding:sl,verticalAlign:kn,slots:al}=me,{verticalAlign:Yl}=zt,{actived:cl}=et,h=bt[te]||{},xo=me.id,An=nt[xo]||{},Hr=Fn||Br,Kr=Hr?qm.get(Hr.name):null,ul=Kr?Kr.tableCellClassName||Kr.cellClassName:null,Ln=Kr?Kr.tableCellStyle||Kr.cellStyle:"",ko=St.showAll,un=An.index,Co=An._index,Uo=Et(Fn),Xl=ke?h.resizeHeight:0;let Zr=le?me.fixed!==le:me.fixed&&Ze;const dl=f.eqNull(sl)?Ae===null?zt.padding:Ae:sl,Yo=f.eqNull(In)?_e:In,Hn=Yo==="ellipsis",Ao=Yo==="title",wo=Yo===!0||Yo==="tooltip",dn=tt||Ao||wo||Hn,fl=f.isBoolean(me.resizable)?me.resizable:Cr.resizable||Ue,fn=!!yr,hn=Xl>0;let _n;const yo={},qn=Gl||(Kr?Kr.tableCellAlign:"")||xt,Pn=f.eqNull(kn)?Yl:kn,Eo=wt[`${te}:${xo}`],Nn=ze&&er.showMessage&&(er.message==="default"?yt||Be.length>1:er.message==="inline"),Jr={colid:xo},ur={$table:t,$grid:Ye,isEdit:!1,seq:oe,rowid:te,row:Oe,rowIndex:de,$rowIndex:he,_rowIndex:Te,column:me,columnIndex:un,$columnIndex:ce,_columnIndex:Co,fixed:le,type:qi,isHidden:!!Zr,level:ie,visibleData:$t,data:Be,items:Ee};let $r=!1,pn=!1;jt.drag&&($r=lr.trigger==="row"||me.dragSort&&lr.trigger==="cell"),$r&&(pn=!!(Er&&Er(ur))),(Ao||wo||ko||ot)&&(yo.onMouseenter=Tt=>{Me()||(Ao?Hf(Tt.currentTarget,me):(wo||ko)&&t.triggerBodyTooltipEvent(Tt,ur),t.dispatchEvent("cell-mouseenter",Object.assign({cell:Tt.currentTarget},ur),Tt))}),(wo||ko||ot)&&(yo.onMouseleave=Tt=>{Me()||((wo||ko)&&t.handleTargetLeaveEvent(Tt),t.dispatchEvent("cell-mouseleave",Object.assign({cell:Tt.currentTarget},ur),Tt))}),($r||ct.range||Ve)&&(yo.onMousedown=Tt=>{t.triggerCellMousedownEvent(Tt,ur)}),$r&&(yo.onMouseup=t.triggerCellMouseupEvent),yo.onClick=Tt=>{t.triggerCellClickEvent(Tt,ur)},yo.onDblclick=Tt=>{t.triggerCellDblclickEvent(Tt,ur)};let Lo=!1,lo=1;if(se&&nr.length){const Tt=Mt[`${Te}:${Co}`];if(Tt){const{rowspan:mr,colspan:Tr}=Tt;if(!mr||!Tr)return null;mr>1&&(Lo=!0,lo=mr,Jr.rowspan=mr),Tr>1&&(Lo=!0,Jr.colspan=Tr)}}else if(Xe){const{rowspan:Tt=1,colspan:mr=1}=Xe(ur)||{};if(!Tt||!mr)return null;Tt>1&&(Lo=!0,lo=Tt,Jr.rowspan=Tt),mr>1&&(Lo=!0,Jr.colspan=mr)}Zr&&Lo&&(Jr.colspan>1||Jr.rowspan>1)&&(Zr=!1),!Zr&&ft&&(Fn||Br)&&(Lt.showStatus||Lt.showUpdateStatus)&&(_n=t.isUpdateByRow(Oe,me.field));const io=ne&&!dn;let gn=Xd(h,zt,jt,ir);const Rr=ce===Ie.length-1,Xo=!me.resizeWidth&&(me.minWidth==="auto"||me.width==="auto");let Ho=!1;if(Lo||(!$e||Ne(t,$e)!==te)&&(ne&&!Ct&&!Pt.immediate&&(Te<Vt.visibleStartIndex-Vt.preloadSize||Te>Vt.visibleEndIndex+Vt.preloadSize)||At&&!tr.immediate&&!me.fixed&&(Co<Zt.visibleStartIndex-Zt.preloadSize||Co>Zt.visibleEndIndex+Zt.preloadSize))&&(Ho=!0),lo>1){const Tt=$t[Te+lo-1];if(Tt){const mr=bt[Ne(t,Tt)];mr&&(gn+=mr.oTop+Xd(mr,zt,jt,ir)-h.oTop-Xd(h,zt,jt,ir))}}const Ko={};if(dn&&Fe){let Tt=Jr.colspan||0;if(Tt>1)for(let mr=1;mr<Tt;mr++){const Tr=ht[un+mr];Tr&&(Tt+=Tr.renderWidth)}Ko.width=`${me.renderWidth-cr*Tt}px`}ne||dn||fn||hn?Ko.height=`${gn}px`:Ko.minHeight=`${gn}px`;const Ro=[];if(Zr&&tt)Ro.push(w("div",{key:"tc",class:["vxe-cell",{"c--title":Ao,"c--tooltip":wo,"c--ellipsis":Hn}],style:Ko}));else if(Ct&&Ro.push(...Re(te,ur,gn)),Ro.push(w("div",{key:"tc",class:["vxe-cell",{"c--title":Ao,"c--tooltip":wo,"c--ellipsis":Hn}],style:Ko,title:Ao?t.getCellLabel(Oe,me):null},Ho?[]:[w("div",{colid:xo,rowid:te,class:"vxe-cell--wrapper"},me.renderCell(ur))])),Nn&&Eo){const Tt=Eo.rule,mr=al?al.valid:null,Tr=Object.assign(Object.assign(Object.assign({},ur),Eo),{rule:Eo});Ro.push(w("div",{key:"tcv",class:["vxe-cell--valid-error-tip",wn(er.className,Tr)],style:Tt&&Tt.maxWidth?{width:`${Tt.maxWidth}px`}:null},[w("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${er.theme||"normal"}`},[mr?t.callSlot(mr,Tr):[w("span",{class:"vxe-cell--valid-error-msg"},Eo.content)]])]))}let hl=!1;return Ve&&Ot.area&&Xr&&(!Co&&Xr===!0||Xr===me.field)&&(hl=!0),!Zr&&fl&&Lr&&Ro.push(w("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!lt||lt==="none"}],onMousedown:Tt=>t.handleColResizeMousedownEvent(Tt,le,ur),onDblclick:Tt=>t.handleColResizeDblclickEvent(Tt,ur)})),(Ul||Gt)&&jt.resizable&&Ro.push(w("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Tt=>t.handleRowResizeMousedownEvent(Tt,ur),onDblclick:Tt=>t.handleRowResizeDblclickEvent(Tt,ur)})),w("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",xo,Pn?`col--vertical-${Pn}`:"",qn?`col--${qn}`:"",po?`col--${po}`:"",{"col--last":Rr,"col--tree-node":jl,"col--edit":Uo,"col--ellipsis":dn,"col--cs-height":fn,"col--rs-height":hn,"col--to-row":hl,"col--auto-height":io,"fixed--width":!Xo,"fixed--hidden":Zr,"is--padding":dl,"is--progress":Zr&&tt||Ho,"is--drag-cell":$r&&(xr||vr||!ie),"is--drag-disabled":pn,"col--dirty":_n,"col--active":ft&&Uo&&cl.row===Oe&&(cl.column===me||Lt.mode==="row"),"col--valid-error":!!Eo,"col--current":Rt===me},wn(ul,ur),wn(il,ur),wn(it,ur)],key:Le||At||ne||Cr.useKey||jt.useKey||Cr.drag?xo:ce},Jr),{style:Object.assign({},f.isFunction(Ln)?Ln(ur):Ln,f.isFunction(vt)?vt(ur):vt)}),yo),we&&Zr?[]:Ro)},ue=(oe,te,le,we)=>{const ie=t.xeGrid,{stripe:Oe,rowKey:de,highlightHoverRow:he,rowClassName:Te,rowStyle:me,editConfig:ce,treeConfig:Ie}=n,{hasFixedColumn:Ee,treeExpandedFlag:Ye,isColLoading:Le,scrollXLoad:Ue,scrollYLoad:_e,isAllOverflow:lt,rowExpandedFlag:yt,expandColumn:Ct,selectRadioRow:it,pendingRowFlag:vt,isDragColMove:xt,rowExpandHeightFlag:Xe,isRowGroupStatus:Ve}=c,{fullAllDataRowIdData:ft,fullColumnIdData:ze,treeExpandedMaps:ot,pendingRowMaps:Ae,rowExpandedMaps:Be}=d,$e=q.value,Ze=S.value,Rt=_.value,At=v.value,ne=G.value,se=ae.value,be=D.value,{transform:ke,seqMode:Fe}=Rt,et=Rt.children||Rt.childrenField,tt=[],{handleGetRowId:wt}=br(t),bt=Ie||Ve;return le.forEach((nt,Mt)=>{const ht=wt(nt),$t=ft[ht]||{};let nr=Mt,Zt=0,Vt=-1,zt=-1;const er=Ve&&nt.isAggregate,ct={};(ne.isHover||he)&&(ct.onMouseenter=jt=>{Me()||t.triggerHoverEvent(jt,{row:nt,rowIndex:nr})},ct.onMouseleave=()=>{Me()||t.clearHoverRow()}),$t&&(Zt=$t.level,er||Ie&&ke&&Fe==="increasing"?Vt=$t._index+1:Vt=$t.seq,nr=$t.index,zt=$t._index);const Lt={$table:t,seq:Vt,rowid:ht,fixed:oe,type:qi,level:Zt,row:nt,rowIndex:nr,$rowIndex:Mt,_rowIndex:zt},St=Ct&&!!yt&&!!Be[ht];let gr=!1,tr=[],Pt=!1;ce&&(Pt=t.isInsertByRow(nt)),Ie&&!_e&&!ke&&(tr=nt[et],gr=!!Ye&&tr&&tr.length>0&&!!ot[ht]),ne.drag&&!Ve&&(!Ie||ke)&&(ct.onDragstart=t.handleRowDragDragstartEvent,ct.onDragend=t.handleRowDragDragendEvent,ct.onDragover=t.handleRowDragDragoverEvent);const Lr=["vxe-body--row",bt?`row--level-${Zt}`:"",{"row--stripe":Oe&&(zt+1)%2===0,"is--new":Pt,"is--expand-row":St,"is--expand-tree":gr,"row--new":Pt&&(At.showStatus||At.showInsertStatus),"row--radio":Ze.highlight&&t.eqRow(it,nt),"row--checked":$e.highlight&&t.isCheckedByCheckboxRow(nt),"row--pending":!!vt&&!!Ae[ht],"row--group":er},wn(Te,Lt)],Gt=we.map((jt,lr)=>re(Vt,ht,oe,te,Zt,nt,nr,Mt,zt,jt,lr,we,le));if(tt.push(!Le&&se.drag&&be.animation?w(Hl,Object.assign({name:`vxe-header--col-list${xt?"":"-disabled"}`,tag:"tr",class:Lr,rowid:ht,style:me?f.isFunction(me)?me(Lt):me:null,key:de||Ue||_e||ne.useKey||ne.drag||se.drag||Ve||Ie?ht:Mt},ct),{default:()=>Gt}):w("tr",Object.assign({class:Lr,rowid:ht,style:me?f.isFunction(me)?me(Lt):me:null,key:de||Ue||_e||ne.useKey||ne.drag||se.drag||Ve||Ie?ht:Mt},ct),Gt)),St){const jt=F.value,{height:lr,padding:ir,mode:yr}=jt;if(yr==="fixed")tt.push(w("tr",{class:"vxe-body--row-expanded-place",key:`expand_${ht}`,rowid:ht},[w("td",{class:"vxe-body--row-expanded-place-column",colspan:we.length,style:{height:`${Xe?$t.expandHeight||lr:0}px`}})]));else{const Er={};lr&&(Er.height=`${lr}px`),Ie&&(Er.paddingLeft=`${Zt*Rt.indent+30}px`);const{showOverflow:xr}=Ct||{},vr=Ct.id,Cr=ze[vr]||{},Ot=f.eqNull(xr)?lt:xr;let ut=-1,cr=-1,Xr=-1;Cr&&(ut=Cr.index,cr=Cr.$index,Xr=Cr._index);const po={$grid:ie,$table:t,seq:Vt,column:Ct,columnIndex:ut,$columnIndex:cr,_columnIndex:Xr,fixed:oe,type:qi,level:Zt,row:nt,rowid:ht,rowIndex:nr,$rowIndex:Mt,_rowIndex:zt,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};tt.push(w("tr",{class:["vxe-body--expanded-row",{"is--padding":ir}],key:`expand_${ht}`},[w("td",{class:["vxe-body--expanded-column",{"fixed--hidden":oe&&!Ee,"col--ellipsis":Ot}],colspan:we.length},[w("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":lr}],style:Er},[Ct.renderData(po)])])]))}}gr&&tt.push(...ue(oe,te,tr,we))}),tt};return nn(()=>{pe(()=>{const{fixedType:oe}=e,{elemStore:te}=d,le=`${oe||"main"}-body-`;te[`${le}wrapper`]=J,te[`${le}scroll`]=k,te[`${le}table`]=j,te[`${le}colgroup`]=Z,te[`${le}list`]=ge,te[`${le}xSpace`]=Ce,te[`${le}ySpace`]=ve,te[`${le}emptyBlock`]=fe})}),rl(()=>{const{fixedType:oe}=e,{elemStore:te}=d,le=`${oe||"main"}-body-`;te[`${le}wrapper`]=null,te[`${le}scroll`]=null,te[`${le}table`]=null,te[`${le}colgroup`]=null,te[`${le}list`]=null,te[`${le}xSpace`]=null,te[`${le}ySpace`]=null,te[`${le}emptyBlock`]=null}),()=>{const{slots:oe}=u,te=t.xeGrid,{fixedColumn:le,fixedType:we,tableColumn:ie}=e,{spanMethod:Oe,footerSpanMethod:de,mouseConfig:he}=n,{isGroup:Te,tableData:me,isRowLoading:ce,isColLoading:Ie,overflowX:Ee,scrollXLoad:Ye,scrollYLoad:Le,isAllOverflow:Ue,isDragRowMove:_e,expandColumn:lt,dragRow:yt,dragCol:Ct}=c,{visibleColumn:it,fullAllDataRowIdData:vt,fullColumnIdData:xt}=d,Xe=G.value,Ve=R.value,ft=m.value,ze=Q.value,ot=F.value;let Ae=me,Be=ie,$e=!1;if((Ye||Le||Ue)&&(lt&&ot.mode!=="fixed"||Oe||de||($e=!0)),!Ie&&(we||!Ee)&&(Be=it),we&&$e&&(Be=le||[]),Le&&yt&&Ae.length>2){const se=vt[Ne(t,yt)];if(se){const be=se._index,ke=Ae[0],Fe=Ae[Ae.length-1],et=vt[Ne(t,ke)],tt=vt[Ne(t,Fe)];if(et&&tt){const wt=et._index,bt=tt._index;be<wt?Ae=[yt].concat(Ae):be>bt&&(Ae=Ae.concat([yt]))}}}if(!we&&!Te&&Ye&&Ct&&Be.length>2){const se=xt[Ct.id];if(se){const be=se._index,ke=Be[0],Fe=Be[Be.length-1],et=xt[ke.id],tt=xt[Fe.id];if(et&&tt){const wt=et._index,bt=tt._index;be<wt?Be=[Ct].concat(Be):be>bt&&(Be=Be.concat([Ct]))}}}let Ze;const Rt=oe?oe.empty:null,At={$table:t,$grid:te};if(Rt)Ze=t.callSlot(Rt,At);else{const se=Ve.name?qm.get(Ve.name):null,be=se?se.renderTableEmpty||se.renderTableEmptyView||se.renderEmpty:null;be?Ze=qr(be(Ve,At)):Ze=n.emptyText||cR("vxe.table.emptyText")}const ne={onScroll(se){t.triggerBodyScrollEvent(se,we)}};return w("div",{ref:J,class:["vxe-table--body-wrapper",we?`fixed-${we}--wrapper`:"body--wrapper"],xid:o},[w("div",Object.assign({ref:k,class:"vxe-table--body-inner-wrapper"},ne),[we?Kd(t):w("div",{ref:Ce,class:"vxe-body--x-space"}),w("div",{ref:ve,class:"vxe-body--y-space"}),w("table",{ref:j,class:"vxe-table--body",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:$e?"1":null},[w("colgroup",{ref:Z},Be.map((se,be)=>w("col",{name:se.id,key:be,style:{width:`${se.renderWidth}px`}}))),!(ce||Ie)&&Xe.drag&&ze.animation?w(Hl,{ref:ge,name:`vxe-body--row-list${_e?"":"-disabled"}`,tag:"tbody"},{default:()=>ue(we,$e,Ae,Be)}):w("tbody",{ref:ge},ue(we,$e,Ae,Be))]),w("div",{class:"vxe-table--checkbox-range"}),he&&ft.area?w("div",{class:"vxe-table--cell-area"},[w("span",{class:"vxe-table--cell-main-area"},ft.extension?[w("span",{class:"vxe-table--cell-main-area-btn",onMousedown(se){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(se,{$table:t,fixed:we,type:qi})}})]:[]),w("span",{class:"vxe-table--cell-copy-area"}),w("span",{class:"vxe-table--cell-extend-area"}),w("span",{class:"vxe-table--cell-multi-area"}),w("span",{class:"vxe-table--cell-active-area"}),w("span",{class:"vxe-table--cell-row-status-area"})]):Kd(t),we?Kd(t):w("div",{class:"vxe-table--empty-block",ref:fe},[w("div",{class:"vxe-table--empty-content"},Ze)])])])}}}),{renderer:uR,renderEmptyElement:Zd}=xe,Nm="header",Bm=ho({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=Pr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeColumnOpts:d,computeColumnDragOpts:v,computeCellOpts:m,computeMouseOpts:x,computeHeaderCellOpts:i,computeDefaultRowHeight:s,computeVirtualXOpts:R}=t.getComputeMaps(),O=Pe([]),S=Pe(),F=Pe(),_=Pe(),q=Pe(),P=Pe(),V=Pe(),G=Pe(),ae=()=>{const{isGroup:L}=u;O.value=L?UE(e.tableGroupColumn):[]},Q=(L,z,J,k)=>{const j=t.xeGrid,{fixedType:Z}=e,{resizable:ge,columnKey:Ce,headerCellClassName:ve,headerCellStyle:fe,showHeaderOverflow:Me,headerAlign:Re,align:re,mouseConfig:ue}=n,{currentColumn:X,dragCol:oe,scrollXLoad:te,scrollYLoad:le,overflowX:we}=u,{fullColumnIdData:ie,scrollXStore:Oe}=c,de=R.value,he=d.value,Te=v.value,me=m.value,ce=s.value,Ie=i.value,Ee=Qi(Ie.height)||ce,{disabledMethod:Ye,isCrossDrag:Le,isPeerDrag:Ue}=Te;return J.map((_e,lt)=>{const{type:yt,showHeaderOverflow:Ct,headerAlign:it,align:vt,filters:xt,headerClassName:Xe,editRender:Ve,cellRender:ft}=_e,ze=_e.id,ot=ie[ze]||{},Ae=Ve||ft,Be=Ae?uR.get(Ae.name):null,$e=_e.children&&_e.children.length,Ze=Z?_e.fixed!==Z&&!$e:!!_e.fixed&&we,Rt=f.isBoolean(Ie.padding)?Ie.padding:me.padding,At=f.eqNull(Ct)?Me:Ct,ne=it||(Be?Be.tableHeaderCellAlign:"")||Re||vt||(Be?Be.tableCellAlign:"")||re,se=At==="ellipsis",be=At==="title",ke=At===!0||At==="tooltip",Fe=be||ke||se;let et=!1,tt=null;xt&&(tt=xt[0],et=xt.some(Lt=>Lt.checked));const wt=ot.index,bt=ot._index,nt={$table:t,$grid:j,$rowIndex:k,column:_e,columnIndex:wt,$columnIndex:lt,_columnIndex:bt,firstFilterOption:tt,fixed:Z,type:Nm,isHidden:Ze,hasFilter:et},Mt={colid:ze,colspan:_e.colSpan>1?_e.colSpan:null,rowspan:_e.rowSpan>1?_e.rowSpan:null},ht={onClick:Lt=>t.triggerHeaderCellClickEvent(Lt,nt),onDblclick:Lt=>t.triggerHeaderCellDblclickEvent(Lt,nt)},$t=he.drag&&Te.trigger==="cell";let nr=!1;$t&&(nr=!!(Ye&&Ye(nt))),(ue||$t)&&(ht.onMousedown=Lt=>t.triggerHeaderCellMousedownEvent(Lt,nt)),he.drag&&(ht.onDragstart=t.handleHeaderCellDragDragstartEvent,ht.onDragend=t.handleHeaderCellDragDragendEvent,ht.onDragover=t.handleHeaderCellDragDragoverEvent,$t&&(ht.onMouseup=t.handleHeaderCellDragMouseupEvent));const Zt=lt===J.length-1,Vt=f.isBoolean(_e.resizable)?_e.resizable:he.resizable||ge,zt=!_e.resizeWidth&&(_e.minWidth==="auto"||_e.width==="auto");let er=!1;z&&!L&&(!oe||oe.id!==ze)&&te&&!_e.fixed&&!de.immediate&&(bt<Oe.visibleStartIndex-Oe.preloadSize||bt>Oe.visibleEndIndex+Oe.preloadSize)&&(er=!0);const ct={};return Fe?ct.height=`${Ee}px`:ct.minHeight=`${Ee}px`,w("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",ze,{[`col--${ne}`]:ne,[`col--${yt}`]:yt,"col--last":Zt,"col--fixed":_e.fixed,"col--group":$e,"col--ellipsis":Fe,"fixed--width":!zt,"fixed--hidden":Ze,"is--padding":Rt,"is--sortable":_e.sortable,"col--filter":!!xt,"is--filter-active":et,"is--drag-active":he.drag&&!_e.fixed&&!nr&&(Le||Ue||!_e.parentId),"is--drag-disabled":he.drag&&nr,"col--current":X===_e},Xe?f.isFunction(Xe)?Xe(nt):Xe:"",ve?f.isFunction(ve)?ve(nt):ve:""],style:fe?f.isFunction(fe)?fe(nt):fe:null},Mt),ht),{key:Ce||te||le||he.useKey||he.drag||$e?ze:lt}),[w("div",{class:["vxe-cell",{"c--title":be,"c--tooltip":ke,"c--ellipsis":se}],style:ct},er||z&&Ze?[]:[w("div",{colid:ze,class:"vxe-cell--wrapper"},_e.renderHeader(nt))]),!Ze&&Vt?w("div",{class:"vxe-cell--col-resizable",onMousedown:Lt=>t.handleColResizeMousedownEvent(Lt,Z,nt),onDblclick:Lt=>t.handleColResizeDblclickEvent(Lt,nt)}):Zd(t)])})},D=(L,z,J)=>{const{fixedType:k}=e,{headerRowClassName:j,headerRowStyle:Z}=n,{isColLoading:ge,isDragColMove:Ce}=u,ve=d.value,fe=v.value;return J.map((Me,Re)=>{const re={$table:t,$rowIndex:Re,fixed:k,type:Nm};return!ge&&ve.drag&&fe.animation?w(Hl,{key:Re,name:`vxe-header--col-list${Ce?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",j?f.isFunction(j)?j(re):j:""],style:Z?f.isFunction(Z)?Z(re):Z:null},{default:()=>Q(L,z,Me,Re)}):w("tr",{key:Re,class:["vxe-header--row",j?f.isFunction(j)?j(re):j:""],style:Z?f.isFunction(Z)?Z(re):Z:null},Q(L,z,Me,Re))})},M=()=>{const{fixedType:L,fixedColumn:z,tableColumn:J}=e,{mouseConfig:k,showHeaderOverflow:j,spanMethod:Z,footerSpanMethod:ge}=n,{isGroup:Ce,isColLoading:ve,overflowX:fe,scrollXLoad:Me,dragCol:Re}=u,{visibleColumn:re,fullColumnIdData:ue}=c,X=x.value;let oe=O.value,te=J,le=!1;if(Ce?te=re:(Me&&j&&(Z||ge||(le=!0)),(!le||!ve&&(L||!fe))&&(te=re),L&&le&&(te=z||[]),oe=[te]),!L&&!Ce&&Me&&Re&&te.length>2){const we=ue[Re.id];if(we){const ie=we._index,Oe=te[0],de=te[te.length-1],he=ue[Oe.id],Te=ue[de.id];if(he&&Te){const me=he._index,ce=Te._index;ie<me?(te=[Re].concat(te),oe=[[Re].concat(oe[0])].concat(oe.slice(1))):ie>ce&&(te=te.concat([Re]),oe=[oe[0].concat([Re])].concat(oe.slice(1)))}}}return w("div",{ref:S,class:["vxe-table--header-wrapper",L?`fixed-${L}--wrapper`:"body--wrapper"],xid:o},[w("div",{ref:F,class:"vxe-table--header-inner-wrapper",onScroll(we){t.triggerHeaderScrollEvent(we,L)}},[L?Zd(t):w("div",{ref:V,class:"vxe-body--x-space"}),w("table",{ref:_,class:"vxe-table--header",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:le?"1":null},[w("colgroup",{ref:q},te.map((we,ie)=>w("col",{name:we.id,key:ie,style:{width:`${we.renderWidth}px`}}))),w("thead",{ref:P},D(Ce,le,oe))]),k&&X.area?w("div",{class:"vxe-table--cell-area"},[w("span",{class:"vxe-table--cell-main-area"}),w("span",{class:"vxe-table--cell-copy-area"}),w("span",{class:"vxe-table--cell-extend-area"}),w("span",{class:"vxe-table--cell-multi-area"}),w("span",{class:"vxe-table--cell-active-area"}),w("span",{class:"vxe-table--cell-col-status-area"})]):Zd(t)])])};return It(()=>e.tableColumn,ae),nn(()=>{pe(()=>{const{fixedType:L}=e,{internalData:z}=t,{elemStore:J}=z,k=`${L||"main"}-header-`;J[`${k}wrapper`]=S,J[`${k}scroll`]=F,J[`${k}table`]=_,J[`${k}colgroup`]=q,J[`${k}list`]=P,J[`${k}xSpace`]=V,J[`${k}repair`]=G,ae()})}),rl(()=>{const{fixedType:L}=e,{internalData:z}=t,{elemStore:J}=z,k=`${L||"main"}-header-`;J[`${k}wrapper`]=null,J[`${k}scroll`]=null,J[`${k}table`]=null,J[`${k}colgroup`]=null,J[`${k}list`]=null,J[`${k}xSpace`]=null,J[`${k}repair`]=null}),M}}),{renderer:dR,renderEmptyElement:$m}=xe,Vm="footer",zm=ho({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=Pr("$xeTable",{}),{xID:o,props:n,reactData:u,internalData:c}=t,{computeTooltipOpts:d,computeColumnOpts:v,computeColumnDragOpts:m,computeCellOpts:x,computeFooterCellOpts:i,computeDefaultRowHeight:s,computeResizableOpts:R,computeVirtualXOpts:O}=t.getComputeMaps(),S=Pe(),F=Pe(),_=Pe(),q=Pe(),P=Pe(),V=Pe(),G=(D,M,L,z,J,k)=>{const j=t.xeGrid,{fixedType:Z}=e,{resizable:ge,border:Ce,footerCellClassName:ve,footerCellStyle:fe,footerAlign:Me,footerSpanMethod:Re,align:re,columnKey:ue,showFooterOverflow:X}=n,{scrollXLoad:oe,scrollYLoad:te,overflowX:le,currentColumn:we}=u,{fullColumnIdData:ie,mergeFooterList:Oe,mergeFooterCellMaps:de,scrollXStore:he}=c,Te=O.value,me=d.value,ce=R.value,{isAllColumnDrag:Ie}=ce,Ee=v.value,Ye=s.value,Le=x.value,Ue=i.value,_e=Qi(Ue.height)||Ye;return M.map((lt,yt)=>{const{type:Ct,showFooterOverflow:it,footerAlign:vt,align:xt,footerClassName:Xe,editRender:Ve,cellRender:ft}=lt,ze=lt.id,ot=ie[ze]||{},Ae=Ve||ft,Be=Ae?dR.get(Ae.name):null,$e=me.showAll,Ze=lt.children&&lt.children.length,Rt=Z?lt.fixed!==Z&&!Ze:lt.fixed&&le,At=f.isBoolean(Ue.padding)?Ue.padding:Le.padding,ne=f.eqNull(it)?X:it,se=vt||(Be?Be.tableFooterCellAlign:"")||Me||xt||(Be?Be.tableCellAlign:"")||re,be=ne==="ellipsis",ke=ne==="title",Fe=ne===!0||ne==="tooltip",et=ke||Fe||be,tt=f.isBoolean(lt.resizable)?lt.resizable:Ee.resizable||ge,wt={colid:ze},bt={},nt=ot.index,Mt=ot._index,$t={$table:t,$grid:j,row:z,rowIndex:k,_rowIndex:k,$rowIndex:J,column:lt,columnIndex:nt,$columnIndex:yt,_columnIndex:Mt,itemIndex:Mt,items:z,fixed:Z,type:Vm,data:L};(ke||Fe||$e)&&(bt.onMouseenter=ct=>{ke?Hf(ct.currentTarget,lt):(Fe||$e)&&t.triggerFooterTooltipEvent(ct,$t)}),(Fe||$e)&&(bt.onMouseleave=ct=>{(Fe||$e)&&t.handleTargetLeaveEvent(ct)}),bt.onClick=ct=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:ct.currentTarget},$t),ct)},bt.onDblclick=ct=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:ct.currentTarget},$t),ct)};let nr=!1;if(Oe.length){const ct=de[`${k}:${Mt}`];if(ct){const{rowspan:Lt,colspan:St}=ct;if(!Lt||!St)return null;Lt>1&&(nr=!0,wt.rowspan=Lt),St>1&&(nr=!0,wt.colspan=St)}}else if(Re){const{rowspan:ct=1,colspan:Lt=1}=Re($t)||{};if(!ct||!Lt)return null;ct>1&&(wt.rowspan=ct),Lt>1&&(wt.colspan=Lt)}const Zt=yt===M.length-1,Vt=!lt.resizeWidth&&(lt.minWidth==="auto"||lt.width==="auto");let zt=!1;D&&!nr&&oe&&!lt.fixed&&!Te.immediate&&(Mt<he.visibleStartIndex-he.preloadSize||Mt>he.visibleEndIndex+he.preloadSize)&&(zt=!0);const er={};return et?er.height=`${_e}px`:er.minHeight=`${_e}px`,w("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",lt.id,{[`col--${se}`]:se,[`col--${Ct}`]:Ct,"col--last":Zt,"fixed--width":!Vt,"fixed--hidden":Rt,"is--padding":At,"col--ellipsis":et,"col--current":we===lt},wn(Xe,$t),wn(ve,$t)]},wt),{style:fe?f.isFunction(fe)?fe($t):fe:null}),bt),{key:ue||oe||te||Ee.useKey||Ee.drag?lt.id:yt}),[w("div",{class:["vxe-cell",{"c--title":ke,"c--tooltip":Fe,"c--ellipsis":be}],style:er},zt?[]:[w("div",{colid:ze,class:"vxe-cell--wrapper"},lt.renderFooter($t))]),!Rt&&tt&&Ie?w("div",{class:["vxe-cell--col-resizable",{"is--line":!Ce||Ce==="none"}],onMousedown:ct=>t.handleColResizeMousedownEvent(ct,Z,$t),onDblclick:ct=>t.handleColResizeDblclickEvent(ct,$t)}):$m(t)])})},ae=(D,M)=>{const{fixedType:L,footerTableData:z}=e,{footerRowClassName:J,footerRowStyle:k}=n,{isColLoading:j,isDragColMove:Z}=u,ge=v.value,Ce=m.value;return z.map((ve,fe)=>{const Me=fe,Re={$table:t,row:ve,_rowIndex:Me,$rowIndex:fe,fixed:L,type:Vm};return!j&&ge.drag&&Ce.animation?w(Hl,{key:fe,name:`vxe-header--col-list${Z?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",J?f.isFunction(J)?J(Re):J:""],style:k?f.isFunction(k)?k(Re):k:null},{default:()=>G(D,M,z,ve,fe,Me)}):w("tr",{key:fe,class:["vxe-footer--row",J?f.isFunction(J)?J(Re):J:""],style:k?f.isFunction(k)?k(Re):k:null},G(D,M,z,ve,fe,Me))})},Q=()=>{const{fixedType:D,fixedColumn:M,tableColumn:L}=e,{spanMethod:z,footerSpanMethod:J,showFooterOverflow:k}=n,{visibleColumn:j,fullColumnIdData:Z}=c,{isGroup:ge,isColLoading:Ce,overflowX:ve,scrollXLoad:fe,dragCol:Me}=u;let Re=L,re=!1;if(fe&&k&&(z||J||(re=!0)),(!re||!Ce&&(D||!ve))&&(Re=j),D&&re&&(Re=M||[]),!D&&!ge&&fe&&Me&&Re.length>2){const ue=Z[Me.id];if(ue){const X=ue._index,oe=Re[0],te=Re[Re.length-1],le=Z[oe.id],we=Z[te.id];if(le&&we){const ie=le._index,Oe=we._index;X<ie?Re=[Me].concat(Re):X>Oe&&(Re=Re.concat([Me]))}}}return w("div",{ref:S,class:["vxe-table--footer-wrapper",D?`fixed-${D}--wrapper`:"body--wrapper"],xid:o},[w("div",{ref:F,class:"vxe-table--footer-inner-wrapper",onScroll(ue){t.triggerFooterScrollEvent(ue,D)}},[D?$m(t):w("div",{ref:V,class:"vxe-body--x-space"}),w("table",{ref:_,class:"vxe-table--footer",xid:o,cellspacing:0,cellpadding:0,border:0,xvm:re?"1":null},[w("colgroup",{ref:q},Re.map((ue,X)=>w("col",{name:ue.id,key:X,style:{width:`${ue.renderWidth}px`}}))),w("tfoot",{ref:P},ae(re,Re))])])])};return nn(()=>{pe(()=>{const{fixedType:D}=e,{elemStore:M}=c,L=`${D||"main"}-footer-`;M[`${L}wrapper`]=S,M[`${L}scroll`]=F,M[`${L}table`]=_,M[`${L}colgroup`]=q,M[`${L}list`]=P,M[`${L}xSpace`]=V})}),rl(()=>{const{fixedType:D}=e,{elemStore:M}=c,L=`${D||"main"}-footer-`;M[`${L}wrapper`]=null,M[`${L}scroll`]=null,M[`${L}table`]=null,M[`${L}colgroup`]=null,M[`${L}list`]=null,M[`${L}xSpace`]=null}),Q}}),{getConfig:pr}=xe,es={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>pr().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>pr().table.resizable},stripe:{type:Boolean,default:()=>pr().table.stripe},border:{type:[Boolean,String],default:()=>pr().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>pr().table.round},size:{type:String,default:()=>pr().table.size||pr().size},fit:{type:Boolean,default:()=>pr().table.fit},loading:Boolean,align:{type:String,default:()=>pr().table.align},headerAlign:{type:String,default:()=>pr().table.headerAlign},footerAlign:{type:String,default:()=>pr().table.footerAlign},showHeader:{type:Boolean,default:()=>pr().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>pr().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>pr().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>pr().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>pr().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>pr().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>pr().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>pr().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>pr().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>pr().table.emptyText},keepSource:{type:Boolean,default:()=>pr().table.keepSource},autoResize:{type:Boolean,default:()=>pr().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,aggregateConfig:Object,rowGroupConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>pr().table.animat},delayHover:{type:Number,default:()=>pr().table.delayHover},params:Object},Nf=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","current-row-change","current-row-disabled","current-column-change","current-column-disabled","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","clear-all-sort","filter-change","filter-visible","clear-filter","clear-all-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-group-expand","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:Xt,getIcon:Or,renderEmptyElement:si}=xe,fR=ho({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=xe.getComponent("VxeModal"),o=xe.getComponent("VxeDrawer"),n=xe.getComponent("VxeButton"),u=xe.getComponent("VxeNumberInput"),c=xe.getComponent("VxeRadioGroup"),d=Pr("$xeTable",{}),{props:v,reactData:m,internalData:x}=d,{computeCustomOpts:i,computeColumnDragOpts:s,computeColumnOpts:R,computeIsMaxFixedColumn:O,computeResizableOpts:S}=d.getComputeMaps(),F=Pe(),_=Pe(),q=Pe(),P=Pe(),V=Pe();let G,ae=!1,Q;const D=de=>{const{customStore:he}=e;he.activeWrapper=!0,d.customOpenEvent(de)},M=de=>{const{customStore:he}=e;he.activeWrapper=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&d.customCloseEvent(de)},300)},L=({$event:de})=>{m.isCustomStatus=!0,d.saveCustom(),d.closeCustom(),d.emitCustomEvent("confirm",de)},z=({$event:de})=>{d.closeCustom(),d.emitCustomEvent("close",de)},J=({$event:de})=>{d.cancelCustom(),d.closeCustom(),d.emitCustomEvent("cancel",de)},k=de=>{d.resetCustom(!0),d.closeCustom(),d.emitCustomEvent("reset",de)},j=({$event:de})=>{xe.modal?xe.modal.confirm({content:Xt("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(he=>{he==="confirm"&&k(de)}):k(de)},Z=de=>{const{customColumnList:he}=m,Te=f.findTree(he,me=>me===de);if(Te&&Te.parent){const{parent:me}=Te;me.children&&me.children.length&&(me.renderVisible=me.children.every(ce=>ce.renderVisible),me.halfVisible=!me.renderVisible&&me.children.some(ce=>ce.renderVisible||ce.halfVisible),Z(me))}},ge=de=>{const he=!de.renderVisible;i.value.immediate?(f.eachTree([de],me=>{me.visible=he,me.renderVisible=he,me.halfVisible=!1}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:visible")):f.eachTree([de],me=>{me.renderVisible=he,me.halfVisible=!1}),Z(de),d.checkCustomStatus()},Ce=de=>{i.value.immediate&&de.renderResizeWidth!==de.renderWidth&&(de.resizeWidth=de.renderResizeWidth,de.renderWidth=de.renderResizeWidth,m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:width"))},ve=(de,he)=>{const Te=O.value;i.value.immediate?(de.renderFixed===he?f.eachTree([de],ce=>{ce.fixed="",ce.renderFixed=""}):(!Te||de.renderFixed)&&f.eachTree([de],ce=>{ce.fixed=he,ce.renderFixed=he}),m.isCustomStatus=!0,d.handleCustom(),d.saveCustomStore("update:fixed")):de.renderFixed===he?f.eachTree([de],ce=>{ce.renderFixed=""}):(!Te||de.renderFixed)&&f.eachTree([de],ce=>{ce.renderFixed=he})},fe=()=>{d.toggleCustomAllCheckbox()},Me=(de,he,Te,me)=>{const ce=_.value;if(!ce)return;const Ie=ce.getBoundingClientRect();if(he){const Ye=q.value;if(Ye)if(Te){const Le=he.getBoundingClientRect();Ye.style.display="block",Ye.style.top=`${Math.max(1,Le.y+ce.scrollTop-Ie.y)}px`,Ye.style.height=`${Le.height}px`,Ye.style.width=`${Le.width}px`,Ye.setAttribute("drag-pos",me),Ye.setAttribute("drag-to-child",ae?"y":"n")}else Ye.style.display=""}const Ee=P.value;Ee&&(Ee.style.display="block",Ee.style.top=`${Math.min(ce.clientHeight+ce.scrollTop-Ee.clientHeight,de.clientY+ce.scrollTop-Ie.y)}px`,Ee.style.left=`${Math.min(ce.clientWidth+ce.scrollLeft-Ee.clientWidth,de.clientX+ce.scrollLeft-Ie.x)}px`,Ee.setAttribute("drag-status",Te?ae?"sub":"normal":"disabled"))},Re=()=>{const de=P.value,he=q.value;de&&(de.style.display=""),he&&(he.style.display="")},re=de=>{const ce=de.currentTarget.parentElement.parentElement.parentElement,Ie=ce.getAttribute("colid"),Ee=d.getColumnById(Ie);ce.draggable=!0,V.value=Ee,Do(ce,"active--drag-origin")},ue=de=>{const ce=de.currentTarget.parentElement.parentElement.parentElement;Re(),ce.draggable=!1,V.value=null,eo(ce,"active--drag-origin")},X=de=>{de.dataTransfer&&de.dataTransfer.setDragImage(ff(),0,0)},oe=de=>{const{mouseConfig:he}=v,{customColumnList:Te}=m,{collectColumn:me}=x,ce=i.value,{immediate:Ie}=ce,Ee=de.currentTarget,Ye=V.value,Le=s.value,{isCrossDrag:Ue,isSelfToChildDrag:_e,isToChildDrag:lt,dragEndMethod:yt}=Le,Ct=Q==="bottom"?1:0;if(G&&Ye&&G!==Ye){const it=Ye,vt=G;Promise.resolve(yt?yt({oldColumn:it,newColumn:vt,dragColumn:it,dragPos:Q,dragToChild:!!ae,offsetIndex:Ct}):!0).then(xt=>{if(!xt)return;let Xe=-1,Ve=-1;const ft={};f.eachTree([it],ot=>{ft[ot.id]=ot});let ze=!1;if(Ie){if(it.parentId&&vt.parentId){if(!Ue)return;if(ft[vt.id]&&(ze=!0,!(Ue&&_e))){xe.modal&&xe.modal.message({status:"error",content:Xt("vxe.error.treeDragChild")});return}}else if(it.parentId){if(!Ue)return}else if(vt.parentId){if(!Ue)return;if(ft[vt.id]&&(ze=!0,!(Ue&&_e))){xe.modal&&xe.modal.message({status:"error",content:Xt("vxe.error.treeDragChild")});return}}const ot=f.findTree(me,Be=>Be.id===it.id);if(ze&&Ue&&_e){if(ot){const{items:Be,index:$e}=ot,Ze=it.children||[];Ze.forEach(Rt=>{Rt.parentId=it.parentId}),Be.splice($e,1,...Ze),it.children=[]}}else if(ot){const{items:Be,index:$e,parent:Ze}=ot;Be.splice($e,1),Ze||(Xe=$e)}const Ae=f.findTree(me,Be=>Be.id===vt.id);if(Ae){const{items:Be,index:$e,parent:Ze}=Ae;Ue&&lt&&ae?(it.parentId=vt.id,vt.children=(vt.children||[]).concat([it])):(it.parentId=vt.parentId,Be.splice($e+Ct,0,it)),Ze||(Ve=$e)}f.eachTree(me,(Be,$e,Ze,Rt,At)=>{if(!At){const ne=$e+1;Be.renderSortNumber=ne}})}else Xe=f.findIndexOf(Te,ot=>ot.id===it.id),Te.splice(Xe,1),Ve=f.findIndexOf(Te,ot=>ot.id===vt.id),Te.splice(Ve+Ct,0,it);m.isDragColMove=!0,he&&(d.clearSelected&&d.clearSelected(),d.clearCellAreas&&(d.clearCellAreas(),d.clearCopyCellArea())),d.dispatchEvent("column-dragend",{oldColumn:it,newColumn:vt,dragColumn:it,dragPos:Q,offsetIndex:Ct,_index:{newIndex:Ve,oldIndex:Xe}},de),Ie&&(m.customColumnList=me.slice(0),d.handleColDragSwapColumn())}).catch(()=>{})}Re(),V.value=null,Ee.draggable=!1,Ee.removeAttribute("drag-pos"),eo(Ee,"active--drag-target"),eo(Ee,"active--drag-origin")},te=de=>{const he=i.value,{immediate:Te}=he,me=s.value,{isCrossDrag:ce,isToChildDrag:Ie}=me,Ee=de.currentTarget,Ye=pi(de),Le=Ee.getAttribute("colid"),Ue=d.getColumnById(Le),_e=V.value;if(Ue&&(ce||Ue.level===1)){de.preventDefault();const yt=de.clientY-Ee.getBoundingClientRect().y<Ee.clientHeight/2?"top":"bottom";if(_e&&_e.id===Ue.id||!ce&&Ue.level>1||!Te&&Ue.level>1||Ue.renderFixed){Me(de,Ee,!1,yt);return}ae=!!(ce&&Ie&&Ye&&Te),G=Ue,Q=yt,Me(de,Ee,!0,yt)}},le=()=>{const de=V.value,he=s.value;return w("div",{},[w("div",{ref:q,class:["vxe-table-custom-popup--drag-line",{"is--guides":he.showGuidesStatus}]}),w("div",{ref:P,class:"vxe-table-custom-popup--drag-tip"},[w("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[w("div",{class:"vxe-table-custom-popup--drag-tip-status"},[w("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",Or().TABLE_DRAG_STATUS_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",Or().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",Or().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table-custom-popup--drag-tip-content"},Xt("vxe.custom.cstmDragTarget",[de&&de.type!=="html"?de.getTitle():""]))])])])},we=()=>{const de=d.xeGrid,he=d.props,{customStore:Te}=e,{treeConfig:me,rowGroupConfig:ce,aggregateConfig:Ie}=he,{isCustomStatus:Ee,customColumnList:Ye}=m,Le=i.value,{immediate:Ue}=Le,_e=s.value,{maxHeight:lt}=Te,{checkMethod:yt,visibleMethod:Ct,allowVisible:it,allowSort:vt,allowFixed:xt,trigger:Xe,placement:Ve}=Le,ft=O.value,{isCrossDrag:ze}=_e,ot=Le.slots||{},Ae=ot.header,Be=ot.top,$e=ot.bottom,Ze=ot.default,Rt=ot.footer,At=[],ne={},se=Te.isAll,be=Te.isIndeterminate;Xe==="hover"&&(ne.onMouseenter=D,ne.onMouseleave=M);const ke={$table:d,$grid:de,columns:Ye,isAllChecked:se,isAllIndeterminate:be,isCustomStatus:Ee};return f.eachTree(Ye,(Fe,et,tt,wt,bt)=>{if(Ct?Ct({$table:d,column:Fe}):!0){const Mt=Fe.renderVisible,ht=Fe.halfVisible,$t=Fe.children&&Fe.children.length,nr=Mr(Fe.getTitle(),1),Zt=yt?!yt({$table:d,column:Fe}):!1,Vt=!Mt;At.push(w("li",{key:Fe.id,colid:Fe.id,class:["vxe-table-custom--option",`level--${Fe.level}`,{"is--hidden":Zt||Vt,"is--group":$t}],onDragstart:X,onDragend:oe,onDragover:te},[it?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Mt,"is--indeterminate":ht,"is--disabled":Zt}],title:Xt("vxe.custom.setting.colVisible"),onClick:()=>{Zt||ge(Fe)}},[w("span",{class:["vxe-checkbox--icon",ht?Or().TABLE_CHECKBOX_INDETERMINATE:Mt?Or().TABLE_CHECKBOX_CHECKED:Or().TABLE_CHECKBOX_UNCHECKED]})]):Qe(),w("div",{class:"vxe-table-custom--name-option"},[vt&&(ze&&Ue||Fe.level===1)?w("div",{class:"vxe-table-custom--sort-option"},[w("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Zt||Vt||Fe.renderFixed}],title:Xt("vxe.custom.setting.sortHelpTip")},Zt||Vt||Fe.renderFixed?{}:{onMousedown:re,onMouseup:ue}),[w("i",{class:Or().TABLE_CUSTOM_SORT})])]):Qe(),Fe.type==="html"?w("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:nr}):w("div",{key:"0",class:"vxe-table-custom--checkbox-label"},nr)]),!bt&&xt?w("div",{class:"vxe-table-custom--fixed-option"},[n?w(n,{mode:"text",icon:Fe.renderFixed==="left"?Or().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Or().TOOLBAR_TOOLS_FIXED_LEFT,status:Fe.renderFixed==="left"?"primary":"",disabled:Zt||Vt||ft&&!Fe.renderFixed,title:Xt(Fe.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{ve(Fe,"left")}}):Qe(),n?w(n,{mode:"text",icon:Fe.renderFixed==="right"?Or().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Or().TOOLBAR_TOOLS_FIXED_RIGHT,status:Fe.renderFixed==="right"?"primary":"",disabled:Zt||Vt||ft&&!Fe.renderFixed,title:Xt(Fe.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{ve(Fe,"right")}}):Qe()]):Qe()]))}}),w("div",{ref:F,key:"simple",class:["vxe-table-custom-wrapper",`placement--${Ve}`,{"is--active":Te.visible}],style:lt&&!["left","right"].includes(Ve)?{maxHeight:`${lt}px`}:{}},Te.visible?[!me&&(Ie||ce)&&d.getPivotTableAggregateSimplePanel?w(d.getPivotTableAggregateSimplePanel(),{customStore:Te}):si(d),w("div",{class:"vxe-table-custom--handle-wrapper"},[w("div",{class:"vxe-table-custom--header"},Ae?d.callSlot(Ae,ke):[w("ul",{class:"vxe-table-custom--panel-list"},[w("li",{class:"vxe-table-custom--option"},[it?w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":se,"is--indeterminate":be}],title:Xt("vxe.table.allTitle"),onClick:fe},[w("span",{class:["vxe-checkbox--icon",be?Or().TABLE_CHECKBOX_INDETERMINATE:se?Or().TABLE_CHECKBOX_CHECKED:Or().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Xt("vxe.toolbar.customAll"))]):w("span",{class:"vxe-checkbox--label"},Xt("vxe.table.customTitle"))])])]),w("div",{ref:_,class:"vxe-table-custom--body"},[Be?w("div",{class:"vxe-table-custom--panel-top"},d.callSlot(Be,ke)):si(d),Ze?w("div",{class:"vxe-table-custom--panel-body"},d.callSlot(Ze,ke)):w(Hl,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ne),{default:()=>At}),$e?w("div",{class:"vxe-table-custom--panel-bottom"},d.callSlot($e,ke)):si(d),le()]),Le.showFooter?w("div",{class:"vxe-table-custom--footer"},Rt?d.callSlot(Rt,ke):[w("div",{class:"vxe-table-custom--footer-buttons"},[n?w(n,{mode:"text",content:Le.resetButtonText||Xt("vxe.table.customRestore"),disabled:!Ee,onClick:j}):Qe(),Ue?n?w(n,{mode:"text",content:Le.closeButtonText||Xt("vxe.table.customClose"),onClick:z}):Qe():n?w(n,{mode:"text",content:Le.cancelButtonText||Xt("vxe.table.customCancel"),onClick:J}):Qe(),Ue?Qe():n?w(n,{mode:"text",status:"primary",content:Le.confirmButtonText||Xt("vxe.table.customConfirm"),onClick:L}):Qe()])]):null])]:[])},ie=()=>{const de=d.xeGrid,{customStore:he}=e,{resizable:Te}=v,{isCustomStatus:me,customColumnList:ce}=m,Ie=i.value,{immediate:Ee}=Ie,Ye=s.value,{mode:Le,modalOptions:Ue,drawerOptions:_e,allowVisible:lt,allowSort:yt,allowFixed:Ct,allowResizable:it,checkMethod:vt,visibleMethod:xt}=Ie,Xe=R.value,{maxFixedSize:Ve}=Xe,ft=S.value,{minWidth:ze,maxWidth:ot}=ft,Ae=Object.assign({},Ue),Be=Object.assign({},_e),$e=O.value,{isCrossDrag:Ze}=Ye,Rt=Ie.slots||{},At=Rt.header,ne=Rt.top,se=Rt.bottom,be=Rt.default,ke=Rt.footer,Fe=[],et=he.isAll,tt=he.isIndeterminate,wt={$table:d,$grid:de,columns:ce,isAllChecked:et,isAllIndeterminate:tt,isCustomStatus:me};f.eachTree(ce,(nt,Mt,ht,$t,nr)=>{if(xt?xt({$table:d,column:nt}):!0){let Vt=0,zt=0;if(it){const Pt={$table:d,column:nt,columnIndex:Mt,$columnIndex:Mt,$rowIndex:-1};ze&&(Vt=f.toNumber(f.isFunction(ze)?ze(Pt):ze)),ot&&(zt=f.toNumber(f.isFunction(ot)?ot(Pt):ot))}const er=nt.renderVisible,ct=nt.halfVisible,Lt=Mr(nt.getTitle(),1),St=nt.children&&nt.children.length,gr=vt?!vt({$table:d,column:nt}):!1,tr=!er;Fe.push(w("tr",{key:nt.id,colid:nt.id,class:[`vxe-table-custom-popup--row level--${nt.level}`,{"is--group":St}],onDragstart:X,onDragend:oe,onDragover:te},[lt?w("td",{class:"vxe-table-custom-popup--column-item col--visible"},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":er,"is--indeterminate":ct,"is--disabled":gr}],title:Xt("vxe.custom.setting.colVisible"),onClick:()=>{gr||ge(nt)}},[w("span",{class:["vxe-checkbox--icon",ct?Or().TABLE_CHECKBOX_INDETERMINATE:er?Or().TABLE_CHECKBOX_CHECKED:Or().TABLE_CHECKBOX_UNCHECKED]})])]):Qe(),w("td",{class:"vxe-table-custom-popup--column-item col--name"},[w("div",{class:"vxe-table-custom-popup--name"},[yt?Ze&&Ee||nt.level===1?w("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":gr||tr||nt.renderFixed}],title:Xt("vxe.custom.setting.sortHelpTip")},gr||tr||nt.renderFixed?{}:{onMousedown:re,onMouseup:ue}),[w("i",{class:Or().TABLE_CUSTOM_SORT})]):w("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):Qe(),nt.type==="html"?w("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:Lt}):w("div",{key:"0",class:"vxe-table-custom-popup--title",title:Lt},Lt)])]),it?w("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[nt.children&&nt.children.length||!(f.isBoolean(nt.resizable)?nt.resizable:Xe.resizable||Te)?w("span","-"):u?w(u,{type:"integer",immediate:!1,disabled:gr||tr,modelValue:nt.renderResizeWidth,min:Vt||void 0,max:zt||void 0,"onUpdate:modelValue"(Pt){const Lr=Math.max(0,Number(Pt));nt.renderResizeWidth=Lr},onChange(){Ce(nt)}}):Qe()]):Qe(),Ct?w("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[nr?w("span","-"):c?w(c,{modelValue:nt.renderFixed||"",type:"button",size:"mini",disabled:gr||tr,options:[{label:Xt("vxe.custom.setting.fixedLeft"),value:"left",disabled:gr||tr||$e},{label:Xt("vxe.custom.setting.fixedUnset"),value:"",disabled:gr||tr},{label:Xt("vxe.custom.setting.fixedRight"),value:"right",disabled:gr||tr||$e}],"onUpdate:modelValue"(Pt){ve(nt,Pt)}}):Qe()]):Qe()]))}});const bt={default:()=>be?d.callSlot(be,wt):w("div",{ref:_,class:"vxe-table-custom-popup--body"},[ne?w("div",{class:"vxe-table-custom-popup--table-top"},d.callSlot(ne,wt)):si(d),w("div",{class:"vxe-table-custom-popup--table-wrapper"},[w("table",{},[w("colgroup",{},[lt?w("col",{class:"vxe-table-custom-popup--table-col-seq"}):Qe(),w("col",{class:"vxe-table-custom-popup--table-col-title"}),it?w("col",{class:"vxe-table-custom-popup--table-col-width"}):Qe(),Ct?w("col",{class:"vxe-table-custom-popup--table-col-fixed"}):Qe()]),w("thead",{},[w("tr",{},[lt?w("th",{},[w("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":et,"is--indeterminate":tt}],title:Xt("vxe.table.allTitle"),onClick:fe},[w("span",{class:["vxe-checkbox--icon",tt?Or().TABLE_CHECKBOX_INDETERMINATE:et?Or().TABLE_CHECKBOX_CHECKED:Or().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Xt("vxe.toolbar.customAll"))])]):Qe(),w("th",{},Xt("vxe.custom.setting.colTitle")),it?w("th",{},Xt("vxe.custom.setting.colResizable")):Qe(),Ct?w("th",{},Xt(`vxe.custom.setting.${Ve?"colFixedMax":"colFixed"}`,[Ve])):Qe()])]),w(Hl,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>Fe})])]),se?w("div",{class:"vxe-table-custom-popup--table-bottom"},d.callSlot(se,wt)):si(d),le()]),footer:()=>ke?d.callSlot(ke,wt):w("div",{class:"vxe-table-custom-popup--footer"},[n?w(n,{content:Ie.resetButtonText||Xt("vxe.custom.cstmRestore"),disabled:!me,onClick:j}):Qe(),Ee?n?w(n,{content:Ie.closeButtonText||Xt("vxe.table.customClose"),onClick:z}):Qe():n?w(n,{content:Ie.cancelButtonText||Xt("vxe.table.customCancel"),onClick:J}):Qe(),Ee?Qe():n?w(n,{status:"primary",content:Ie.confirmButtonText||Xt("vxe.custom.cstmConfirm"),onClick:L}):Qe()])};return At&&(bt.header=()=>d.callSlot(At,wt)),Le==="drawer"?o?w(o,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",Be.className||""].join(" "),modelValue:he.visible,title:Be.title||Xt("vxe.custom.cstmTitle"),width:Be.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:Be.position,resize:!!Be.resize,escClosable:!!Be.escClosable,maskClosable:!!Be.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(nt){he.visible=nt}},bt):Qe():t?w(t,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Ae.className||""].join(" "),modelValue:he.visible,title:Ae.title||Xt("vxe.custom.cstmTitle"),width:Ae.width||Math.min(880,document.documentElement.clientWidth),minWidth:Ae.minWidth||700,height:Ae.height||Math.min(680,document.documentElement.clientHeight),minHeight:Ae.minHeight||400,showZoom:Ae.showZoom,showMaximize:Ae.showMaximize,showMinimize:Ae.showMinimize,mask:Ae.mask,lockView:Ae.lockView,resize:Ae.resize,escClosable:!!Ae.escClosable,maskClosable:!!Ae.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(nt){he.visible=nt}},bt):Qe()},Oe=()=>{const de=i.value;return["modal","drawer","popup"].includes(`${de.mode}`)?ie():we()};return pe(()=>{const de=i.value,{mode:he}=de;!t&&he==="modal"&&je("vxe.error.reqComp",["vxe-modal"]),!o&&he==="drawer"&&je("vxe.error.reqComp",["vxe-drawer"]),n||je("vxe.error.reqComp",["vxe-button"]),u||je("vxe.error.reqComp",["vxe-number-input"]),c||je("vxe.error.reqComp",["vxe-radio-group"])}),Oe}}),{getI18n:Pi,getIcon:ai,renderer:Wm}=xe,hR=ho({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e,t){const o=f.uniqueId(),n=Pr("$xeTable",{}),{reactData:u,internalData:c,getComputeMaps:d}=n,{computeFilterOpts:v}=d(),m=Pe(),x={refElem:m},i={xID:o,props:e,context:t,getRefMaps:()=>x},s=qe(()=>{const{filterStore:D}=e;return D&&D.options.some(M=>M.checked)}),R=(D,M)=>{const{filterStore:L}=e;L.options.forEach(z=>{z._checked=M,z.checked=M}),L.isAllSelected=M,L.isIndeterminate=!1},O=D=>{n.handleFilterConfirmFilter(D)},S=(D,M,L)=>{n.handleFilterChangeRadioOption(D,M,L)},F=D=>{n.handleFilterResetFilter(D)},_=(D,M,L)=>{n.handleFilterChangeMultipleOption(D,M,L)},q=(D,M,L)=>{n.handleFilterChangeOption(D,M,L)},P=(D,M)=>{const{filterStore:L}=e;L.multiple?R(D,M):F(D)};Object.assign(i,{changeRadioOption:S,changeMultipleOption:_,changeAllOption:P,changeOption:q,confirmFilter:O,resetFilter:F});const G=(D,M)=>{const{filterStore:L}=e,{column:z,multiple:J,maxHeight:k}=L,j=z?z.slots:null,Z=j?j.filter:null,ge=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),Ce=M?M.renderTableFilter||M.renderFilter:null;if(Z)return[w("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},n.callSlot(Z,ge))];if(Ce)return[w("div",{class:"vxe-table--filter-template",style:k?{maxHeight:`${k}px`}:{}},qr(Ce(D,ge)))];const ve=J?L.isAllSelected:!L.options.some(Me=>Me._checked),fe=J&&L.isIndeterminate;return[w("ul",{class:"vxe-table--filter-header"},[w("li",{class:["vxe-table--filter-option",{"is--checked":ve,"is--indeterminate":fe}],title:Pi(J?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:Me=>{P(Me,!L.isAllSelected)}},(J?[w("span",{class:["vxe-checkbox--icon",fe?ai().TABLE_CHECKBOX_INDETERMINATE:ve?ai().TABLE_CHECKBOX_CHECKED:ai().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},Pi("vxe.table.allFilter"))]))]),w("ul",{class:"vxe-table--filter-body",style:k?{maxHeight:`${k}px`}:{}},L.options.map(Me=>{const Re=Me._checked;return w("li",{class:["vxe-table--filter-option",{"is--checked":Me._checked}],title:Me.label,onClick:re=>{q(re,!Me._checked,Me)}},(J?[w("span",{class:["vxe-checkbox--icon",Re?ai().TABLE_CHECKBOX_CHECKED:ai().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([w("span",{class:"vxe-checkbox--label"},Mr(Me.label,1))]))}))]},ae=()=>{const{filterStore:D}=e,{column:M,multiple:L}=D,z=v.value,J=s.value,{filterRender:k}=M,j=Et(k)?Wm.get(k.name):null,Z=!J&&!D.isAllSelected&&!D.isIndeterminate;return L&&(!j||!(j.showTableFilterFooter===!1||j.showFilterFooter===!1||j.isFooter===!1))?[w("div",{class:"vxe-table--filter-footer"},[w("button",{class:{"is--disabled":Z},disabled:Z,onClick:O},z.confirmButtonText||Pi("vxe.table.confirmFilter")),w("button",{onClick:F},z.resetButtonText||Pi("vxe.table.resetFilter"))])]:[]},Q=()=>{const{filterStore:D}=e,{initStore:M}=u,{visible:L,multiple:z,column:J}=D,k=J?J.filterRender:null,j=Et(k)?Wm.get(k.name):null,Z=j?j.tableFilterClassName||j.filterClassName:"",ge=Object.assign({},c._currFilterParams,{$panel:i,$table:n}),Ce=n.props,{computeSize:ve}=n.getComputeMaps(),fe=ve.value,Me=v.value,{transfer:Re,destroyOnClose:re}=Me;return w(db,{to:"body",disabled:!Re},[w("div",{ref:m,class:["vxe-table--filter-wrapper","filter--prevent-default",wn(Z,ge),{[`size--${fe}`]:fe,"is--animat":Ce.animat,"is--multiple":z,"is--active":L}],style:D.style},M.filter&&(!re||L)&&J?G(k,j).concat(ae()):[])])};return i.renderVN=Q,i},render(){return this.renderVN()}}),{getI18n:Yn,getIcon:pR}=xe,gR=ho({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=xe.getComponent("VxeModal"),o=xe.getComponent("VxeButton"),n=xe.getComponent("VxeSelect"),u=Pr("$xeTable",{}),{computeImportOpts:c}=u.getComputeMaps(),d=to({loading:!1}),v=Pe(),m=qe(()=>{const{storeData:q}=e;return`${q.filename}.${q.type}`}),x=qe(()=>{const{storeData:q}=e;return q.file&&q.type}),i=qe(()=>{const{storeData:q}=e,{type:P,typeList:V}=q;if(P){const G=f.find(V,ae=>P===ae.value);return G?G.label:"*.*"}return`*.${V.map(G=>G.value).join(", *.")}`}),s=()=>{const{storeData:q}=e;Object.assign(q,{filename:"",sheetName:"",type:""})},R=()=>{const{storeData:q,defaultOptions:P}=e;u.readFile(P).then(V=>{const{file:G}=V;Object.assign(q,Xx(G),{file:G})}).catch(V=>V)},O=()=>{pe(()=>{const q=v.value;q&&q.focus()})},S=()=>{const{storeData:q}=e;q.visible=!1},F=()=>{const{storeData:q,defaultOptions:P}=e,V=c.value;d.loading=!0,u.importByFile(q.file,Object.assign({},V,P)).then(()=>{d.loading=!1,q.visible=!1}).catch(()=>{d.loading=!1})},_=()=>{const q=u.xeGrid,{defaultOptions:P,storeData:V}=e,G=m.value,ae=x.value,Q=i.value,D=P.slots||{},M=D.top,L=D.bottom,z=D.default,J=D.footer;return t?w(t,{id:"VXE_IMPORT_MODAL",modelValue:V.visible,title:Yn("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:d.loading,"onUpdate:modelValue"(k){V.visible=k},onShow:O},{default:()=>{const k={$table:u,$grid:q,options:P,params:P.params};return w("div",{class:"vxe-table-export--panel"},[M?w("div",{class:"vxe-table-export--panel-top"},u.callSlot(M,k)):Qe(),w("div",{class:"vxe-table-export--panel-body"},z?u.callSlot(z,k):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[w("tr",[w("td",Yn("vxe.import.impFile")),w("td",[ae?w("div",{class:"vxe-table-export--selected--file",title:G},[w("span",G),w("i",{class:pR().INPUT_CLEAR,onClick:s})]):w("button",{ref:v,class:"vxe-table-export--select--file",onClick:R},Yn("vxe.import.impSelect"))])]),w("tr",[w("td",Yn("vxe.import.impType")),w("td",Q)]),w("tr",[w("td",Yn("vxe.import.impMode")),w("td",[n?w(n,{modelValue:P.mode,options:V.modeList,"onUpdate:modelValue"(j){P.mode=j}}):Qe()])])])])]),L?w("div",{class:"vxe-table-export--panel-bottom"},u.callSlot(L,k)):Qe()])},footer(){const k={$table:u,$grid:q,options:P,params:P.params};return w("div",{class:"vxe-table-export--panel-footer"},J?u.callSlot(J,k):[w("div",{class:"vxe-table-export--panel-btns"},[o?w(o,{content:Yn("vxe.import.impCancel"),onClick:S}):Qe(),o?w(o,{status:"primary",disabled:!ae||d.loading,content:Yn("vxe.import.impConfirm"),onClick:F}):Qe()])])}}):Qe()};return pe(()=>{t||je("vxe.error.reqComp",["vxe-modal"]),o||je("vxe.error.reqComp",["vxe-button"]),n||je("vxe.error.reqComp",["vxe-select"])}),_}}),{getI18n:Qt,getIcon:Cl}=xe,vR=ho({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=xe.getComponent("VxeModal"),o=xe.getComponent("VxeButton"),n=xe.getComponent("VxeSelect"),u=xe.getComponent("VxeInput"),c=xe.getComponent("VxeCheckbox"),d=Pr("$xeTable",{}),{computeExportOpts:v,computePrintOpts:m}=d.getComputeMaps(),x=to({isAll:!1,isIndeterminate:!1,loading:!1}),i=Pe(),s=Pe(),R=Pe(),O=qe(()=>{const{storeData:k}=e;return k.columns.every(j=>j.checked)}),S=qe(()=>{const{defaultOptions:k}=e;return["html","xml","xlsx","pdf"].indexOf(k.type)>-1}),F=qe(()=>{const{storeData:k,defaultOptions:j}=e;return!j.original&&j.mode==="current"&&(k.isPrint||["html","xlsx"].indexOf(j.type)>-1)}),_=qe(()=>{const{defaultOptions:k}=e;return!k.original&&["xlsx"].indexOf(k.type)>-1}),q=k=>{const{storeData:j}=e,Z=f.findTree(j.columns,ge=>ge===k);if(Z&&Z.parent){const{parent:ge}=Z;ge.children&&ge.children.length&&(ge.checked=ge.children.every(Ce=>Ce.checked),ge.halfChecked=!ge.checked&&ge.children.some(Ce=>Ce.checked||Ce.halfChecked),q(ge))}},P=()=>{const{storeData:k}=e,j=k.columns;x.isAll=j.every(Z=>Z.disabled||Z.checked),x.isIndeterminate=!x.isAll&&j.some(Z=>!Z.disabled&&(Z.checked||Z.halfChecked))},V=k=>{const j=!k.checked;f.eachTree([k],Z=>{Z.checked=j,Z.halfChecked=!1}),q(k),P()},G=()=>{const{storeData:k}=e,j=!x.isAll;f.eachTree(k.columns,Z=>{Z.disabled||(Z.checked=j,Z.halfChecked=!1)}),x.isAll=j,P()},ae=()=>{pe(()=>{const k=s.value,j=R.value,Z=i.value,ge=k||j||Z;ge&&ge.focus()}),P()},Q=()=>{const{storeData:k,defaultOptions:j}=e,{hasMerge:Z,columns:ge}=k,Ce=O.value,ve=F.value,fe=f.searchTree(ge,Me=>Me.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},j,{columns:fe,isMerge:Z&&ve&&Ce?j.isMerge:!1})},D=()=>{const{storeData:k}=e,j=m.value;k.visible=!1,d.print(Object.assign({},j,Q()))},M=()=>{const{storeData:k}=e,j=v.value;x.loading=!0,d.exportData(Object.assign({},j,Q())).then(()=>{x.loading=!1,k.visible=!1}).catch(()=>{x.loading=!1})},L=()=>{const{storeData:k}=e;k.visible=!1},z=()=>{const{storeData:k}=e;k.isPrint?D():M()},J=()=>{const k=d.xeGrid,{defaultOptions:j,storeData:Z}=e,{isAll:ge,isIndeterminate:Ce}=x,{hasTree:ve,hasMerge:fe,isPrint:Me,hasColgroup:Re,columns:re}=Z,{isHeader:ue}=j,X=[],oe=O.value,te=S.value,le=F.value,we=_.value,ie=j.slots||{},Oe=ie.top,de=ie.bottom,he=ie.default,Te=ie.footer,me=ie.parameter;return f.eachTree(re,ce=>{const Ie=Mr(ce.getTitle(),1),Ee=ce.children&&ce.children.length,Ye=ce.checked,Le=ce.halfChecked,Ue=ce.type==="html";X.push(w("li",{key:ce.id,class:["vxe-table-export--panel-column-option",`level--${ce.level}`,{"is--group":Ee,"is--checked":Ye,"is--indeterminate":Le,"is--disabled":ce.disabled}],title:Ue?"":Ie,onClick:()=>{ce.disabled||V(ce)}},[w("span",{class:["vxe-checkbox--icon",Le?Cl().TABLE_CHECKBOX_INDETERMINATE:Ye?Cl().TABLE_CHECKBOX_CHECKED:Cl().TABLE_CHECKBOX_UNCHECKED]}),Ue?w("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Ie}):w("span",{key:"0",class:"vxe-checkbox--label"},Ie)]))}),t?w(t,{id:"VXE_EXPORT_MODAL",modelValue:Z.visible,title:Qt(Me?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:x.loading,"onUpdate:modelValue"(ce){Z.visible=ce},onShow:ae},{default:()=>{const ce={$table:d,$grid:k,options:j,columns:re,params:j.params},Ie=j.mode==="empty";return w("div",{class:"vxe-table-export--panel"},[Oe?w("div",{class:"vxe-table-export--panel-top"},d.callSlot(Oe,ce)):Qe(),w("div",{class:"vxe-table-export--panel-body"},he?d.callSlot(he,ce):[w("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[w("tbody",[[Me?Qe():w("tr",[w("td",Qt("vxe.export.expName")),w("td",[u?w(u,{ref:s,modelValue:j.filename,type:"text",clearable:!0,placeholder:Qt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Ee){j.filename=Ee}}):Qe()])]),Me?Qe():w("tr",[w("td",Qt("vxe.export.expType")),w("td",[n?w(n,{modelValue:j.type,options:Z.typeList,"onUpdate:modelValue"(Ee){j.type=Ee}}):Qe()])]),Me||te?w("tr",[w("td",Qt("vxe.export.expSheetName")),w("td",[u?w(u,{ref:R,modelValue:j.sheetName,type:"text",clearable:!0,placeholder:Qt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Ee){j.sheetName=Ee}}):Qe()])]):Qe(),w("tr",[w("td",Qt("vxe.export.expMode")),w("td",[n?w(n,{modelValue:j.mode,options:Z.modeList.map(Ee=>({value:Ee.value,label:Qt(Ee.label)})),"onUpdate:modelValue"(Ee){j.mode=Ee}}):Qe()])]),w("tr",[w("td",[Qt("vxe.export.expColumn")]),w("td",[w("div",{class:"vxe-table-export--panel-column"},[w("ul",{class:"vxe-table-export--panel-column-header"},[w("li",{class:["vxe-table-export--panel-column-option",{"is--checked":ge,"is--indeterminate":Ce}],title:Qt("vxe.table.allTitle"),onClick:G},[w("span",{class:["vxe-checkbox--icon",Ce?Cl().TABLE_CHECKBOX_INDETERMINATE:ge?Cl().TABLE_CHECKBOX_CHECKED:Cl().TABLE_CHECKBOX_UNCHECKED]}),w("span",{class:"vxe-checkbox--label"},Qt("vxe.export.expCurrentColumn"))])]),w("ul",{class:"vxe-table-export--panel-column-body"},X)])])]),w("tr",[w("td",Qt("vxe.export.expOpts")),me?w("td",[w("div",{class:"vxe-table-export--panel-option-row"},d.callSlot(me,ce))]):w("td",[w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:Ie||ue,disabled:Ie,title:Qt("vxe.export.expHeaderTitle"),content:Qt("vxe.export.expOptHeader"),"onUpdate:modelValue"(Ee){j.isHeader=Ee}}):Qe(),c?w(c,{modelValue:ue?j.isTitle:!1,disabled:!ue,title:Qt("vxe.export.expTitleTitle"),content:Qt("vxe.export.expOptTitle"),"onUpdate:modelValue"(Ee){j.isTitle=Ee}}):Qe(),c?w(c,{modelValue:ue&&Re&&le?j.isColgroup:!1,title:Qt("vxe.export.expColgroupTitle"),disabled:!ue||!Re||!le,content:Qt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Ee){j.isColgroup=Ee}}):Qe()]),w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:Ie?!1:j.original,disabled:Ie,title:Qt("vxe.export.expOriginalTitle"),content:Qt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Ee){j.original=Ee}}):Qe(),c?w(c,{modelValue:fe&&le&&oe?j.isMerge:!1,title:Qt("vxe.export.expMergeTitle"),disabled:Ie||!fe||!le||!oe,content:Qt("vxe.export.expOptMerge"),"onUpdate:modelValue"(Ee){j.isMerge=Ee}}):Qe(),Me||!c?Qe():w(c,{modelValue:we?j.useStyle:!1,disabled:!we,title:Qt("vxe.export.expUseStyleTitle"),content:Qt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Ee){j.useStyle=Ee}}),c?w(c,{modelValue:ve?j.isAllExpand:!1,disabled:Ie||!ve,title:Qt("vxe.export.expAllExpandTitle"),content:Qt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Ee){j.isAllExpand=Ee}}):Qe()]),w("div",{class:"vxe-table-export--panel-option-row"},[c?w(c,{modelValue:j.isFooter,disabled:!Z.hasFooter,title:Qt("vxe.export.expFooterTitle"),content:Qt("vxe.export.expOptFooter"),"onUpdate:modelValue"(Ee){j.isFooter=Ee}}):Qe()])])])]])])]),de?w("div",{class:"vxe-table-export--panel-bottom"},d.callSlot(de,ce)):Qe()])},footer(){const ce={$table:d,$grid:k,options:j,columns:re,params:j.params};return w("div",{class:"vxe-table-export--panel-footer"},Te?d.callSlot(Te,ce):[w("div",{class:"vxe-table-export--panel-btns"},[o?w(o,{content:Qt("vxe.export.expCancel"),onClick:L}):Qe(),o?w(o,{ref:i,status:"primary",content:Qt(Me?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:z}):Qe()])])}}):Qe()};return pe(()=>{t||je("vxe.error.reqComp",["vxe-modal"]),o||je("vxe.error.reqComp",["vxe-button"]),n||je("vxe.error.reqComp",["vxe-select"]),u||je("vxe.error.reqComp",["vxe-input"]),c||je("vxe.error.reqComp",["vxe-checkbox"])}),J}}),{getIcon:mR}=xe,bR=ho({name:"VxeTableMenuPanel",setup(e,t){const o=f.uniqueId(),n=Pr("$xeTable",{}),{reactData:u}=n,c=Pe(),d={refElem:c},v={xID:o,props:e,context:t,getRefMaps:()=>d},m=()=>{const{ctxMenuStore:x}=u,{computeMenuOpts:i}=n.getComputeMaps(),s=i.value;return w(db,{to:"body",disabled:!1},[w("div",{ref:c,class:["vxe-table--context-menu-wrapper",s.className,{"is--visible":x.visible}],style:x.style},x.list.map((R,O)=>R.every(S=>S.visible===!1)?Qe():w("ul",{class:"vxe-context-menu--option-wrapper",key:O},R.map((S,F)=>{const _=S.children&&S.children.some(G=>G.visible!==!1),q=Object.assign({},S.prefixConfig),P=Object.assign({},S.suffixConfig),V=zo(S.name);return S.visible===!1?null:w("li",{class:[S.className,{"link--disabled":S.disabled,"link--active":S===x.selected}],key:`${O}_${F}`},[w("a",{class:"vxe-context-menu--link",onClick(G){n.ctxMenuLinkEvent(G,S)},onMouseover(G){n.ctxMenuMouseoverEvent(G,S)},onMouseout(G){n.ctxMenuMouseoutEvent(G,S)}},[w("div",{class:["vxe-context-menu--link-prefix",q.className||""]},[w("i",{class:q.icon||S.prefixIcon}),q.content?w("span",{},`${q.content}`):Qe()]),w("div",{class:"vxe-context-menu--link-content",title:V},V),w("div",{class:["vxe-context-menu--link-suffix",P.className||""]},[w("i",{class:P.icon||S.suffixIcon||(_?mR().TABLE_MENU_OPTIONS:"")}),P.content?w("span",`${P.content}`):Qe()])]),_?w("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":S===x.selected&&x.showChild}]},S.children.map((G,ae)=>{const Q=Object.assign({},G.prefixConfig),D=Object.assign({},G.suffixConfig),M=zo(G.name);return G.visible===!1?null:w("li",{class:[G.className,{"link--disabled":G.disabled,"link--active":G===x.selectChild}],key:`${O}_${F}_${ae}`},[w("a",{class:"vxe-context-menu--link",onClick(L){n.ctxMenuLinkEvent(L,G)},onMouseover(L){n.ctxMenuMouseoverEvent(L,S,G)},onMouseout(L){n.ctxMenuMouseoutEvent(L,S)}},[w("div",{class:["vxe-context-menu--link-prefix",Q.className||""]},[w("i",{class:Q.icon||G.prefixIcon}),Q.content?w("span",`${Q.content}`):Qe()]),w("div",{class:"vxe-context-menu--link-content",title:M},M),w("div",{class:["vxe-context-menu--link-suffix",D.className||""]},[w("i",{class:D.icon}),D.content?w("span",`${D.content}`):Qe()])])])})):null])}))))])};return v.renderVN=m,v},render(){return this.renderVN()}}),{getConfig:Ft,getIcon:Ni,getI18n:qo,renderer:Gm,formats:jm,createEvent:xR,globalResize:CR,interceptor:Um,hooks:wR,globalEvents:Kt,GLOBAL_EVENT_KEYS:co,useFns:yR,renderEmptyElement:_r}=xe,Ym=5e6,Xm="VXE_CUSTOM_STORE",Xn=5e6,wl=5e6,el=ho({name:"VxeTable",props:es,emits:Nf,setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=f.browse(),d=xe.getComponent("VxeLoading"),v=xe.getComponent("VxeTooltip"),m=Pr("$xeTabs",null),{computeSize:x}=yR.useSize(e),i=to({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],rowGroupColumn:null,expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},visiblwRowsFlag:1,isRowGroupStatus:!1,rowGroupList:[],aggHandleFields:[],rowGroupExpandedFlag:1,rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,mergeBodyFlag:1,mergeFootFlag:1,rowHeightStore:{large:52,default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),s={tZindex:0,currKeyField:"",isCurrDeepKey:!1,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterGroupFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableFullGroupData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},visibleDataRowIdData:{},sourceDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},mergeBodyList:[],mergeBodyMaps:{},mergeFooterList:[],mergeFooterMaps:{},mergeBodyCellMaps:{},mergeFooterCellMaps:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},rowGroupExpandedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},cvCacheMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let R={},O={};const S=Pe(),F=Pe(),_=Pe(),q=Pe(),P=Pe(),V=Pe(),G=Pe(),ae=Pe(),Q=Pe(),D=Pe(),M=Pe(),L=Pe(),z=Pe(),J=Pe(),k=Pe(),j=Pe(),Z=Pe(),ge=Pe(),Ce=Pe(),ve=Pe(),fe=Pe(),Me=Pe(),Re=Pe(),re=Pe(),ue=Pe(),X=Pe(),oe=Pe(),te=Pe(),le=Pe(),we=Pe(),ie=Pe(),Oe=Pe(),de=Pe(),he=Pe(),Te=Pe(),me=Pe(),ce=Pe(),Ie=Pe(),Ee=Pe(),Ye=Pe(),Le=Pr("$xeGrid",null);let Ue;const _e=qe(()=>{const{id:r}=e;return r?f.isFunction(r)?`${r({$table:h,$grid:Le})||""}`:`${r}`:""}),lt=qe(()=>{const r=se.value;return`${e.rowId||r.keyField||"_X_ROW_KEY"}`}),yt=qe(()=>Object.assign({},Ft().table.validConfig,e.validConfig)),Ct=qe(()=>xt.value),it=qe(()=>{const r=xt.value,{threshold:l}=r;return l?f.toNumber(l):0}),vt=qe(()=>Xe.value),xt=qe(()=>Object.assign({},Ft().table.virtualXConfig||Ft().table.scrollX,e.virtualXConfig||e.scrollX)),Xe=qe(()=>Object.assign({},Ft().table.virtualYConfig||Ft().table.scrollY,e.virtualYConfig||e.scrollY)),Ve=qe(()=>Object.assign({},Ft().table.scrollbarConfig,e.scrollbarConfig)),ft=qe(()=>{const r=Ve.value;return!!(r.x&&r.x.position==="top")}),ze=qe(()=>{const r=Ve.value;return!!(r.y&&r.y.position==="left")}),ot=qe(()=>{const r=Xe.value,{threshold:l}=r;return l?f.toNumber(l):0}),Ae=qe(()=>i.rowHeightStore),Be=qe(()=>{const r=x.value;return Ae.value[r||"default"]||18}),$e=qe(()=>Object.assign({},Ft().table.columnConfig,e.columnConfig)),Ze=qe(()=>Object.assign({},Ft().table.currentColumnConfig,e.currentColumnConfig)),Rt=qe(()=>{const r=Object.assign({},Ft().table.cellConfig,e.cellConfig);return r.height&&(r.height=f.toNumber(r.height)),r}),At=qe(()=>{const r=Object.assign({},Ft().table.headerCellConfig,e.headerCellConfig),l=Rt.value;return r.height=f.toNumber(Qi(r.height||l.height)),r}),ne=qe(()=>{const r=Object.assign({},Ft().table.footerCellConfig,e.footerCellConfig),l=Rt.value;return r.height=f.toNumber(Qi(r.height||l.height)),r}),se=qe(()=>Object.assign({},Ft().table.rowConfig,e.rowConfig)),be=qe(()=>Object.assign({},Ft().table.aggregateConfig||Ft().table.rowGroupConfig,e.aggregateConfig||e.rowGroupConfig)),ke=qe(()=>be.value),Fe=qe(()=>Object.assign({},Ft().table.currentRowConfig,e.currentRowConfig)),et=qe(()=>Object.assign({},Ft().table.rowDragConfig,e.rowDragConfig)),tt=qe(()=>Object.assign({},Ft().table.columnDragConfig,e.columnDragConfig)),wt=qe(()=>Object.assign({},Ft().table.resizeConfig,e.resizeConfig)),bt=qe(()=>Object.assign({},Ft().table.resizableConfig,e.resizableConfig)),nt=qe(()=>Object.assign({startIndex:0},Ft().table.seqConfig,e.seqConfig)),Mt=qe(()=>Object.assign({},Ft().table.radioConfig,e.radioConfig)),ht=qe(()=>Object.assign({},Ft().table.checkboxConfig,e.checkboxConfig)),$t=qe(()=>Object.assign({},Ft().tooltip,Ft().table.tooltipConfig,e.tooltipConfig)),nr=qe(()=>{const{tooltipStore:r}=i,l=$t.value;return Object.assign({},l,r.currOpts)}),Zt=qe(()=>{const r=$t.value;return Object.assign({},r)}),Vt=qe(()=>Object.assign({},Ft().table.editConfig,e.editConfig)),zt=qe(()=>Object.assign({orders:["asc","desc",null]},Ft().table.sortConfig,e.sortConfig)),er=qe(()=>Object.assign({},Ft().table.filterConfig,e.filterConfig)),ct=qe(()=>Object.assign({},Ft().table.mouseConfig,e.mouseConfig)),Lt=qe(()=>Object.assign({},Ft().table.areaConfig,e.areaConfig)),St=qe(()=>Object.assign({},Ft().table.keyboardConfig,e.keyboardConfig)),gr=qe(()=>Object.assign({},Ft().table.clipConfig,e.clipConfig)),tr=qe(()=>Object.assign({},Ft().table.fnrConfig,e.fnrConfig)),Pt=qe(()=>Object.assign({},Ft().table.menuConfig,e.menuConfig)),Lr=qe(()=>{const{columnStore:r}=i,{leftList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),Gt=qe(()=>{const{columnStore:r}=i,{rightList:l}=r;let a=0;for(let p=0;p<l.length;p++){const g=l[p];a+=g.renderWidth}return a}),jt=qe(()=>{const l=Pt.value.header;return l&&l.options?l.options:[]}),lr=qe(()=>{const l=Pt.value.body;return l&&l.options?l.options:[]}),ir=qe(()=>{const l=Pt.value.footer;return l&&l.options?l.options:[]}),yr=qe(()=>{const r=Pt.value,l=jt.value,a=lr.value,p=ir.value;return!!(e.menuConfig&&Et(r)&&(l.length||a.length||p.length))}),Er=qe(()=>{const{ctxMenuStore:r}=i,l=[];return r.list.forEach(a=>{a.forEach(p=>{l.push(p)})}),l}),xr=qe(()=>Object.assign({},Ft().table.exportConfig,e.exportConfig)),vr=qe(()=>Object.assign({},Ft().table.importConfig,e.importConfig)),Cr=qe(()=>Object.assign({},Ft().table.printConfig,e.printConfig)),Ot=qe(()=>Object.assign({},Ft().table.expandConfig,e.expandConfig)),ut=qe(()=>Object.assign({},Ft().table.treeConfig,e.treeConfig)),cr=qe(()=>Object.assign({},Ft().table.emptyRender,e.emptyRender)),Xr=qe(()=>Object.assign({},Ft().table.loadingConfig,e.loadingConfig)),po=qe(()=>e.border?Math.max(2,Math.ceil(i.scrollbarWidth/i.tableColumn.length)):1),Br=qe(()=>Object.assign({},Ft().table.customConfig,e.customConfig)),Fn=qe(()=>{const{rowExpandedFlag:r,expandColumn:l,rowGroupExpandedFlag:a,treeExpandedFlag:p}=i,{visibleDataRowIdData:g,rowExpandedMaps:b}=s,C=[];return l&&r&&a&&p&&f.each(b,(y,E)=>{g[E]&&C.push(y)}),C}),Gl=qe(()=>{const{visibleColumn:r}=s,{tableColumn:l}=i;return l.length||r.length?r.filter(a=>a.width==="auto"||a.minWidth==="auto"):[]}),In=qe(()=>{const{tableColumn:r}=i,{collectColumn:l}=s;let a=0;return r.length&&l.length&&l.forEach(p=>{p.renderFixed&&a++}),a}),il=qe(()=>{const r=In.value,l=$e.value,{maxFixedSize:a}=l;return a?r>=a:!1}),jl=qe(()=>{const{border:r}=e;return r===!0?"full":r||"default"}),Ul=qe(()=>{const{treeConfig:r}=e,{tableData:l}=i,{tableFullData:a}=s,p=ht.value,{strict:g,checkMethod:b}=p;return g?l.length||a.length?b?a.every(C=>!b({$table:h,row:C})):!1:!0:!1}),sl=qe(()=>{const{overflowX:r,scrollXLoad:l,overflowY:a,scrollYLoad:p}=i;return{x:r&&l,y:a&&p}}),kn=qe(()=>ke.value.groupFields),al=qe(()=>{const{rowGroupList:r}=i,{fullColumnFieldData:l}=s,a=[];return r.forEach(p=>{const g=l[p.field];g&&a.push(g.column)}),a}),Yl={refElem:S,refTooltip:_,refValidTooltip:P,refTableFilter:G,refTableCustom:ae,refTableMenu:V,refTableHeader:D,refTableBody:M,refTableFooter:L,refTableLeftHeader:z,refTableLeftBody:J,refTableLeftFooter:k,refTableRightHeader:j,refTableRightBody:Z,refTableRightFooter:ge,refLeftContainer:Ce,refRightContainer:ve,refColResizeBar:fe,refRowResizeBar:Me,refScrollXVirtualElem:le,refScrollYVirtualElem:we,refScrollXHandleElem:ie,refScrollYHandleElem:he,refScrollXSpaceElem:Ee,refScrollYSpaceElem:Ye},cl={computeSize:x,computeTableId:_e,computeValidOpts:yt,computeRowField:lt,computeVirtualXOpts:xt,computeVirtualYOpts:Xe,computeScrollbarOpts:Ve,computeScrollbarXToTop:ft,computeScrollbarYToLeft:ze,computeColumnOpts:$e,computeCurrentColumnOpts:Ze,computeScrollXThreshold:it,computeScrollYThreshold:ot,computeRowHeightMaps:Ae,computeDefaultRowHeight:Be,computeCellOpts:Rt,computeHeaderCellOpts:At,computeFooterCellOpts:ne,computeRowOpts:se,computeAggregateOpts:be,computeRowGroupOpts:ke,computeCurrentRowOpts:Fe,computeRowDragOpts:et,computeColumnDragOpts:tt,computeResizeOpts:wt,computeResizableOpts:bt,computeSeqOpts:nt,computeRadioOpts:Mt,computeCheckboxOpts:ht,computeTooltipOpts:$t,computeEditOpts:Vt,computeSortOpts:zt,computeFilterOpts:er,computeMouseOpts:ct,computeAreaOpts:Lt,computeKeyboardOpts:St,computeClipOpts:gr,computeFNROpts:tr,computeHeaderMenu:jt,computeBodyMenu:lr,computeFooterMenu:ir,computeIsMenu:yr,computeMenuList:Er,computeMenuOpts:Pt,computeExportOpts:xr,computeImportOpts:vr,computePrintOpts:Cr,computeExpandOpts:Ot,computeTreeOpts:ut,computeEmptyOpts:cr,computeLoadingOpts:Xr,computeCellOffsetWidth:po,computeCustomOpts:Br,computeLeftFixedWidth:Lr,computeRightFixedWidth:Gt,computeFixedColumnSize:In,computeIsMaxFixedColumn:il,computeIsAllCheckboxDisabled:Ul,computeVirtualScrollBars:sl,computeRowGroupFields:kn,computeRowGroupColumns:al,computeSXOpts:Ct,computeSYOpts:vt},h={xID:u,props:e,context:t,reactData:i,internalData:s,getRefMaps:()=>Yl,getComputeMaps:()=>cl,xeGrid:Le,xegrid:Le},xo=(r,l,a)=>{const p=f.get(r,a),g=f.get(l,a);return rn(p)&&rn(g)?!0:f.isString(p)||f.isNumber(p)?""+p==""+g:f.isEqual(p,g)},An=()=>{const r=lt.value;s.currKeyField=r,s.isCurrDeepKey=YE(r)},Hr=(r,l)=>f.isBoolean(r)?r:l,Kr=r=>{const l=zt.value,{orders:a=[]}=l,p=r.order||null,g=a.indexOf(p)+1;return a[g<a.length?g:0]},ul=r=>{const l=Ft().version,a=f.toStringJSON(localStorage.getItem(Xm)||""),p=a&&a._v===l?a:{_v:l};return(r?p[r]:p)||{}},Ln=(r,l)=>{const a=Ft().version,p=ul();p[r]=l||void 0,p._v=a,localStorage.setItem(Xm,f.toJSONString(p))},ko=r=>{const{fullAllDataRowIdData:l}=s,a={};return f.each(r,(p,g)=>{l[g]&&(a[g]=p)}),a},un=r=>{const{fullDataRowIdData:l}=s,a=[];return f.each(r,(p,g)=>{l[g]&&h.findRowIndexOf(a,l[g].row)===-1&&a.push(l[g].row)}),a},Co=()=>{const{isScrollXBig:r,scrollXWidth:l}=i,{elemStore:a,visibleColumn:p,fullColumnIdData:g}=s,b=Lr.value,C=Gt.value,y=rt(a["main-body-scroll"]);if(y){const E=y.clientWidth;let T=y.scrollLeft;r&&(T=Math.ceil((l-E)*Math.min(1,T/(wl-E))));const I=T+b,H=T+E-C;let A=0,N=p.length;for(;A<N;){const U=Math.floor((A+N)/2),ee=p[U].id;(g[ee]||{}).oLeft<=I?A=U+1:N=U}let W=0;const K=A===p.length?A:Math.max(0,A<p.length?A-2:0);for(let U=K,$=p.length;U<$;U++){const Y=p[U].id,B=g[Y]||{};if(W++,B.oLeft>H||W>=60)break}return{toVisibleIndex:Math.max(0,K),visibleSize:Math.max(1,W)}}return{toVisibleIndex:0,visibleSize:6}},Uo=(r,l)=>{const{rowHeightStore:a}=i;l&&l.clientHeight&&(a[r]=l.clientHeight)},Xl=()=>{const{isAllOverflow:r}=i,l=D.value,a=M.value,p=a?a.$el:null,g=Be.value;let b=0;if(r){if(p){const C=l?l.$el:null;let y;y=p.querySelector("tr"),!y&&C&&(y=C.querySelector("tr")),y&&(b=y.clientHeight)}b||(b=g)}else b=g;return Math.max(18,b)},Zr=()=>{const{isAllOverflow:r,expandColumn:l,isScrollYBig:a,scrollYHeight:p}=i,{elemStore:g,isResizeCellHeight:b,afterFullData:C,fullAllDataRowIdData:y}=s,E=se.value,T=Rt.value,I=Be.value,H=rt(g["main-body-scroll"]);if(H){const A=H.clientHeight;let N=H.scrollTop;a&&(N=Math.ceil((p-A)*Math.min(1,N/(Xn-A))));const W=N,K=N+A;let U=-1,$=0;if(!(b||T.height||E.height)&&!l&&r)U=Math.floor(W/I)-1,$=Math.ceil(A/I)+1;else{const{handleGetRowId:Y}=br(h);let B=0,Se=C.length;for(;B<Se;){const ye=Math.floor((B+Se)/2),De=C[ye],Ke=Y(De);(y[Ke]||{}).oTop<=W?B=ye+1:Se=ye}U=B===C.length?B:Math.max(0,B<C.length?B-2:0);for(let ye=U,De=C.length;ye<De;ye++){const Ke=C[ye],We=Y(Ke),He=y[We]||{};if($++,He.oTop>K||$>=100)break}}return{toVisibleIndex:Math.max(0,U),visibleSize:Math.max(6,$)}}return{toVisibleIndex:0,visibleSize:6}},dl=(r,l,a)=>{for(let p=0,g=r.length;p<g;p++){const b=r[p],{startIndex:C,endIndex:y}=l,E=b[a],T=b[a+"span"],I=E+T;E<C&&C<I&&(l.startIndex=E),E<y&&y<I&&(l.endIndex=I),(l.startIndex!==C||l.endIndex!==y)&&(p=-1)}};function Yo(r){const l={};if(r&&r.length)for(let a=0;a<r.length;a++){const{row:p,col:g,rowspan:b,colspan:C}=r[a];for(let y=0;y<b;y++)for(let E=0;E<C;E++)l[`${p+y}:${g+E}`]=!y&&!E?{rowspan:b,colspan:C}:{rowspan:0,colspan:0}}return l}const Hn=r=>{const{fullAllDataRowIdData:l,fullColumnIdData:a,visibleColumn:p,afterFullData:g,mergeBodyList:b,mergeBodyMaps:C}=s;if(r){const{handleGetRowId:y}=br(h);f.isArray(r)||(r=[r]),r.forEach(E=>{let{row:T,col:I,rowspan:H,colspan:A}=E,N=-1,W=-1;if(f.isNumber(T))N=T;else{const K=T?y(T):null,U=K?l[K]:null;U&&(N=U._index)}if(f.isNumber(I))W=I;else{const K=I?I.id:null,U=K?a[K]:null;U&&(W=U._index)}if(N>-1&&W>-1&&(H||A)&&(H=f.toNumber(H)||1,A=f.toNumber(A)||1,H>1||A>1)){const K=g[N],U=p[W];let $=C[`${N}:${W}`];$?($.rowspan=H,$.colspan=A,$._rowspan=H,$._colspan=A):($={row:N,col:W,rowspan:H,colspan:A,_row:K,_col:U,_rowspan:H,_colspan:A},C[`${N}:${W}`]=$,b.push($))}})}},Ao=r=>{const{footerTableData:l}=i,{mergeFooterList:a,mergeFooterMaps:p,fullColumnIdData:g}=s;if(r){const{visibleColumn:b}=s;f.isArray(r)||(r=[r]),r.forEach(C=>{let{row:y,col:E,rowspan:T,colspan:I}=C;const H=f.isNumber(y)?y:-1;let A=-1;if(f.isNumber(E))A=E;else{const N=E?E.id:null,W=N?g[N]:null;W&&(A=W._index)}if(H>-1&&A>-1&&(T||I)&&(T=f.toNumber(T)||1,I=f.toNumber(I)||1,T>1||I>1)){const N=l[H],W=b[A];let K=p[`${H}:${A}`];K?(K.rowspan=T,K.colspan=I,K._rowspan=T,K._colspan=I):(K={row:H,col:A,rowspan:T,colspan:I,_row:N,_col:W,_rowspan:T,_colspan:I},p[`${H}:${A}`]=K,a.push(K))}})}},wo=r=>{const{mergeBodyList:l,fullColumnIdData:a,fullAllDataRowIdData:p,mergeBodyMaps:g}=s,b=[];if(r){const{handleGetRowId:C}=br(h);f.isArray(r)||(r=[r]),r.forEach(y=>{const{row:E,col:T}=y;let I=-1,H=-1;if(f.isNumber(E))I=E;else{const N=E?C(E):null,W=N?p[N]:null;W&&(I=W._index)}if(f.isNumber(T))H=T;else{const N=T?T.id:null,W=N?a[N]:null;W&&(H=W._index)}const A=f.findIndexOf(l,N=>N.row===I&&N.col===H);if(A>-1){const N=l.splice(A,1);N[0]&&(b.push(N[0]),g[`${I}:${H}`]&&delete g[`${I}:${H}`])}})}return b},dn=r=>{const{mergeFooterList:l,fullColumnIdData:a,mergeFooterMaps:p}=s,g=[];return r&&(f.isArray(r)||(r=[r]),r.forEach(b=>{const{row:C,col:y}=b,E=f.isNumber(C)?C:-1;let T=-1;if(f.isNumber(y))T=y;else{const H=y?y.id:null,A=H?a[H]:null;A&&(T=A._index)}const I=f.findIndexOf(l,H=>H.row===E&&H.col===T);if(I>-1){const A=l.splice(I,1)[0];A&&(g.push(A),p[`${E}:${T}`]&&delete p[`${E}:${T}`])}})),g},fl=(r,l,a)=>{const p=zt.value,{multiple:g,remote:b,orders:C}=p;if(f.isArray(l)||(l=[l]),l&&l.length){g||(l=[l[0]],fn());let y=null;return l.forEach((E,T)=>{let{field:I,order:H}=E,A=I;f.isString(I)&&(A=h.getColumnByField(I)),y||(y=A),A&&A.sortable&&(C&&C.indexOf(H)===-1&&(H=Kr(A)),A.order!==H&&(A.order=H),A.sortTime=Date.now()+T)}),a&&(b||h.handleTableData(!0)),r&&h.handleColumnSortEvent(r,y),pe().then(()=>(Vr(),h.updateCellAreas(),Rr()))}return pe()},fn=()=>{const{tableFullColumn:r}=s;r.forEach(l=>{l.order=null})},hn=r=>{const{parentHeight:l}=i,a=e[r];let p=0;if(a)if(a==="100%"||a==="auto")p=l;else{const g=h.getExcludeHeight();Ml(a)?p=Math.floor((f.toInteger(a)||1)/100*l):p=f.toNumber(a),p=Math.max(40,p-g)}return p},_n=r=>{let{collectColumn:l}=s;const{resizableData:a,sortData:p,visibleData:g,fixedData:b}=r;let C=!1;a||p||g||b?(f.eachTree(l,(y,E,T,I,H)=>{const A=y.getKey();H||(b&&b[A]!==void 0&&(y.fixed=b[A]),p&&f.isNumber(p[A])&&(C=!0,y.renderSortNumber=p[A])),a&&f.isNumber(a[A])&&(y.resizeWidth=a[A]),g&&f.isBoolean(g[A])&&(y.visible=g[A])}),C&&(l=f.orderBy(l,"renderSortNumber"),s.collectColumn=l,s.tableFullColumn=Fi(l)),i.isCustomStatus=!0):i.isCustomStatus=!1},yo=()=>{const{customConfig:r}=e,l=_e.value,a=Br.value,{storage:p,restoreStore:g,storeOptions:b}=a,C=p===!0,y=C?{}:Object.assign({},p||{},b),E=Hr(y.resizable,C),T=Hr(y.visible,C),I=Hr(y.fixed,C),H=Hr(y.sort,C);if((r?Et(a):a.enabled)&&(E||T||I||H)){if(!l){je("vxe.error.reqProp",["id"]);return}const A=ul(l);return g?Promise.resolve(g({$table:h,id:l,type:"restore",storeData:A})).then(N=>{if(N)return _n(N)}).catch(N=>N):_n(A)}},qn=()=>{const{tableFullColumn:r,collectColumn:l}=s,a=s.fullColumnIdData={},p=s.fullColumnFieldData={},g=ct.value,b=Ot.value,C=$e.value,y=tt.value,E=Xe.value,{isCrossDrag:T,isSelfToChildDrag:I}=y,H=Br.value,{storage:A}=H,N=se.value,W=l.some(Fl);let K=!!e.showOverflow,U,$,ee,Y,B,Se;const ye=(De,Ke,We,He,Je)=>{const{id:Ge,field:at,fixed:mt,type:dt,treeNode:pt,rowGroupNode:Dt}=De,ar={$index:-1,_index:-1,column:De,colid:Ge,index:Ke,items:We,parent:Je||null,width:0,oLeft:0};at?(p[at]&&je("vxe.error.colRepet",["field",at]),p[at]=ar):(A&&!dt||C.drag&&(T||I))&&je("vxe.error.reqProp",[`${De.getTitle()||dt||""} -> column.field=?`]),!Se&&dt==="html"&&(Se=De),pt&&(ee&&st("vxe.error.colRepet",["tree-node",pt]),ee||(ee=De)),Dt&&(ee&&st("vxe.error.colRepet",["row-group-node",Dt]),U||(U=De)),dt==="expand"&&($&&st("vxe.error.colRepet",["type",dt]),$||($=De)),dt==="checkbox"?(Y&&st("vxe.error.colRepet",["type",dt]),Y||(Y=De)):dt==="radio"&&(B&&st("vxe.error.colRepet",["type",dt]),B||(B=De)),K&&De.showOverflow===!1&&(K=!1),a[Ge]&&je("vxe.error.colRepet",["colId",Ge]),a[Ge]=ar};W?f.eachTree(l,(De,Ke,We,He,Je,Ge)=>{De.level=Ge.length,ye(De,Ke,We,He,Je)}):r.forEach(ye),$&&b.mode!=="fixed"&&E.enabled&&st("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),$&&b.mode!=="fixed"&&g.area&&je("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),Se&&(C.useKey||je("vxe.error.reqProp",["column-config.useKey & column.type=html"]),N.useKey||je("vxe.error.reqProp",["row-config.useKey & column.type=html"])),i.isGroup=W,i.rowGroupColumn=U,i.treeNodeColumn=ee,i.expandColumn=$,i.isAllOverflow=K},Pn=()=>{s.customHeight=hn("height"),s.customMinHeight=hn("minHeight"),s.customMaxHeight=hn("maxHeight"),i.scrollYLoad&&!(s.customHeight||s.customMinHeight)&&(s.customHeight=300)},Eo=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[colid="${r.id}"]`);let p=0;const g=a[0];if(g&&g.parentElement){const C=getComputedStyle(g.parentElement);p=Math.ceil(f.toNumber(C.paddingLeft)+f.toNumber(C.paddingRight))}let b=r.renderAutoWidth-p;for(let C=0;C<a.length;C++){const y=a[C];b=Math.max(b,y?Math.ceil(y.scrollWidth)+4:0)}return b+p},Nn=()=>{const r=Gl.value,{fullColumnIdData:l}=s,a=S.value;a&&(a.setAttribute("data-calc-col","Y"),r.forEach(p=>{const g=p.id,b=l[g],C=Eo(p,a);b&&(b.width=Math.max(C,b.width)),p.renderAutoWidth=C}),h.analyColumnWidth(),a.removeAttribute("data-calc-col"))},Jr=()=>{const{elemStore:r}=s,l=rt(r["main-body-wrapper"]);if(!l||!he.value||!ie.value)return;let g=0;const b=40,C=l.clientWidth;let y=C,E=y/100;const{fit:T}=e,{columnStore:I}=i,{resizeList:H,pxMinList:A,autoMinList:N,pxList:W,scaleList:K,scaleMinList:U,autoList:$,remainList:ee}=I;if(A.forEach(Y=>{const B=f.toInteger(Y.minWidth);g+=B,Y.renderWidth=B}),N.forEach(Y=>{const B=Math.max(60,f.toInteger(Y.renderAutoWidth));g+=B,Y.renderWidth=B}),U.forEach(Y=>{const B=Math.floor(f.toInteger(Y.minWidth)*E);g+=B,Y.renderWidth=B}),K.forEach(Y=>{const B=Math.floor(f.toInteger(Y.width)*E);g+=B,Y.renderWidth=B}),W.forEach(Y=>{const B=f.toInteger(Y.width);g+=B,Y.renderWidth=B}),$.forEach(Y=>{const B=Math.max(60,f.toInteger(Y.renderAutoWidth));g+=B,Y.renderWidth=B}),H.forEach(Y=>{const B=f.toInteger(Y.resizeWidth);g+=B,Y.renderWidth=B}),y-=g,E=y>0?Math.floor(y/(U.length+A.length+N.length+ee.length)):0,T?y>0&&U.concat(A).concat(N).forEach(Y=>{g+=E,Y.renderWidth+=E}):E=b,ee.forEach(Y=>{const B=Math.max(E,b);Y.renderWidth=B,g+=B}),T){const Y=K.concat(U).concat(A).concat(N).concat(ee);let B=Y.length-1;if(B>0){let Se=C-g;if(Se>0){for(;Se>0&&B>=0;)Se--,Y[B--].renderWidth++;g=C}}}i.scrollXWidth=g,i.resizeWidthFlag++,Ds(),Pn()},ur=(r,l)=>{const a=l.querySelectorAll(`.vxe-cell--wrapper[rowid="${r.rowid}"]`);let p=r.height;for(let g=0;g<a.length;g++){const b=a[g],C=b.parentElement,y=Math.ceil(f.toNumber(C.style.paddingTop)+f.toNumber(C.style.paddingBottom)),E=b?b.clientHeight:0;p=Math.max(p-y,Math.ceil(E))}return p},$r=()=>{const{tableData:r,isAllOverflow:l,scrollYLoad:a,scrollXLoad:p}=i,{fullAllDataRowIdData:g}=s,b=Be.value,C=S.value;if(!l&&a&&C){const{handleGetRowId:y}=br(h);C.setAttribute("data-calc-row","Y"),r.forEach(E=>{const T=y(E),I=g[T];if(I){const H=ur(I,C);I.height=Math.max(b,p?Math.max(I.height,H):H)}C.removeAttribute("data-calc-row")}),i.calcCellHeightFlag++}},pn=r=>{const{sortBy:l,sortType:a}=r;return p=>{let g;return l?g=f.isFunction(l)?l({row:p,column:r}):f.get(p,l):g=R.getCellLabel(p,r),!a||a==="auto"?isNaN(g)?g:f.toNumber(g):a==="number"?f.toNumber(g):a==="string"?f.toValueString(g):g}},Lo=()=>{const{treeConfig:r}=e,{afterFullData:l,fullDataRowIdData:a,fullAllDataRowIdData:p}=s,{handleGetRowId:g}=br(h),b={};l.forEach((C,y)=>{const E=g(C),T=p[E],I=y+1;if(T)r||(T.seq=I),T._index=y;else{const H={row:C,rowid:E,seq:I,index:-1,$index:-1,_index:y,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};p[E]=H,a[E]=H}b[E]=C}),s.afterFullRowMaps=b},lo=()=>{const{treeConfig:r}=e,{fullDataRowIdData:l,fullAllDataRowIdData:a,afterFullData:p,afterTreeFullData:g}=s,b=ut.value,{transform:C}=b,y=b.children||b.childrenField,E={};if(r){const{handleGetRowId:T}=br(h);f.eachTree(g,(I,H,A,N)=>{const W=T(I),K=a[W],U=N.map(($,ee)=>ee%2===0?Number($)+1:".").join("");if(K)K.seq=U,K.treeIndex=H;else{const $={row:I,rowid:W,seq:U,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[W]=$,l[W]=$}E[W]=I},{children:C?b.mapChildrenField:y}),C&&p.forEach((I,H)=>{const A=T(I),N=a[A],W=H+1;N&&(r||(N.seq=W),N._index=H)}),s.afterFullRowMaps=E}else Lo()},io=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{fullAllDataRowIdData:a,treeExpandedMaps:p,rowGroupExpandedMaps:g}=s,b=be.value,C=ut.value,{handleGetRowId:y}=br(h),E=[],T={};if(r&&C.transform){const I=C.children||C.childrenField;return f.eachTree(s.afterTreeFullData,(H,A,N,W,K)=>{const U=y(H),$=y(K);if(!K||T[$]&&p[$]){const ee=a[U];ee&&(ee._index=E.length),T[U]=1,E.push(H)}},{children:I}),s.afterFullData=E,Kl(E),E}else if(l){const{childrenField:I}=b;return f.eachTree(s.afterGroupFullData,(H,A,N,W,K)=>{const U=y(H),$=y(K);if(!K||T[$]&&g[$]){const ee=a[U];ee&&(ee._index=E.length),T[U]=1,E.push(H)}},{children:I}),s.afterFullData=E,Kl(E),E}return s.afterFullData},gn=()=>{const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{tableFullColumn:a,tableFullData:p,tableFullTreeData:g,tableFullGroupData:b}=s,C=er.value,y=zt.value,E=be.value,T=ut.value,I=T.children||T.childrenField,{transform:H,rowField:A,parentField:N,mapChildrenField:W}=T,{isEvery:K,remote:U,filterMethod:$}=C,{remote:ee,sortMethod:Y,multiple:B,chronological:Se}=y;let ye=[],De=[];if(!U||!ee){const Ke=[];let We=[];if(a.forEach(He=>{const{field:Je,sortable:Ge,order:at,filters:mt}=He;if(!U&&mt&&mt.length){const dt=[],pt=[];mt.forEach(Dt=>{Dt.checked&&(pt.push(Dt),dt.push(Dt.value))}),pt.length&&Ke.push({column:He,valueList:dt,itemList:pt})}!ee&&Ge&&at&&We.push({column:He,field:Je,property:Je,order:at,sortTime:He.sortTime})}),B&&Se&&We.length>1&&(We=f.orderBy(We,"sortTime")),!U&&Ke.length){const He=Je=>Ke.every(({column:Ge,valueList:at,itemList:mt})=>{const{filterMethod:dt,filterRender:pt}=Ge,Dt=Et(pt)?Gm.get(pt.name):null,ar=Dt?Dt.tableFilterMethod||Dt.filterMethod:null,Jt=Dt?Dt.tableFilterDefaultMethod||Dt.defaultTableFilterMethod||Dt.defaultFilterMethod:null,dr=wr(Je,Ge);return dt?mt.some(_t=>dt({value:_t.value,option:_t,cellValue:dr,row:Je,column:Ge,$table:h})):ar?mt.some(_t=>ar({value:_t.value,option:_t,cellValue:dr,row:Je,column:Ge,$table:h})):$?$({$table:h,options:mt,values:at,cellValue:dr,row:Je,column:Ge}):Jt?mt.some(_t=>Jt({value:_t.value,option:_t,cellValue:dr,row:Je,column:Ge,$table:h})):at.indexOf(f.get(Je,Ge.field))>-1});l?(De=f.searchTree(b,He,{original:!0,isEvery:!0,children:E.mapChildrenField,mapChildren:E.childrenField}),ye=De):r&&H?(De=f.searchTree(g,He,{original:!0,isEvery:K,children:W,mapChildren:I}),ye=De):(ye=r?g.filter(He):p.filter(He),De=ye)}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:E.mapChildrenField,mapChildren:E.childrenField}),ye=De):r&&H?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:K,children:W,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);if(!ee&&We.length)if(l){if(Y){const He=Y({data:De,sortList:We,$table:h});De=f.isArray(He)?He:De}else{const He=f.toTreeArray(De,{key:E.rowField,parentKey:E.parentField,children:E.mapChildrenField});De=f.toArrayTree(f.orderBy(He,We.map(({column:Je,order:Ge})=>[pn(Je),Ge])),{key:E.rowField,parentKey:E.parentField,children:E.childrenField,mapChildren:E.mapChildrenField})}ye=De}else if(r&&H){if(Y){const He=Y({data:De,sortList:We,$table:h});De=f.isArray(He)?He:De}else{const He=f.toTreeArray(De,{children:W});De=f.toArrayTree(f.orderBy(He,We.map(({column:Je,order:Ge})=>[pn(Je),Ge])),{key:A,parentKey:N,children:I,mapChildren:W})}ye=De}else{if(Y){const He=Y({data:ye,sortList:We,$table:h});ye=f.isArray(He)?He:ye}else ye=f.orderBy(ye,We.map(({column:He,order:Je})=>[pn(He),Je]));De=ye}}else l?(De=f.searchTree(b,()=>!0,{original:!0,isEvery:!0,children:E.mapChildrenField,mapChildren:E.childrenField}),ye=De):r&&H?(De=f.searchTree(g,()=>!0,{original:!0,isEvery:K,children:W,mapChildren:I}),ye=De):(ye=r?g.slice(0):p.slice(0),De=ye);s.afterFullData=ye,s.afterTreeFullData=De,s.afterGroupFullData=De,lo()},Rr=()=>{const{showHeaderOverflow:r,showFooterOverflow:l,mouseConfig:a,spanMethod:p,footerSpanMethod:g}=e,{isGroup:b,currentRow:C,tableColumn:y,scrollXLoad:E,scrollYLoad:T,overflowX:I,scrollbarWidth:H,overflowY:A,scrollbarHeight:N,scrollXWidth:W,columnStore:K,editStore:U,isAllOverflow:$,expandColumn:ee,isColLoading:Y}=i,{visibleColumn:B,tableHeight:Se,headerHeight:ye,footerHeight:De,elemStore:Ke,customHeight:We,customMinHeight:He,customMaxHeight:Je}=s,Ge=S.value;if(!Ge)return;const at=["main","left","right"],mt=A?H:0,dt=I?N:0,pt=Re.value,Dt=ct.value,ar=Ot.value,Jt=rt(Ke["main-body-wrapper"]),dr=rt(Ke["main-body-table"]);pt&&(pt.style.top=`${ye}px`,pt.style.height=Jt?`${Jt.offsetHeight-dt}px`:"");let _t=0,Sr=0;const fr=He-ye-De-dt;Je&&(Sr=Math.max(fr,Je-ye-De-dt)),We&&(_t=We-ye-De-dt),_t||dr&&(_t=dr.clientHeight),_t&&(Sr&&(_t=Math.min(Sr,_t)),_t=Math.max(fr,_t));const Fr=ft.value,Yt=Oe.value,hr=de.value,Nt=le.value;Nt&&(Nt.style.height=`${dt}px`,Nt.style.visibility=I?"visible":"hidden");const qt=me.value;qt&&(qt.style.left=Fr?`${mt}px`:"",qt.style.width=`${Ge.clientWidth-mt}px`),Yt&&(Yt.style.width=Fr?`${mt}px`:"",Yt.style.display=Fr&&I&&dt?"block":""),hr&&(hr.style.width=Fr?"":`${mt}px`,hr.style.display=Fr?"":I&&dt?"block":"");const zr=we.value;zr&&(zr.style.width=`${mt}px`,zr.style.height=`${_t+ye+De}px`,zr.style.visibility=A?"visible":"hidden");const Dr=Te.value;Dr&&(Dr.style.height=`${ye}px`,Dr.style.display=A&&ye?"block":"");const Wr=ce.value;Wr&&(Wr.style.height=`${_t}px`,Wr.style.top=`${ye}px`);const Gr=Ie.value;Gr&&(Gr.style.height=`${De}px`,Gr.style.top=`${ye+_t}px`,Gr.style.display=A&&De?"block":"");const Jo=oe.value;return Jo&&(Jo.style.height=`${_t}px`,Jo.style.top=`${ye}px`),at.forEach((so,Hi)=>{const So=Hi>0?so:"",lw=["header","body","footer"],ah=So==="left";let ei=[],ti;So&&(ei=ah?K.leftList:K.rightList,ti=ah?Ce.value:ve.value),lw.forEach(zn=>{const Ir=rt(Ke[`${so}-${zn}-wrapper`]),vn=rt(Ke[`${so}-${zn}-scroll`]),Wn=rt(Ke[`${so}-${zn}-table`]);if(zn==="header"){let go=y,ao=!1;b?go=B:(E&&r&&(p||g||(ao=!0)),(!ao||!Y&&(So||!I))&&(go=B),So&&ao&&(go=ei||[]));const Nr=go.reduce((xl,Gn)=>xl+Gn.renderWidth,0);So&&(b?Ir&&(Ir.style.width=W?`${W}px`:""):ao?Ir&&(Ir.style.width=Nr?`${Nr}px`:""):Ir&&(Ir.style.width=W?`${W}px`:"")),vn&&(vn.style.height=`${ye}px`),Wn&&(Wn.style.width=Nr?`${Nr}px`:"")}else if(zn==="body"){vn&&(vn.style.maxHeight=Je?`${Sr}px`:"",vn.style.height=We?`${_t}px`:"",vn.style.minHeight=`${fr}px`),ti&&(Ir&&(Ir.style.top=`${ye}px`),ti.style.height=`${We>0?We:Se+ye+De+dt}px`,ti.style.width=`${ei.reduce((Gn,_s)=>Gn+_s.renderWidth,0)}px`);let go=y,ao=!1;(E||T||$)&&(ee&&ar.mode!=="fixed"||p||g||(ao=!0)),So&&(go=B,ao&&(go=ei||[]));const Nr=go.reduce((Gn,_s)=>Gn+_s.renderWidth,0);So&&(ao?Ir&&(Ir.style.width=Nr?`${Nr}px`:""):Ir&&(Ir.style.width=W?`${W}px`:"")),Wn&&(Wn.style.width=Nr?`${Nr}px`:"",Wn.style.paddingRight=mt&&So&&(c.firefox||c.safari)?`${mt}px`:"");const xl=rt(Ke[`${so}-${zn}-emptyBlock`]);xl&&(xl.style.width=Nr?`${Nr}px`:"")}else if(zn==="footer"){let go=y,ao=!1;E&&l&&(p||g||(ao=!0)),(!ao||!Y&&(So||!I))&&(go=B),So&&ao&&(go=ei||[]);const Nr=go.reduce((xl,Gn)=>xl+Gn.renderWidth,0);So&&(ao?Ir&&(Ir.style.width=Nr?`${Nr}px`:""):Ir&&(Ir.style.width=W?`${W}px`:"")),vn&&(vn.style.height=`${De}px`,ti&&Ir&&(Ir.style.top=`${We>0?We-De-dt:Se+ye}px`)),Wn&&(Wn.style.width=Nr?`${Nr}px`:"")}})}),C&&h.setCurrentRow(C),a&&Dt.selected&&U.selected.row&&U.selected.column&&h.addCellSelectedClass(),pe()},Xo=r=>h.triggerValidate?h.triggerValidate(r):pe(),Ho=(r,l)=>{Xo("blur").catch(a=>a).then(()=>{h.handleEdit(l,r).then(()=>Xo("change")).catch(a=>a)})},Ko=()=>{const{sortConfig:r}=e;if(r){const l=zt.value;let{defaultSort:a}=l;a&&(f.isArray(a)||(a=[a]),a.length&&((r.multiple?a:a.slice(0,1)).forEach((p,g)=>{const{field:b,order:C}=p;if(b&&C){const y=h.getColumnByField(b);y&&y.sortable&&(y.order=C,y.sortTime=Date.now()+g)}}),l.remote||h.handleTableData(!0).then(Rr)))}},Ro=()=>{const{checkboxConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=ht.value,{checkAll:p,checkRowKeys:g}=a;if(p)ws(!0,!0);else if(g){const b=[];g.forEach(C=>{l[C]&&b.push(l[C].row)}),Zo(b,!0,!0)}}},hl=()=>{const{radioConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=Mt.value,{checkRowKey:p,reserve:g}=a;if(p&&(l[p]&&Bn(l[p].row,!0),g)){const b=Un(h);s.radioReserveRow={[b]:p}}}},Tt=()=>{const{expandConfig:r}=e;if(r){const{fullDataRowIdData:l}=s,a=Ot.value,{expandAll:p,expandRowKeys:g}=a;if(p)h.setAllRowExpand(!0);else if(g){const b=[];g.forEach(C=>{l[C]&&b.push(l[C].row)}),h.setRowExpand(b,!0)}}},mr=r=>{Mt.value.reserve&&(s.radioReserveRow=r)},Tr=(r,l)=>{const{checkboxReserveRowMap:a}=s;if(ht.value.reserve){const g=Ne(h,r);l?a[g]=r:a[g]&&delete a[g]}},Bn=(r,l)=>{const a=Mt.value,{checkMethod:p}=a;return r&&(l||!p||p({$table:h,row:r}))&&(i.selectRadioRow=r,mr(r)),pe()},Zo=(r,l,a)=>(r&&!f.isArray(r)&&(r=[r]),h.handleBatchSelectRows(r,!!l,a),h.checkSelectionStatus(),pe()),ws=(r,l)=>{const{treeConfig:a}=e,{isRowGroupStatus:p}=i,{afterFullData:g,afterTreeFullData:b,afterGroupFullData:C,checkboxReserveRowMap:y,selectCheckboxMaps:E}=s,T=ut.value,I=be.value,H=T.children||T.childrenField,A=ht.value,{checkField:N,reserve:W,checkMethod:K}=A,{handleGetRowId:U}=br(h),$=A.indeterminateField||A.halfField,ee={};if(N){const Y=B=>{(l||!K||K({$table:h,row:B}))&&(r&&(ee[U(B)]=B),f.set(B,N,r)),(a||p)&&$&&f.set(B,$,!1)};a||p?f.eachTree(g,Y,{children:H}):g.forEach(Y)}else p?r?f.eachTree(C,Y=>{if(l||!K||K({$table:h,row:Y})){const B=U(Y);ee[B]=Y}},{children:I.mapChildrenField}):!l&&K&&f.eachTree(C,Y=>{const B=U(Y);!K({$table:h,row:Y})&&E[B]&&(ee[B]=Y)},{children:I.mapChildrenField}):a?r?f.eachTree(b,Y=>{if(l||!K||K({$table:h,row:Y})){const B=U(Y);ee[B]=Y}},{children:H}):!l&&K&&f.eachTree(b,Y=>{const B=U(Y);!K({$table:h,row:Y})&&E[B]&&(ee[B]=Y)},{children:H}):r?!l&&K?g.forEach(Y=>{const B=U(Y);(E[B]||K({$table:h,row:Y}))&&(ee[B]=Y)}):g.forEach(Y=>{const B=U(Y);ee[B]=Y}):!l&&K&&g.forEach(Y=>{const B=U(Y);!K({$table:h,row:Y})&&E[B]&&(ee[B]=Y)});return W&&(r?f.each(ee,(Y,B)=>{y[B]=Y}):g.forEach(Y=>Tr(Y,!1))),i.updateCheckboxFlag++,s.selectCheckboxMaps=N?{}:ee,i.isAllSelected=r,i.isIndeterminate=!1,s.treeIndeterminateRowMaps={},h.checkSelectionStatus(),pe()},RC=()=>{const{treeConfig:r}=e,{expandColumn:l,currentRow:a,selectRadioRow:p}=i,{fullDataRowIdData:g,fullAllDataRowIdData:b,radioReserveRow:C,selectCheckboxMaps:y,treeExpandedMaps:E,rowExpandedMaps:T}=s,I=Ot.value,H=ut.value,A=Mt.value,N=ht.value;if(p&&!b[Ne(h,p)]&&(i.selectRadioRow=null),A.reserve&&C){const W=Ne(h,C);g[W]&&Bn(g[W].row,!0)}s.selectCheckboxMaps=ko(y),i.updateCheckboxFlag++,N.reserve&&Zo(un(s.checkboxReserveRowMap),!0,!0),a&&!b[Ne(h,a)]&&(i.currentRow=null),s.rowExpandedMaps=l?ko(T):{},i.rowExpandedFlag++,l&&I.reserve&&h.setRowExpand(un(s.rowExpandedReserveRowMap),!0),s.treeExpandedMaps=r?ko(E):{},i.treeExpandedFlag++,r&&H.reserve&&h.setTreeExpand(un(s.treeExpandedReserveRowMap),!0)},SC=()=>{const{treeConfig:r}=e;if(r){const{tableFullData:l}=s,a=ut.value,{expandAll:p,expandRowKeys:g}=a,b=a.children||a.childrenField;if(p)h.setAllTreeExpand(!0);else if(g){const C=[],y=Un(h);g.forEach(E=>{const T=f.findTree(l,I=>E===f.get(I,y),{children:b});T&&C.push(T.item)}),h.setTreeExpand(C,!0)}}},Vf=r=>{const l=ut.value,a=ht.value,{transform:p,loadMethod:g}=l,{checkStrictly:b}=a;return new Promise(C=>{if(g){const{fullAllDataRowIdData:y,treeExpandLazyLoadedMaps:E}=s,T=Ne(h,r),I=y[T];E[T]=r,Promise.resolve(g({$table:h,row:r})).then(H=>{if(I&&(I.treeLoaded=!0),E[T]&&delete E[T],f.isArray(H)||(H=[]),H)return h.loadTreeChildren(r,H).then(A=>{const{treeExpandedMaps:N}=s;return A.length&&!N[T]&&(N[T]=r),i.treeExpandedFlag++,!b&&h.isCheckedByCheckboxRow(r)&&Zo(A,!0),pe().then(()=>{if(p)return h.handleTableData(),lo(),pe()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:H}=s;I&&(I.treeLoaded=!1),H[T]&&delete H[T]}).finally(()=>{i.treeExpandedFlag++,pe().then(()=>h.recalculate()).then(()=>C())})}else C()})},zf=(r,l)=>{const{treeExpandedReserveRowMap:a}=s;if(ut.value.reserve){const g=Ne(h,r);l?a[g]=r:a[g]&&delete a[g]}},Wf=r=>new Promise(l=>{const a=Ot.value,{loadMethod:p}=a;if(p){const{fullAllDataRowIdData:g,rowExpandLazyLoadedMaps:b}=s,C=Ne(h,r),y=g[C];b[C]=r,p({$table:h,row:r,rowIndex:h.getRowIndex(r),$rowIndex:h.getVMRowIndex(r)}).then(()=>{const{rowExpandedMaps:E}=s;y&&(y.expandLoaded=!0),E[C]=r,i.rowExpandedFlag++}).catch(()=>{y&&(y.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:E}=s;E[C]&&delete E[C],i.rowExpandedFlag++,pe().then(()=>h.recalculate()).then(()=>h.updateCellAreas()).then(()=>l())})}else l()}),Gf=(r,l)=>{const{rowExpandedReserveRowMap:a}=s;if(Ot.value.reserve){const g=Ne(h,r);l?a[g]=r:a[g]&&delete a[g]}},OC=()=>{const{mergeCells:r}=e;r&&h.setMergeCells(r)},DC=()=>{const{mergeFooterItems:r}=e;r&&h.setMergeFooterItems(r)},ys=()=>pe().then(()=>{const{scrollXLoad:r,scrollYLoad:l}=i,{scrollXStore:a,scrollYStore:p}=s,g=Xe.value,b=xt.value;if(r){const{toVisibleIndex:T,visibleSize:I}=Co(),H=Math.max(0,b.oSize?f.toNumber(b.oSize):0);a.preloadSize=f.toNumber(b.preSize),a.offsetSize=H,a.visibleSize=I,a.endIndex=Math.max(a.startIndex+a.visibleSize+H,a.endIndex),a.visibleStartIndex=Math.max(a.startIndex,T),a.visibleEndIndex=Math.min(a.endIndex,T+I),h.updateScrollXData().then(()=>{$n()})}else h.updateScrollXSpace();const C=Xl();p.rowHeight=C,i.rowHeight=C;const{toVisibleIndex:y,visibleSize:E}=Zr();if(l){const T=Math.max(0,g.oSize?f.toNumber(g.oSize):0);p.preloadSize=f.toNumber(g.preSize),p.offsetSize=T,p.visibleSize=E,p.endIndex=Math.max(p.startIndex+E+T,p.endIndex),p.visibleStartIndex=Math.max(p.startIndex,y),p.visibleEndIndex=Math.min(p.endIndex,y+E),h.updateScrollYData().then(()=>{Zl()})}else h.updateScrollYSpace()}),Di=()=>{const{scrollXWidth:r,scrollYHeight:l}=i,{elemStore:a}=s,p=Ve.value,g=rt(a["main-body-wrapper"]),b=rt(a["main-header-table"]),C=rt(a["main-footer-table"]),y=ie.value,E=he.value;let T=!1,I=!1;if(g){T=l>g.clientHeight,E&&(i.scrollbarWidth=p.width||E.offsetWidth-E.clientWidth||14),i.overflowY=T,I=r>g.clientWidth,y&&(i.scrollbarHeight=p.height||y.offsetHeight-y.clientHeight||14);const H=b?b.clientHeight:0,A=C?C.clientHeight:0;s.tableHeight=g.offsetHeight,s.headerHeight=H,s.footerHeight=A,i.overflowX=I,i.parentHeight=Math.max(s.headerHeight+A+20,h.getParentHeight())}I&&h.checkScrolling()},pl=r=>{const l=S.value;if(s.rceRunTime=Date.now(),!l||!l.clientWidth)return pe();const a=F.value;if(a){const[p,g,b,C]=a.children;Uo("default",p),Uo("medium",g),Uo("small",b),Uo("mini",C)}return Nn(),Jr(),Di(),Rr(),Vn(),ys().then(()=>{if(Nn(),r&&Jr(),Di(),Rr(),r&&Vr(),Vn(),r)return ys()})},Mi=r=>{const l=[],a=[];r&&(f.isArray(r)?r:[r]).forEach(p=>{l.push(p),a.push({field:p})}),i.rowGroupList=a,i.aggHandleFields=l},jf=r=>{const l=be.value,{mapChildrenField:a}=l;a&&(f.lastEach(r,p=>{let g=0;f.each(p[a],b=>{b.isAggregate?g+=b.childCount||0:g++}),p.childCount=g}),h.handlePivotTableAggregateData&&h.handlePivotTableAggregateData(r))},MC=()=>{const{aggregateConfig:r,rowGroupConfig:l}=e,{isRowGroupStatus:a}=i,{tableFullGroupData:p}=s,g=be.value,{mapChildrenField:b}=g;if((r||l)&&a){const C=[];f.eachTree(p,y=>{y.isAggregate&&C.push(y)},{children:b}),jf(C)}},Uf=(r,l)=>{let a=r,p=r;if(l){const g=be.value,{rowField:b,parentField:C,childrenField:y,mapChildrenField:E}=g,T=ht.value,{checkField:I}=T,H=T.indeterminateField||T.halfField,A=l[0];if(A&&b&&C&&y&&E){a=[],p=[];const N=A.field,W=h.getColumnByField(N),K={},U=[],$=Un(h);r.forEach(ee=>{const Y=W?h.getCellLabel(ee,W):f.get(ee,N),B=f.eqNull(Y)?"":Y;let Se=K[B];Se||(Se=[],K[B]=Se),ee.isAggregate&&(ee.isAggregate=void 0),Se.push(ee)}),f.objectEach(K,(ee,Y)=>{const{fullData:B,treeData:Se}=Uf(ee,l.slice(1)),ye={isAggregate:!0,aggData:{},groupContent:Y,groupField:N,childCount:0,[b]:gi(),[C]:null,[$]:gi(),[y]:Se,[E]:Se};I&&(ye[I]=!1),H&&(ye[H]=!1),U.push(ye),p.push(ye),a.push(ye),B.length&&a.push(...B)}),jf(U)}}return{treeData:p,fullData:a}},gl=(r,l)=>{const{keepSource:a,treeConfig:p,rowGroupConfig:g,aggregateConfig:b}=e,{rowGroupList:C,scrollYLoad:y}=i,{scrollYStore:E,scrollXStore:T,lastScrollLeft:I,lastScrollTop:H}=s,A=se.value,N=ut.value,W=Ot.value,{transform:K}=N,U=N.children||N.childrenField;let $=[],ee=to(r?r.slice(0):[]);if(ee.length>Ym&&je("vxe.error.errMaxRow",[Ym]),p&&C.length)return je("vxe.error.noTree",["aggregate-config"]),pe();if(A.drag&&C.length)return je("vxe.error.errConflicts",["row-config.drag","aggregate-config"]),pe();let Y=!1;if(p)K?(N.rowField||je("vxe.error.reqProp",["tree-config.rowField"]),N.parentField||je("vxe.error.reqProp",["tree-config.parentField"]),U||je("vxe.error.reqProp",["tree-config.childrenField"]),N.mapChildrenField||je("vxe.error.reqProp",["tree-config.mapChildrenField"]),U===N.mapChildrenField&&je("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),$=f.toArrayTree(ee,{key:N.rowField,parentKey:N.parentField,children:U,mapChildren:N.mapChildrenField}),ee=$.slice(0)):$=ee.slice(0);else if((b||g)&&C.length){const Se=Uf(ee,C);$=Se.treeData,ee=Se.fullData,Y=!0}i.isRowGroupStatus=Y,E.startIndex=0,E.endIndex=1,T.startIndex=0,T.endIndex=1,s.cvCacheMaps={},i.isRowLoading=!0,i.scrollVMLoading=!1,i.treeExpandedFlag++,i.rowExpandedFlag++,s.insertRowMaps={},i.insertRowFlag++,s.removeRowMaps={},i.removeRowFlag++;const B=Kl(ee);return i.isDragColMove=!1,i.isDragRowMove=!1,s.tableFullData=ee,s.tableFullTreeData=Y?[]:$,s.tableFullGroupData=Y?$:[],h.cacheRowMap(l),s.tableSynchData=r,l&&(s.isResizeCellHeight=!1),a&&h.cacheSourceMap(ee),h.clearCellAreas&&e.mouseConfig&&(h.clearCellAreas(),h.clearCopyCellArea()),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.updateFooter(),h.handleUpdateBodyMerge(),pe().then(()=>{Pn(),Rr()}).then(()=>{ys()}).then(()=>(B&&(E.endIndex=E.visibleSize),B&&(i.expandColumn&&W.mode!=="fixed"&&je("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||je("vxe.error.reqProp",["height | max-height | virtual-y-config={enabled: false}"]),e.spanMethod&&je("vxe.error.scrollErrProp",["table.span-method"])),RC(),h.checkSelectionStatus(),new Promise(Se=>{pe().then(()=>pl(!1)).then(()=>($r(),Vr(),pl(!1))).then(()=>{let ye=I,De=H;const Ke=xt.value,We=Xe.value;Ke.scrollToLeftOnChange&&(ye=0),We.scrollToTopOnChange&&(De=0),i.isRowLoading=!1,pl(!1),y===B?_i(h,ye,De).then(()=>{$r(),Vr(),Se()}):setTimeout(()=>{_i(h,ye,De).then(()=>{$r(),Vr(),Se()})})})})))},Ti=()=>{Ro(),hl(),Tt(),SC(),OC(),DC(),pe(()=>setTimeout(()=>h.recalculate()))},TC=()=>{Ko()},Es=()=>{const{scrollXLoad:r}=i,{visibleColumn:l,scrollXStore:a,fullColumnIdData:p}=s,g=r?l.slice(a.startIndex,a.endIndex):l.slice(0);g.forEach((b,C)=>{const y=b.id,E=p[y];E&&(E.$index=C)}),i.tableColumn=g},Yf=()=>{const r=f.orderBy(s.collectColumn,"renderSortNumber");s.collectColumn=r;const l=Fi(r);s.tableFullColumn=l,qn()},$n=()=>{const{isScrollXBig:r}=i,{mergeBodyList:l,mergeFooterList:a,scrollXStore:p}=s,{preloadSize:g,startIndex:b,endIndex:C,offsetSize:y}=p,{toVisibleIndex:E,visibleSize:T}=Co(),I={startIndex:Math.max(0,r?E-1:E-1-y-g),endIndex:r?E+T:E+T+y+g};p.visibleStartIndex=E-1,p.visibleEndIndex=E+T+1,dl(l.concat(a),I,"col");const{startIndex:H,endIndex:A}=I;(E<=b||E>=C-T-1)&&(b!==H||C!==A)&&(p.startIndex=H,p.endIndex=A,h.updateScrollXData()),h.closeTooltip()},Fi=r=>{const l=[];return r.forEach(a=>{l.push(...a.children&&a.children.length?Fi(a.children):[a])}),l},Rs=r=>{const l=[],a=[],p=[],{isGroup:g,columnStore:b}=i,{collectColumn:C,tableFullColumn:y,scrollXStore:E,fullColumnIdData:T}=s;if(g){const A=[],N=[],W=[];f.eachTree(C,(K,U,$,ee,Y)=>{const B=Fl(K);Y&&Y.fixed&&(K.fixed=Y.fixed),Y&&K.fixed!==Y.fixed&&je("vxe.error.groupFixed"),B?K.visible=!!f.findTree(K.children,Se=>Fl(Se)?!1:Se.visible):K.visible&&(K.fixed==="left"?l.push(K):K.fixed==="right"?p.push(K):a.push(K))}),C.forEach(K=>{K.visible&&(K.fixed==="left"?A.push(K):K.fixed==="right"?W.push(K):N.push(K))}),i.tableGroupColumn=A.concat(N).concat(W)}else y.forEach(A=>{A.visible&&(A.fixed==="left"?l.push(A):A.fixed==="right"?p.push(A):a.push(A))});const I=l.concat(a).concat(p);s.visibleColumn=I,Ds();const H=IC();if(i.hasFixedColumn=l.length>0||p.length>0,Object.assign(b,{leftList:l,centerList:a,rightList:p}),H&&(e.spanMethod&&st("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&st("vxe.error.scrollErrProp",["footer-span-method"]),r)){const{visibleSize:A}=Co();E.startIndex=0,E.endIndex=A,E.visibleSize=A,E.visibleStartIndex=0,E.visibleEndIndex=A}return(I.length!==s.visibleColumn.length||!s.visibleColumn.every((A,N)=>A===I[N]))&&(h.clearMergeCells(),h.clearMergeFooterItems()),I.forEach((A,N)=>{const W=A.id,K=T[W];K&&(K._index=N)}),Es(),r?(Ds(),h.updateFooter().then(()=>h.recalculate()).then(()=>(h.updateCellAreas(),h.recalculate()))):h.updateFooter()},FC=()=>{const{collectColumn:r}=s;r.forEach((l,a)=>{const p=a+1;l.sortNumber=p,l.renderSortNumber=p})},Xf=r=>{const l=Ot.value;s.collectColumn=r;const a=Fi(r);return s.tableFullColumn=a,i.isColLoading=!0,i.isDragColMove=!1,FC(),Promise.resolve(yo()).then(()=>{const{scrollXLoad:p,scrollYLoad:g,expandColumn:b}=i;return qn(),Rs(!0).then(()=>{i.scrollXLoad&&$n()}),h.clearMergeCells(),h.clearMergeFooterItems(),h.handleTableData(!0),h.handleAggregateSummaryData(),(p||g)&&b&&l.mode!=="fixed"&&st("vxe.error.scrollErrProp",["column.type=expand"]),pe().then(()=>(Ue&&Ue.syncUpdate({collectColumn:s.collectColumn,$table:h}),h.handleUpdateCustomColumn&&h.handleUpdateCustomColumn(),i.isColLoading=!1,h.recalculate()))})},IC=r=>{const l=xt.value,a=s.tableFullColumn,p=!!l.enabled&&l.gt>-1&&(l.gt===0||l.gt<a.length);return i.scrollXLoad=p,p},Kl=r=>{const{treeConfig:l}=e,a=Xe.value,p=ut.value,{transform:g}=p,b=r||s.tableFullData,C=(g||!l)&&!!a.enabled&&a.gt>-1&&(a.gt===0||a.gt<b.length);return i.scrollYLoad=C,C},Kf=(r,l)=>{const{treeNodeColumn:a}=i,{fullAllDataRowIdData:p,tableFullTreeData:g,treeExpandedMaps:b,treeExpandLazyLoadedMaps:C}=s,y=ut.value,{reserve:E,lazy:T,accordion:I,toggleMethod:H}=y,A=y.children||y.childrenField,N=y.hasChild||y.hasChildField,W=[],K=h.getColumnIndex(a),U=h.getVMColumnIndex(a),{handleGetRowId:$}=br(h);let ee=H?r.filter(Y=>H({$table:h,expanded:l,column:a,columnIndex:K,$columnIndex:U,row:Y})):r;if(I){ee=ee.length?[ee[ee.length-1]]:[];const Y=f.findTree(g,B=>B===ee[0],{children:A});Y&&Y.items.forEach(B=>{const Se=$(B);b[Se]&&delete b[Se]})}return l?ee.forEach(Y=>{const B=$(Y);if(!b[B]){const Se=p[B];Se&&(T&&Y[N]&&!Se.treeLoaded&&!C[B]?W.push(Vf(Y)):Y[A]&&Y[A].length&&(b[B]=Y))}}):ee.forEach(Y=>{const B=$(Y);b[B]&&delete b[B]}),E&&ee.forEach(Y=>zf(Y,l)),i.treeExpandedFlag++,Promise.all(W).then(()=>h.recalculate())},kC=(r,l)=>Kf(r,l).then(()=>(io(),h.handleTableData(),i.treeExpandedFlag++,lo(),pe())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),AC=(r,l)=>{const{fullAllDataRowIdData:a,tableFullGroupData:p,rowGroupExpandedMaps:g}=s,b=be.value,{mapChildrenField:C,accordion:y}=b,{handleGetRowId:E}=br(h);let T=r;if(C){if(y){T=T.length?[T[T.length-1]]:[];const I=f.findTree(p,H=>Ne(h,H)===Ne(h,T[0]),{children:C});I&&I.items.forEach(H=>{const A=E(H);g[A]&&delete g[A]})}l?T.forEach(I=>{const H=E(I);g[H]||a[H]&&I[C]&&I[C].length&&(g[H]=I)}):T.forEach(I=>{const H=E(I);g[H]&&delete g[H]})}return i.rowGroupExpandedFlag++,h.recalculate()},LC=(r,l)=>AC(r,l).then(()=>(io(),h.handleTableData(),i.rowGroupExpandedFlag++,lo(),pe())).then(()=>h.recalculate(!0)).then(()=>{setTimeout(()=>{h.updateCellAreas()},30)}),Zf=(r,l)=>{ws(l),r&&Ht("checkbox-all",{records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:l},r)},Zl=()=>{const{isAllOverflow:r,isScrollYBig:l}=i,{mergeBodyList:a,scrollYStore:p}=s,{preloadSize:g,startIndex:b,endIndex:C,offsetSize:y}=p,E=r?y:y+1,{toVisibleIndex:T,visibleSize:I}=Zr(),H={startIndex:Math.max(0,l?T-1:T-1-y-g),endIndex:l?T+I:T+I+E+g};p.visibleStartIndex=T-1,p.visibleEndIndex=T+I+1,dl(a,H,"row");const{startIndex:A,endIndex:N}=H;(T<=b||T>=C-I-1)&&(b!==A||C!==N)&&(p.startIndex=A,p.endIndex=N,h.updateScrollYData())},Ii=r=>function(l){const{fullAllDataRowIdData:a}=s;if(l){const p=Ne(h,l),g=a[p];if(g)return g[r]}return-1},Ss=r=>function(l){const{fullColumnIdData:a}=s;if(l){const p=a[l.id];if(p)return p[r]}return-1},HC=()=>{const{lxTimeout:r,lxRunTime:l,scrollXStore:a}=s,{visibleSize:p}=a,g=p>26?26:p>16?14:6;r&&clearTimeout(r),(!l||l+g<Date.now())&&(s.lxRunTime=Date.now(),$n()),s.lxTimeout=setTimeout(()=>{s.lxTimeout=void 0,s.lxRunTime=void 0,$n()},g)},_C=()=>{const{lyTimeout:r,lyRunTime:l,scrollYStore:a}=s,{visibleSize:p}=a,g=p>30?32:p>20?18:8;r&&clearTimeout(r),(!l||l+g<Date.now())&&(s.lyRunTime=Date.now(),Zl()),s.lyTimeout=setTimeout(()=>{s.lyTimeout=void 0,s.lyRunTime=void 0,Zl()},g)},qC=(r,l)=>{const{scrollXLoad:a,scrollYLoad:p,isAllOverflow:g}=i,{lcsTimeout:b}=s;b&&clearTimeout(b),s.lcsTimeout=setTimeout(()=>{s.lcsRunTime=Date.now(),s.lcsTimeout=void 0,s.intoRunScroll=!1,s.inVirtualScroll=!1,s.inWheelScroll=!1,s.inHeaderScroll=!1,s.inBodyScroll=!1,s.inFooterScroll=!1,s.scrollRenderType="",g||($r(),Vr()),r&&a&&h.updateScrollXData(),l&&p&&h.updateScrollYData().then(()=>{g||($r(),Vr()),h.updateScrollYSpace()}),Vn(),h.updateCellAreas()},200)},PC=r=>{let l=1;const a=Date.now();return r+25>a?l=1.18:r+30>a?l=1.15:r+40>a?l=1.12:r+55>a?l=1.09:r+75>a?l=1.06:r+100>a&&(l=1.03),l},NC=(r,l)=>{requestAnimationFrame(()=>{l(r)})},BC=(r,l)=>{const a=Math.abs(r),p=performance.now();let g=0;const b=C=>{let y=(C-p)/a;y>1&&(y=1);const E=Math.pow(y,2),T=Math.floor(r*E)-g;g+=T,l(T),y<1&&requestAnimationFrame(b)};requestAnimationFrame(b)},Ht=(r,l,a)=>{n(r,xR(a,{$table:h,$grid:Le},l))},$C=(r,l)=>{const{fullColumnIdData:a}=s,p=sr(h,r);return p&&a[p.id]?Am(h,p,l):pe()},Os=()=>{const r=S.value;r&&r.clientWidth&&r.clientHeight&&h.recalculate()},Jf=(r,l)=>{h.analyColumnWidth(),h.recalculate().then(()=>{h.saveCustomStore("update:width"),h.updateCellAreas(),h.dispatchEvent("column-resizable-change",l,r),h.dispatchEvent("resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},Qf=(r,l)=>{i.resizeHeightFlag++,h.recalculate().then(()=>{h.updateCellAreas(),h.dispatchEvent("row-resizable-change",l,r),setTimeout(()=>h.recalculate(!0),300)})},Ds=()=>{const{visibleColumn:r,fullColumnIdData:l}=s;let a=0;for(let p=0,g=r.length;p<g;p++){const b=r[p],C=b.id,y=l[C];y&&(y.oLeft=a),a+=b.renderWidth}},Vr=()=>{const{expandColumn:r}=i,{afterFullData:l,fullAllDataRowIdData:a,rowExpandedMaps:p}=s,g=Ot.value,b=se.value,C=Rt.value,y=Be.value,{handleGetRowId:E}=br(h);let T=0;for(let I=0,H=l.length;I<H;I++){const A=l[I],N=E(A),W=a[N]||{};W.oTop=T,T+=W.resizeHeight||C.height||b.height||W.height||y,r&&p[N]&&(T+=W.expandHeight||g.height||0)}},Vn=()=>{const{expandColumn:r,scrollYLoad:l,scrollYTop:a,isScrollYBig:p}=i,g=Ot.value,b=se.value,C=Rt.value,y=Be.value,{mode:E}=g;if(r&&E==="fixed"){const{elemStore:T,fullAllDataRowIdData:I}=s,H=oe.value,A=rt(T["main-body-scroll"]);if(H&&A){let N=!1;f.arrayEach(H.children,W=>{const K=W,U=K.getAttribute("rowid")||"",$=I[U];if($){const ee=K.offsetHeight+1,Y=A.querySelector(`.vxe-body--row[rowid="${U}"]`);let B=0;l?p&&Y?B=Y.offsetTop+Y.offsetHeight:B=$.oTop+($.resizeHeight||C.height||b.height||$.height||y):Y&&(B=Y.offsetTop+Y.offsetHeight),p&&(B+=a),K.style.top=bi(B),N||$.expandHeight!==ee&&(N=!0),$.expandHeight=ee}}),N&&(i.rowExpandHeightFlag++,pe(()=>{Vr()}))}}},eh=()=>{const{elemStore:r}=s,l=oe.value,a=rt(r["main-body-scroll"]);l&&a&&(l.scrollTop=a.scrollTop)};R={dispatchEvent:Ht,getEl(){return S.value},clearAll(){return tR(h)},syncData(){return je("vxe.error.delFunc",["syncData","getData"]),pe().then(()=>(i.tableData=[],n("update:data",s.tableFullData),pe()))},updateData(){const{scrollXLoad:r,scrollYLoad:l}=i;return O.handleTableData(!0).then(()=>{if(R.updateFooter(),r||l)return r&&O.updateScrollXSpace(),l&&O.updateScrollYSpace(),R.refreshScroll()}).then(()=>(R.updateCellAreas(),R.recalculate(!0))).then(()=>{setTimeout(()=>h.recalculate(),50)})},loadData(r){const{initStatus:l}=s;return gl(r,!1).then(()=>(s.inited=!0,s.initStatus=!0,l||Ti(),R.recalculate()))},reloadData(r){return R.clearAll().then(()=>(s.inited=!0,s.initStatus=!0,gl(r,!0))).then(()=>(Ti(),R.recalculate()))},setRow(r,l){if(r&&l){let a=r;f.isArray(r)||(a=[r]);const p=Un(h);a.forEach(g=>{const b=Ne(h,g),C=f.clone(Object.assign({},l),!0);f.set(C,p,b),Object.assign(g,C)})}return pe()},reloadRow(r,l,a){const{keepSource:p}=e,{tableData:g}=i,{sourceDataRowIdData:b}=s;if(p){if(h.isAggregateRecord(r))return pe();const C=b[Ne(h,r)];if(C&&r)if(a){const y=f.clone(f.get(l||r,a),!0);f.set(r,a,y),f.set(C,a,y)}else{const y=Un(h),E=Ne(h,r),T=f.clone(Object.assign({},l),!0);f.set(T,y,E),f.destructuring(C,Object.assign(r,T))}i.tableData=g.slice(0)}else je("vxe.error.reqProp",["keep-source"]);return pe()},getParams(){return e.params},loadTreeChildren(r,l){const{keepSource:a}=e,{tableSourceData:p,fullDataRowIdData:g,fullAllDataRowIdData:b,sourceDataRowIdData:C}=s,y=ut.value,{transform:E,mapChildrenField:T}=y,I=y.children||y.childrenField,H=b[Ne(h,r)],A=H?H.level:0;return R.createData(l).then(N=>{if(a){const W=Ne(h,r),K=f.findTree(p,U=>W===Ne(h,U),{children:I});K&&(K.item[I]=f.clone(N,!0)),N.forEach(U=>{const $=Ne(h,U);C[$]=f.clone(U,!0)})}return f.eachTree(N,(W,K,U,$,ee,Y)=>{const B=Ne(h,W),Se=ee||H.row,ye={row:W,rowid:B,seq:-1,index:K,_index:-1,$index:-1,treeIndex:-1,items:U,parent:Se,level:A+Y.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};g[B]=ye,b[B]=ye},{children:I}),r[I]=N,E&&(r[T]=f.clone(N,!1)),lo(),N})},loadColumn(r){const{lastScrollLeft:l,lastScrollTop:a}=s,p=f.mapTree(r,g=>to(gt.createColumn(h,g)));return Xf(p).then(()=>{let g=l,b=a;const C=xt.value,y=Xe.value;C.scrollToLeftOnChange&&(g=0),y.scrollToTopOnChange&&(b=0),_i(h,g,b)})},reloadColumn(r){return R.clearAll().then(()=>R.loadColumn(r))},getRowNode(r){if(r){const{fullAllDataRowIdData:l}=s,a=r.getAttribute("rowid");if(a){const p=l[a];if(p)return{rowid:p.rowid,item:p.row,index:p.index,items:p.items,parent:p.parent}}}return null},getColumnNode(r){if(r){const{fullColumnIdData:l}=s,a=r.getAttribute("colid");if(a){const p=l[a];if(p)return{colid:p.colid,item:p.column,index:p.index,items:p.items,parent:p.parent}}}return null},getRowSeq:Ii("seq"),getRowIndex:Ii("index"),getVTRowIndex:Ii("_index"),getVMRowIndex:Ii("$index"),getColumnIndex:Ss("index"),getVTColumnIndex:Ss("_index"),getVMColumnIndex:Ss("$index"),createData(r){return pe().then(()=>to(O.defineField(r)))},createRow(r){const l=f.isArray(r);return l||(r=[r||{}]),R.createData(r).then(a=>l?a:a[0])},revertData(r,l){const{keepSource:a,treeConfig:p}=e,{fullAllDataRowIdData:g,fullDataRowIdData:b,tableSourceData:C,sourceDataRowIdData:y,tableFullData:E,afterFullData:T,removeRowMaps:I}=s,H=ut.value,{transform:A}=H,{handleGetRowId:N}=br(h);if(!a)return je("vxe.error.reqProp",["keep-source"]),pe();let W=r;r?f.isArray(r)||(W=[r]):W=f.toArray(h.getUpdateRecords());let K=!1;return W.length&&W.forEach(U=>{const $=N(U),ee=g[$];if(ee){const Y=ee.row;if(!h.isInsertByRow(Y)){const B=y[$];B&&Y&&(l?f.set(Y,l,f.clone(f.get(B,l),!0)):f.destructuring(Y,f.clone(B,!0)),!b[$]&&h.isRemoveByRow(Y)&&(I[$]&&delete I[$],E.unshift(Y),T.unshift(Y),K=!0))}}}),r?(K&&(i.removeRowFlag++,h.updateFooter(),h.cacheRowMap(!1),h.handleTableData(p&&A),p&&A||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace()),pe().then(()=>(h.updateCellAreas(),h.recalculate()))):h.reloadData(C)},clearData(r,l){const{tableFullData:a,visibleColumn:p}=s;return arguments.length?r&&!f.isArray(r)&&(r=[r]):r=a,l?r.forEach(g=>f.set(g,l,null)):r.forEach(g=>{p.forEach(b=>{b.field&&Mo(g,b,null)})}),pe()},getCellElement(r,l){const{elemStore:a}=s,p=sr(h,l);if(!p)return null;const g=Ne(h,r),b=rt(a["main-body-scroll"]),C=rt(a["left-body-scroll"]),y=rt(a["right-body-scroll"]);let E;return p&&(p.fixed&&(p.fixed==="left"?C&&(E=C):y&&(E=y)),E||(E=b),E)?E.querySelector(`.vxe-body--row[rowid="${g}"] .${p.id}`):null},getCellLabel(r,l){const a=sr(h,l);if(!a)return null;const{formatter:p}=a,g=wr(r,a);let b=g;if(p){let C;const{fullAllDataRowIdData:y}=s,E=Ne(h,r),T=a.id,I=y[E];if(I&&(C=I.formatData,C||(C=y[E].formatData={}),I&&C[T]&&C[T].value===g))return C[T].label;const H={cellValue:g,row:r,rowIndex:R.getRowIndex(r),column:a,columnIndex:R.getColumnIndex(a)};if(f.isString(p)){const A=jm.get(p),N=A?A.tableCellFormatMethod||A.cellFormatMethod:null;b=N?N(H):""}else if(f.isArray(p)){const A=jm.get(p[0]),N=A?A.tableCellFormatMethod||A.cellFormatMethod:null;b=N?N(H,...p.slice(1)):""}else b=p(H);C&&(C[T]={value:g,label:b})}return b},isInsertByRow(r){const l=Ne(h,r);return!!i.insertRowFlag&&!!s.insertRowMaps[l]},isRemoveByRow(r){const l=Ne(h,r);return!!i.removeRowFlag&&!!s.removeRowMaps[l]},removeInsertRow(){const{insertRowMaps:r}=s;return h.remove(f.values(r))},isUpdateByRow(r,l){const{keepSource:a}=e,{tableFullColumn:p,fullDataRowIdData:g,sourceDataRowIdData:b}=s;if(a){const C=f.isString(r)||f.isNumber(r)?r:Ne(h,r),y=g[C];if(!y)return!1;const E=y.row,T=b[C];if(T){if(arguments.length>1)return!xo(T,E,l);for(let I=0,H=p.length;I<H;I++){const A=p[I].field;if(A&&!xo(T,E,A))return!0}}}return!1},getColumns(r){const{visibleColumn:l}=s;return f.isUndefined(r)?l.slice(0):l[r]},getColid(r){const l=sr(h,r);return l?l.id:null},getColumnById(r){const{fullColumnIdData:l}=s;return r&&l[r]?l[r].column:null},getColumnByField(r){const l=s.fullColumnFieldData;return r&&l[r]?l[r].column:null},getParentColumn(r){const{fullColumnIdData:l}=s,a=sr(h,r);return a&&a.parentId&&l[a.parentId]?l[a.parentId].column:null},getTableColumn(){return{collectColumn:s.collectColumn.slice(0),fullColumn:s.tableFullColumn.slice(0),visibleColumn:s.visibleColumn.slice(0),tableColumn:i.tableColumn.slice(0)}},moveColumnTo(r,l,a){const{fullColumnIdData:p,visibleColumn:g}=s,{dragToChild:b,dragPos:C,isCrossDrag:y}=Object.assign({},a),E=sr(h,r);let T=null;const I=E?p[E.id]:null;let H="left";if(f.isNumber(l)){if(I&&l){let A=I.items,N=I._index+l;y&&(A=g,N=I._index+l),N>0&&N<A.length-1&&(T=A[N]),l>0&&(H="right")}}else{T=sr(h,l);const A=T?p[T.id]:null;I&&A&&A._index>I._index&&(H="right")}return h.handleColDragSwapEvent(null,!0,E,T,C||H,b===!0)},moveRowTo(r,l,a){const{treeConfig:p}=e,{fullAllDataRowIdData:g,afterFullData:b}=s,{dragToChild:C,dragPos:y,isCrossDrag:E}=Object.assign({},a),T=ut.value,I=Dm(h,r);let H=null,A="top";const N=I?g[Ne(h,I)]:null;if(f.isNumber(l)){if(N&&l){let W=b,K=N._index+l;p&&(W=N.items,T.transform&&(K=N.treeIndex+l,E&&(W=b,K=N._index+l))),K>=0&&K<=W.length-1&&(H=W[K]),l>0&&(A="bottom")}}else{H=Dm(h,l);const W=H?g[Ne(h,H)]:null;N&&W&&W._index>N._index&&(A="bottom")}return h.handleRowDragSwapEvent(null,!0,I,H,y||A,C===!0)},getFullColumns(){const{collectColumn:r}=s;return r.slice(0)},getData(r){const l=e.data||s.tableSynchData;return f.isUndefined(r)?l.slice(0):l[r]},getCheckboxRecords(r){const{treeConfig:l}=e,{updateCheckboxFlag:a}=i,{tableFullData:p,afterFullData:g,tableFullTreeData:b,fullDataRowIdData:C,afterFullRowMaps:y,selectCheckboxMaps:E}=s,T=ut.value,I=ht.value,{transform:H,mapChildrenField:A}=T,{checkField:N}=I,W=T.children||T.childrenField;let K=[];if(a)if(N)if(l){const U=r?H?b:p:H?b:g;K=f.filterTree(U,$=>f.get($,N),{children:H?A:W})}else K=(r?p:g).filter($=>f.get($,N));else{const U=r||l&&!H?C:y;f.each(E,($,ee)=>{U[ee]&&K.push(C[ee].row)})}return K},getTreeRowChildren(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,p=ut.value,{transform:g,mapChildrenField:b}=p,C=p.children||p.childrenField;if(r&&l){let y;if(f.isString(r)?y=r:y=Ne(h,r),y){const E=a[y],T=E?E.row:null;if(T)return T[g?b:C]||[]}}return[]},getTreeParentRow(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s;if(r&&l){let p;if(f.isString(r)?p=r:p=Ne(h,r),p){const g=a[p];return g?g.parent:null}}return null},getParentRow(r){return st("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),h.getTreeParentRow(r)},getRowById(r){const{fullAllDataRowIdData:l}=s,a=f.eqNull(r)?"":encodeURIComponent(r||"");return l[a]?l[a].row:null},getRowid(r){return Ne(h,r)},getTableData(){const{tableData:r,footerTableData:l}=i,{tableFullData:a,afterFullData:p,tableFullTreeData:g}=s;return{fullData:e.treeConfig?g.slice(0):a.slice(0),visibleData:p.slice(0),tableData:r.slice(0),footerData:l.slice(0)}},getFullData(){const{treeConfig:r}=e,{tableFullData:l,tableFullTreeData:a}=s;if(r){const p=ut.value,{transform:g,mapChildrenField:b,rowField:C,parentField:y}=p,E=p.children||p.childrenField;return g?f.toArrayTree(f.toTreeArray(a,{children:b}),{key:C,parentKey:y,children:E,mapChildren:b}):a.slice(0)}return l.slice(0)},setColumnFixed(r,l){let a=!1;const p=f.isArray(r)?r:[r],g=$e.value,b=il.value;for(let C=0;C<p.length;C++){const y=p[C],E=sr(h,y),T=Im(h,E);if(T&&T.fixed!==l){if(!T.fixed&&b)return xe.modal&&xe.modal.message({status:"error",content:qo("vxe.table.maxFixedCol",[g.maxFixedSize])}),pe();f.eachTree([T],I=>{I.fixed=l,I.renderFixed=l}),O.saveCustomStore("update:fixed"),a||(a=!0)}}return a?R.refreshColumn():pe()},clearColumnFixed(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=sr(h,p),b=Im(h,g);b&&b.fixed&&(f.eachTree([b],C=>{C.fixed=null,C.renderFixed=null}),O.saveCustomStore("update:fixed"),l||(l=!0))}),l?R.refreshColumn():pe()},hideColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=sr(h,p);g&&g.visible&&(g.visible=!1,l||(l=!0))}),l?O.handleCustom():pe()},showColumn(r){let l=!1;return(f.isArray(r)?r:[r]).forEach(p=>{const g=sr(h,p);g&&!g.visible&&(g.visible=!0,l||(l=!0))}),l?O.handleCustom():pe()},setColumnWidth(r,l){const{elemStore:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(Ml(l)){const C=rt(a["main-body-scroll"]),y=C?C.clientWidth-1:0;b=Math.floor(b*y)}return b&&(g.forEach(C=>{const y=sr(h,C);y&&(y.resizeWidth=b,p||(p=!0))}),p)?h.refreshColumn().then(()=>({status:p})):pe().then(()=>({status:p}))},getColumnWidth(r){const l=sr(h,r);return l?l.renderWidth:0},resetColumn(r){return st("vxe.error.delFunc",["resetColumn","resetCustom"]),h.resetCustom(r)},refreshColumn(r){return r&&Yf(),Rs(!0).then(()=>R.refreshScroll()).then(()=>R.recalculate())},setRowHeightConf(r){const{fullAllDataRowIdData:l}=s;let a=!1;return r&&(f.each(r,(p,g)=>{const b=l[g];if(b){const C=f.toInteger(p);C&&(b.resizeHeight=C,a||(a=!0))}}),a&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)),pe().then(()=>(Vr(),{status:a}))},getRowHeightConf(r){const{fullAllDataRowIdData:l,afterFullData:a}=s,{handleGetRowId:p}=br(h),g=se.value,b=Rt.value,C=Be.value,y={};return a.forEach(E=>{const T=p(E),I=l[T];if(I){const H=I.resizeHeight;if(H||r){const A=H||b.height||g.height||I.height||C;y[T]=A}}}),y},setRowHeight(r,l){const{fullAllDataRowIdData:a}=s;let p=!1;const g=f.isArray(r)?r:[r];let b=f.toInteger(l);if(Ml(l)){const C=M.value,y=C?C.$el:null,E=y?y.clientHeight-1:0;b=Math.floor(b*E)}if(b){const{handleGetRowId:C}=br(h);g.forEach(y=>{const E=f.isString(y)||f.isNumber(y)?y:C(y),T=a[E];T&&(T.resizeHeight=b,p||(p=!0))}),p&&(s.isResizeCellHeight=!0,i.resizeHeightFlag++)}return pe().then(()=>({status:p}))},getRowHeight(r){const{fullAllDataRowIdData:l}=s,a=se.value,p=Rt.value,g=Be.value,b=f.isString(r)||f.isNumber(r)?r:Ne(h,r),C=l[b];return C?C.resizeHeight||p.height||a.height||C.height||g:0},refreshScroll(){const{elemStore:r,lastScrollLeft:l,lastScrollTop:a}=s,p=rt(r["main-header-scroll"]),g=rt(r["main-body-scroll"]),b=rt(r["main-footer-scroll"]),C=rt(r["left-body-scroll"]),y=rt(r["right-body-scroll"]),E=ie.value,T=he.value;return new Promise(I=>{if(l||a)return _i(h,l,a).then(()=>{setTimeout(I,10)});s.intoRunScroll=!0,Wt(T,a),Wt(g,a),Wt(C,a),Wt(y,a),Ut(E,l),Ut(g,l),Ut(p,l),Ut(b,l),setTimeout(()=>{s.intoRunScroll=!1,I()},10)})},recalculate(r){return new Promise(l=>{const{rceTimeout:a,rceRunTime:p}=s,b=wt.value.refreshDelay||20,C=S.value;C&&C.clientWidth&&(Jr(),Vn()),a?(clearTimeout(a),p&&p+(b-5)<Date.now()?l(pl(!!r)):pe(()=>{l()})):l(pl(!!r)),s.rceTimeout=setTimeout(()=>{s.rceTimeout=void 0,pl(!!r)},b)})},openTooltip(r,l){const a=q.value;return a&&a.open?a.open(r,l):pe()},closeTooltip(){const{tooltipStore:r}=i,l=_.value,a=q.value;return r.visible&&(Object.assign(r,{row:null,column:null,content:null,visible:!1,currOpts:{}}),l&&l.close&&l.close()),a&&a.close&&a.close(),pe()},isAllCheckboxChecked(){return i.isAllSelected},isAllCheckboxIndeterminate(){return!i.isAllSelected&&i.isIndeterminate},getCheckboxIndeterminateRecords(r){const{treeConfig:l}=e,{fullDataRowIdData:a,treeIndeterminateRowMaps:p}=s;if(l){const g=[],b=[];return f.each(p,(C,y)=>{C&&(g.push(C),a[y]&&b.push(C))}),r?g:b}return[]},setCheckboxRow(r,l){return r&&!f.isArray(r)&&(r=[r]),Zo(r,l,!0)},setCheckboxRowKey(r,l){const{fullAllDataRowIdData:a}=s;f.isArray(r)||(r=[r]);const p=[];return r.forEach(g=>{const b=a[g];b&&p.push(b.row)}),Zo(p,l,!0)},isCheckedByCheckboxRow(r){const{updateCheckboxFlag:l}=i,{selectCheckboxMaps:a}=s,p=ht.value,{checkField:g}=p;return g?f.get(r,g):!!l&&!!a[Ne(h,r)]},isCheckedByCheckboxRowKey(r){const{updateCheckboxFlag:l}=i,{fullAllDataRowIdData:a,selectCheckboxMaps:p}=s,g=ht.value,{checkField:b}=g;if(b){const C=a[r];return C?f.get(C.row,b):!1}return!!l&&!!p[r]},isIndeterminateByCheckboxRow(r){const{treeIndeterminateRowMaps:l}=s;return!!l[Ne(h,r)]&&!h.isCheckedByCheckboxRow(r)},isIndeterminateByCheckboxRowKey(r){const{treeIndeterminateRowMaps:l}=s;return!!l[r]&&!h.isCheckedByCheckboxRowKey(r)},toggleCheckboxRow(r){const{selectCheckboxMaps:l}=s,a=ht.value,{checkField:p}=a,g=p?!f.get(r,p):!l[Ne(h,r)];return O.handleBatchSelectRows([r],g,!0),O.checkSelectionStatus(),pe()},setAllCheckboxRow(r){return ws(r,!0)},getRadioReserveRecord(r){const{treeConfig:l}=e,{fullDataRowIdData:a,radioReserveRow:p,afterFullData:g}=s,b=Mt.value,C=ut.value,y=C.children||C.childrenField;if(b.reserve&&p){const E=Ne(h,p);if(r){if(!a[E])return p}else{const T=Un(h);if(l){if(f.findTree(g,H=>E===f.get(H,T),{children:y}))return p}else if(!g.some(I=>E===f.get(I,T)))return p}}return null},clearRadioReserve(){return s.radioReserveRow=null,pe()},getCheckboxReserveRecords(r){const{treeConfig:l}=e,{afterFullData:a,fullDataRowIdData:p,checkboxReserveRowMap:g}=s,b=ht.value,C=ut.value,y=C.children||C.childrenField,E=[];if(b.reserve){const{handleGetRowId:T}=br(h),I={};l?f.eachTree(a,H=>{I[T(H)]=1},{children:y}):a.forEach(H=>{I[T(H)]=1}),f.each(g,(H,A)=>{H&&(r?p[A]||E.push(H):I[A]||E.push(H))})}return E},clearCheckboxReserve(){return s.checkboxReserveRowMap={},pe()},toggleAllCheckboxRow(){return Zf(null,!i.isAllSelected),pe()},clearCheckboxRow(){const{treeConfig:r}=e,{tableFullData:l}=s,a=ut.value,p=a.children||a.childrenField,g=ht.value,{checkField:b,reserve:C}=g,y=g.indeterminateField||g.halfField;if(b){const E=T=>{r&&y&&f.set(T,y,!1),f.set(T,b,!1)};r?f.eachTree(l,E,{children:p}):l.forEach(E)}return C&&l.forEach(E=>Tr(E,!1)),i.isAllSelected=!1,i.isIndeterminate=!1,s.selectCheckboxMaps={},s.treeIndeterminateRowMaps={},i.updateCheckboxFlag++,pe()},setCurrentRow(r){const l=se.value,a=S.value;return R.clearCurrentRow(),i.currentRow=r,(l.isCurrent||e.highlightCurrentRow)&&a&&f.arrayEach(a.querySelectorAll(`[rowid="${Ne(h,r)}"]`),p=>Do(p,"row--current")),pe()},isCheckedByRadioRow(r){const{selectRadioRow:l}=i;return r&&l?h.eqRow(l,r):!1},isCheckedByRadioRowKey(r){const{selectRadioRow:l}=i;return l?r===Ne(h,l):!1},setRadioRow(r){return Bn(r,!0)},setRadioRowKey(r){const{fullAllDataRowIdData:l}=s,a=l[r];return a?Bn(a.row,!0):pe()},clearCurrentRow(){const r=S.value;return i.currentRow=null,s.hoverRow=null,r&&f.arrayEach(r.querySelectorAll(".row--current"),l=>eo(l,"row--current")),pe()},clearRadioRow(){return i.selectRadioRow=null,pe()},getCurrentRecord(){return se.value.isCurrent||e.highlightCurrentRow?i.currentRow:null},getRadioRecord(r){const{fullDataRowIdData:l,afterFullRowMaps:a}=s,{selectRadioRow:p}=i;if(p){const g=Ne(h,p);if(r){if(l[g])return p}else if(a[g])return p}return null},getCurrentColumn(){return $e.value.isCurrent||e.highlightCurrentColumn?i.currentColumn:null},setCurrentColumn(r){const{mouseConfig:l}=e,a=ct.value,p=l&&a.selected,g=sr(h,r);return g&&(h.clearCurrentColumn(),i.currentColumn=g),pe().then(()=>{p&&h.addCellSelectedClass()})},clearCurrentColumn(){return i.currentColumn=null,pe()},setPendingRow(r,l){const{handleGetRowId:a}=br(h),{pendingRowMaps:p}=s;return r&&!f.isArray(r)&&(r=[r]),l?r.forEach(g=>{const b=a(g);b&&!p[b]&&(p[b]=g)}):r.forEach(g=>{const b=a(g);b&&p[b]&&delete p[b]}),i.pendingRowFlag++,pe()},togglePendingRow(r){const{handleGetRowId:l}=br(h),{pendingRowMaps:a}=s;return r&&!f.isArray(r)&&(r=[r]),r.forEach(p=>{const g=l(p);g&&(a[g]?delete a[g]:a[g]=p)}),i.pendingRowFlag++,pe()},hasPendingByRow(r){return R.isPendingByRow(r)},isPendingByRow(r){const{pendingRowMaps:l}=s,a=Ne(h,r);return!!l[a]},getPendingRecords(){const{fullAllDataRowIdData:r,pendingRowMaps:l}=s,a=[];return f.each(l,(p,g)=>{r[g]&&a.push(p)}),a},clearPendingRow(){return s.pendingRowMaps={},i.pendingRowFlag++,pe()},sort(r,l){const a=zt.value,{multiple:p,remote:g,orders:b}=a;return r&&f.isString(r)&&(r=[{field:r,order:l}]),f.isArray(r)||(r=[r]),r.length?(p||fn(),(p?r:[r[0]]).forEach((C,y)=>{let{field:E,order:T}=C,I=E;f.isString(E)&&(I=R.getColumnByField(E)),I&&I.sortable&&(b&&b.indexOf(T)===-1&&(T=Kr(I)),I.order!==T&&(I.order=T),I.sortTime=Date.now()+y)}),g||O.handleTableData(!0),pe().then(()=>(Vr(),R.updateCellAreas(),Rr()))):pe()},setSort(r,l){return fl(new Event("click"),r,l)},setSortByEvent(r,l,a){return fl(r,l,a)},clearSort(r){const l=zt.value;if(r){const a=sr(h,r);a&&(a.order=null)}else fn();return l.remote||h.handleTableData(!0),pe().then(()=>(Vr(),Rr()))},clearSortByEvent(r,l){const{tableFullColumn:a}=s,p=zt.value,g=[];let b=null;return r&&(l?(b=sr(h,l),b&&(b.order=null)):a.forEach(C=>{C.order&&(C.order=null,g.push(C))}),p.remote||h.handleTableData(!0),g.length?Ht("clear-all-sort",{$table:h,$event:r,cols:g,sortList:[]},r):b&&h.handleColumnSortEvent(r,b)),pe().then(()=>(Vr(),Rr()))},isSort(r){if(r){const l=sr(h,r);return l?l.sortable&&!!l.order:!1}return R.getSortColumns().length>0},getSortColumns(){const r=zt.value,{multiple:l,chronological:a}=r,p=[],{tableFullColumn:g}=s;return g.forEach(b=>{const{field:C,order:y}=b;b.sortable&&y&&p.push({column:b,field:C,property:C,order:y,sortTime:b.sortTime})}),l&&a&&p.length>1?f.orderBy(p,"sortTime"):p},setFilterByEvent(r,l,a,p){const g=sr(h,l);return g&&g.filters&&(g.filters=Pf(a||[]),p)?h.handleColumnConfirmFilter(g,r):pe()},closeFilter(){const{filterStore:r}=i,{column:l,visible:a}=r;return r.isAllSelected=!1,r.isIndeterminate=!1,r.options=[],r.visible=!1,a&&Ht("filter-visible",{column:l,property:l.field,field:l.field,filterList:()=>h.getCheckedFilters(),visible:!1},null),pe()},isActiveFilterByColumn(r){const l=sr(h,r);return l?l.filters&&l.filters.some(a=>a.checked):h.getCheckedFilters().length>0},isFilter(r){return R.isActiveFilterByColumn(r)},clearFilterByEvent(r,l){const{filterStore:a}=i,{tableFullColumn:p}=s,g=er.value,b=[];let C=null;return l?(C=sr(h,l),C&&h.handleClearFilter(C)):p.forEach(y=>{y.filters&&(b.push(y),h.handleClearFilter(y))}),(!l||C!==a.column)&&Object.assign(a,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),g.remote||h.updateData(),b.length?Ht("clear-all-filter",{$table:h,$event:r,cols:b,filterList:[]},r):C&&h.dispatchEvent("clear-filter",{filterList:()=>h.getCheckedFilters()},r),pe()},isRowExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[Ne(h,r)];return a&&!!a.expandLoaded},clearRowExpandLoaded(r){const{fullAllDataRowIdData:l,rowExpandLazyLoadedMaps:a}=s,p=Ot.value,{lazy:g}=p,b=Ne(h,r),C=l[b];return g&&C&&(C.expandLoaded=!1,delete a[b]),i.rowExpandedFlag++,pe()},reloadRowExpand(r){const{rowExpandLazyLoadedMaps:l}=s,a=Ot.value,{lazy:p}=a,g=Ne(h,r);return p&&!l[g]&&h.clearRowExpandLoaded(r).then(()=>Wf(r)),pe()},reloadExpandContent(r){return st("vxe.error.delFunc",["reloadExpandContent","reloadRowExpand"]),h.reloadRowExpand(r)},toggleRowExpand(r){return h.setRowExpand(r,!h.isRowExpandByRow(r))},setAllRowExpand(r){const l=ut.value,{tableFullData:a,tableFullTreeData:p}=s,g=l.children||l.childrenField;let b=[];return e.treeConfig?f.eachTree(p,C=>{b.push(C)},{children:g}):b=a,R.setRowExpand(b,r)},setRowExpand(r,l){const{expandColumn:a}=i;let{fullAllDataRowIdData:p,rowExpandedMaps:g,rowExpandLazyLoadedMaps:b}=s;const{handleGetRowId:C}=br(h),y=Ot.value,{reserve:E,lazy:T,accordion:I,toggleMethod:H}=y,A=[],N=a?h.getColumnIndex(a):-1,W=a?h.getVMColumnIndex(a):-1;if(r){f.isArray(r)||(r=[r]),I&&(g={},s.rowExpandedMaps=g,r=r.slice(r.length-1,r.length));const K=H?r.filter(U=>H({$table:h,expanded:l,column:a,columnIndex:N,$columnIndex:W,row:U,rowIndex:h.getRowIndex(U),$rowIndex:h.getVMRowIndex(U)})):r;l?K.forEach(U=>{const $=C(U);if(!g[$]){const ee=p[$];T&&!ee.expandLoaded&&!b[$]?A.push(Wf(U)):g[$]=U}}):K.forEach(U=>{const $=C(U);g[$]&&delete g[$]}),E&&K.forEach(U=>Gf(U,l))}return i.rowExpandedFlag++,Promise.all(A).then(()=>pe()).then(()=>h.recalculate(!0)).then(()=>(Vr(),Vn(),eh(),h.updateCellAreas()))},isRowExpandByRow(r){const{rowExpandedFlag:l}=i,{rowExpandedMaps:a}=s,p=Ne(h,r);return!!l&&!!a[p]},isExpandByRow(r){return st("vxe.error.delFunc",["isExpandByRow","isRowExpandByRow"]),R.isRowExpandByRow(r)},clearRowExpand(){const{tableFullData:r}=s,l=Ot.value,{reserve:a}=l,p=h.getRowExpandRecords();return s.rowExpandedMaps={},i.rowExpandedFlag++,a&&r.forEach(g=>Gf(g,!1)),pe().then(()=>{if(p.length)return h.recalculate(!0)}).then(()=>(Vr(),Vn(),eh(),h.updateCellAreas()))},clearRowExpandReserve(){return s.rowExpandedReserveRowMap={},pe()},getRowExpandRecords(){const r=[];return f.each(s.rowExpandedMaps,l=>{l&&r.push(l)}),r},setRowGroups(r){const{aggregateConfig:l,rowGroupConfig:a}=e;return l||a?r?(Mi((f.isArray(r)?r:[r]).map(p=>f.isString(p)?p:p.field)),gl(s.tableSynchData,!0)):pe():(je("vxe.error.reqProp",["aggregate-config"]),pe())},clearRowGroups(){const{aggregateConfig:r,rowGroupConfig:l}=e;return r||l?(Mi([]),gl(s.tableSynchData,!0)):(je("vxe.error.reqProp",["aggregate-config"]),pe())},isRowGroupRecord(r){return st("vxe.error.delFunc",["isRowGroupRecord","isAggregateRecord"]),h.isAggregateRecord(r)},isRowGroupExpandByRow(r){return st("vxe.error.delFunc",["isRowGroupExpandByRow","isAggregateExpandByRow"]),h.isAggregateExpandByRow(r)},isAggregateRecord(r){const{isRowGroupStatus:l}=i;return l&&r.isAggregate},isAggregateExpandByRow(r){const{rowGroupExpandedFlag:l}=i,{rowGroupExpandedMaps:a}=s;return!!l&&!!a[Ne(h,r)]},setRowGroupExpand(r,l){return r?(f.isArray(r)||(r=[r]),LC(r,l)):pe()},setAllRowGroupExpand(r){const{tableFullGroupData:l}=s,a=be.value,{mapChildrenField:p}=a,g={};return r&&p&&f.eachTree(l,b=>{b[p]&&b[p].length&&(g[Ne(h,b)]=b)},{children:p}),s.rowGroupExpandedMaps=g,io(),i.rowGroupExpandedFlag++,h.handleTableData()},clearRowGroupExpand(){return s.rowGroupExpandedMaps={},io(),i.rowGroupExpandedFlag++,h.handleTableData()},getTreeExpandRecords(){const r=[];return f.each(s.treeExpandedMaps,l=>{l&&r.push(l)}),r},isTreeExpandLoaded(r){const{fullAllDataRowIdData:l}=s,a=l[Ne(h,r)];return a&&!!a.treeLoaded},clearTreeExpandLoaded(r){const{fullAllDataRowIdData:l,treeExpandedMaps:a}=s,p=ut.value,{transform:g}=p;return r?(f.isArray(r)||(r=[r]),r.forEach(b=>{const C=Ne(h,b),y=l[C];y&&(y.treeLoaded=!1,a[C]&&delete a[C])})):f.each(l,b=>{b.treeLoaded=!1}),s.treeExpandedMaps={},g&&(io(),h.handleTableData()),i.treeExpandedFlag++,pe()},reloadTreeExpand(r){const{treeExpandLazyLoadedMaps:l}=s,a=ut.value,p=a.hasChild||a.hasChildField,{transform:g,lazy:b}=a,C=Ne(h,r);return b&&r[p]&&!l[C]?h.clearTreeExpandLoaded(r).then(()=>Vf(r)).then(()=>{g&&(io(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>h.recalculate()):pe()},reloadTreeChilds(r){return st("vxe.error.delFunc",["reloadTreeChilds","reloadTreeExpand"]),h.reloadTreeExpand(r)},toggleTreeExpand(r){return h.setTreeExpand(r,!h.isTreeExpandByRow(r))},setAllTreeExpand(r){const{tableFullData:l}=s,a=ut.value,{transform:p,lazy:g}=a,b=a.children||a.childrenField,C=[];return f.eachTree(l,y=>{const E=y[b];(g||E&&E.length)&&C.push(y)},{children:b}),h.setTreeExpand(C,r).then(()=>{if(p)return io(),i.treeExpandedFlag++,h.recalculate()})},setTreeExpand(r,l){const a=ut.value,{transform:p}=a;return r&&(f.isArray(r)||(r=[r]),r.length)?p?kC(r,l):Kf(r,l):pe()},isTreeExpandByRow(r){const{treeExpandedFlag:l}=i,{treeExpandedMaps:a}=s;return!!l&&!!a[Ne(h,r)]},clearTreeExpand(){const{tableFullTreeData:r}=s,l=ut.value,a=l.children||l.childrenField,{transform:p,reserve:g}=l,b=h.getTreeExpandRecords();return s.treeExpandedMaps={},g&&f.eachTree(r,C=>zf(C,!1),{children:a}),h.handleTableData().then(()=>{p&&(io(),h.handleTableData()),i.treeExpandedFlag++}).then(()=>{if(b.length)return h.recalculate()})},clearTreeExpandReserve(){return s.treeExpandedReserveRowMap={},pe()},getScroll(){const{scrollXLoad:r,scrollYLoad:l}=i,{elemStore:a}=s,p=rt(a["main-body-scroll"]);return{virtualX:r,virtualY:l,scrollTop:p?p.scrollTop:0,scrollLeft:p?p.scrollLeft:0}},scrollTo(r,l){const{elemStore:a}=s,p=rt(a["main-header-scroll"]),g=rt(a["main-body-scroll"]),b=rt(a["main-footer-scroll"]),C=rt(a["left-body-scroll"]),y=rt(a["right-body-scroll"]),E=ie.value,T=he.value;return s.intoRunScroll=!0,f.isNumber(r)&&(Ut(E,r),Ut(g,r),Ut(p,r),Ut(b,r),$n()),f.isNumber(l)&&(Wt(T,l),Wt(g,l),Wt(C,l),Wt(y,l),Zl()),i.scrollXLoad||i.scrollYLoad?new Promise(I=>{setTimeout(()=>{pe(()=>{s.intoRunScroll=!1,I()})},30)}):pe().then(()=>{s.intoRunScroll=!1})},scrollToRow(r,l){const{isAllOverflow:a,scrollYLoad:p,scrollXLoad:g}=i,b=[];return r&&(e.treeConfig?b.push(h.scrollToTreeRow(r)):b.push(km(h,r))),l&&b.push($C(l,r)),Promise.all(b).then(()=>{if(r)return!a&&(p||g)&&($r(),Nn()),pe()})},scrollToColumn(r){const{fullColumnIdData:l}=s,a=sr(h,r);return a&&l[a.id]?Am(h,a):pe()},clearScroll(){const{elemStore:r,scrollXStore:l,scrollYStore:a}=s,p=rt(r["main-header-scroll"]),g=rt(r["main-body-scroll"]),b=rt(r["main-footer-scroll"]),C=rt(r["left-body-scroll"]),y=rt(r["right-body-scroll"]),E=ie.value,T=he.value;return s.intoRunScroll=!0,Ut(E,0),Ut(g,0),Ut(p,0),Ut(b,0),Wt(T,0),Wt(g,0),Wt(C,0),Wt(y,0),l.startIndex=0,l.visibleStartIndex=0,l.endIndex=l.visibleSize,l.visibleEndIndex=l.visibleSize,a.startIndex=0,a.visibleStartIndex=0,a.endIndex=a.visibleSize,a.visibleEndIndex=a.visibleSize,pe().then(()=>{s.intoRunScroll=!1})},updateFooter(){const{showFooter:r,footerData:l,footerMethod:a}=e,{visibleColumn:p,afterFullData:g}=s;let b=[];return r&&l&&l.length?b=l.slice(0):r&&a&&(b=p.length?a({columns:p,data:g,$table:h,$grid:Le}):[]),i.footerTableData=b,h.handleUpdateFooterMerge(),pe()},updateStatus(r,l){return pe().then(()=>{const{editRules:a}=e;if(r&&a)return h.handleCellRuleUpdateStatus("change",r,l)})},setMergeCells(r){return e.spanMethod&&je("vxe.error.errConflicts",["merge-cells","span-method"]),Hn(r),h.handleUpdateBodyMerge(),pe().then(()=>(h.updateCellAreas(),Rr()))},removeMergeCells(r){e.spanMethod&&je("vxe.error.errConflicts",["merge-cells","span-method"]);const l=wo(r);return h.handleUpdateBodyMerge(),pe().then(()=>(h.updateCellAreas(),Rr(),l))},getMergeCells(){return s.mergeBodyList.slice(0)},clearMergeCells(){return s.mergeBodyList=[],s.mergeBodyMaps={},s.mergeBodyCellMaps={},i.mergeBodyFlag++,pe().then(()=>Rr())},setMergeFooterItems(r){return e.footerSpanMethod&&je("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Ao(r),h.handleUpdateFooterMerge(),pe().then(()=>(R.updateCellAreas(),Rr()))},removeMergeFooterItems(r){e.footerSpanMethod&&je("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const l=dn(r);return h.handleUpdateFooterMerge(),pe().then(()=>(R.updateCellAreas(),Rr(),l))},getMergeFooterItems(){return s.mergeFooterList.slice(0)},clearMergeFooterItems(){return s.mergeFooterList=[],s.mergeFooterMaps={},s.mergeFooterCellMaps={},i.mergeFootFlag++,pe().then(()=>Rr())},updateCellAreas(){const{mouseConfig:r}=e,l=ct.value;return r&&l.area&&h.handleRecalculateCellAreaEvent?h.handleRecalculateCellAreaEvent():pe()},getCustomStoreData(){const{id:r}=e,l=Br.value,{collectColumn:a}=s,{storage:p,checkMethod:g,storeOptions:b}=l,C=p===!0,y=C?{}:Object.assign({},p||{},b),E=Hr(y.resizable,C),T=Hr(y.visible,C),I=Hr(y.fixed,C),H=Hr(y.sort,C),A={},N={},W={},K={},U={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!r)return je("vxe.error.reqProp",["id"]),U;let $=0,ee=0,Y=0,B=0;return f.eachTree(a,(Se,ye,De,Ke,We)=>{const He=Se.getKey();if(!He){je("vxe.error.reqProp",[`${Se.getTitle()||Se.type||""} -> column.field=?`]);return}We||(H&&(ee=1,N[He]=Se.renderSortNumber),I&&Se.fixed!==Se.defaultFixed&&(Y=1,K[He]=Se.fixed)),E&&Se.resizeWidth&&($=1,A[He]=Se.renderWidth),T&&(!g||g({$table:h,column:Se}))&&(!Se.visible&&Se.defaultVisible?(B=1,W[He]=!1):Se.visible&&!Se.defaultVisible&&(B=1,W[He]=!0))}),$&&(U.resizableData=A),ee&&(U.sortData=N),Y&&(U.fixedData=K),B&&(U.visibleData=W),U},focus(){return s.isActivated=!0,pe()},blur(){return s.isActivated=!1,pe()},connect(r){return r?(Ue=r,Ue.syncUpdate({collectColumn:s.collectColumn,$table:h})):je("vxe.error.barUnableLink"),pe()}};const VC=r=>{const{editStore:l,ctxMenuStore:a,filterStore:p,customStore:g}=i,{mouseConfig:b,editRules:C}=e,y=S.value,E=Vt.value,T=yt.value,I=Lt.value,{actived:H}=l,A=P.value,N=G.value,W=ae.value,K=V.value;if(N&&(Bt(r,y,"vxe-cell--filter").flag||Bt(r,N.getRefMaps().refElem.value).flag||Bt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearFilter",p.args,R.closeFilter)),W&&(g.btnEl===r.target||Bt(r,document.body,"vxe-toolbar-custom-target").flag||Bt(r,W.$el).flag||Bt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearCustom",{},()=>{h.closeCustom&&h.closeCustom()})),H.row){if(E.autoClear!==!1){const $=H.args.cell;(!$||!Bt(r,$).flag)&&(A&&Bt(r,A.$el).flag||(!s._lastCallTime||s._lastCallTime+50<Date.now())&&(Bt(r,document.body,"vxe-table--ignore-clear").flag||O.preventEvent(r,"event.clearEdit",H.args,()=>{let ee;if(E.mode==="row"){const Y=Bt(r,y,"vxe-body--row"),B=Y.flag?R.getRowNode(Y.targetElem):null;ee=B?!h.eqRow(B.item,H.args.row):!1}else ee=!Bt(r,y,"col--edit").flag;if(ee||(ee=Bt(r,y,"vxe-header--row").flag),ee||(ee=Bt(r,y,"vxe-footer--row").flag),!ee&&e.height&&!i.overflowY){const Y=r.target;on(Y,"vxe-table--body-wrapper")&&(ee=r.offsetY<Y.clientHeight)}(ee||!Bt(r,y).flag)&&setTimeout(()=>{h.handleClearEdit(r).then(()=>{!s.isActivated&&C&&T.autoClear&&(i.validErrorMaps={})})})})))}}else if(b&&!Bt(r,y).flag&&!(Le&&Bt(r,Le.getRefMaps().refElem.value).flag)&&!(K&&Bt(r,K.getRefMaps().refElem.value).flag)&&!(Ue&&Bt(r,Ue.getRefMaps().refElem.value).flag)&&(h.clearSelected&&h.clearSelected(),I.autoClear&&h.getCellAreas)){const $=h.getCellAreas();$&&$.length&&!Bt(r,document.body,"vxe-table--ignore-areas-clear").flag&&O.preventEvent(r,"event.clearAreas",{},()=>{h.clearCellAreas(),h.clearCopyCellArea(),Ht("clear-cell-area-selection",{cellAreas:$},r)})}h.closeMenu&&a.visible&&K&&!Bt(r,K.getRefMaps().refElem.value).flag&&h.closeMenu();const U=Bt(r,Le?Le.getRefMaps().refElem.value:y).flag;!U&&C&&T.autoClear&&(i.validErrorMaps={}),s.isActivated=U},zC=()=>{R.closeFilter(),h.closeMenu&&h.closeMenu()},WC=()=>{R.closeTooltip(),h.closeMenu&&h.closeMenu()},GC=r=>{const{mouseConfig:l,keyboardConfig:a}=e,{filterStore:p,ctxMenuStore:g,editStore:b}=i,C=ct.value,y=St.value,{actived:E}=b;Kt.hasKey(r,co.ESCAPE)&&O.preventEvent(r,"event.keydown",null,()=>{if(Ht("keydown-start",{},r),a&&l&&C.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if((E.row||p.visible||g.visible)&&(r.stopPropagation(),h.closeMenu&&h.closeMenu(),R.closeFilter(),a&&y.isEsc&&E.row)){const I=E.args;h.handleClearEdit(r),C.selected&&pe(()=>h.handleSelected(I,r))}Ht("keydown",{},r),Ht("keydown-end",{},r)})},jC=r=>{s.isActivated&&h.preventEvent(r,"event.keydown",null,()=>{const{mouseConfig:l,keyboardConfig:a,treeConfig:p,editConfig:g,highlightCurrentRow:b,highlightCurrentColumn:C}=e,{ctxMenuStore:y,editStore:E,currentRow:T}=i,{afterFullData:I}=s,H=yr.value,A=lr.value,N=St.value,W=ct.value,K=Vt.value,U=ut.value,$=Er.value,ee=se.value,Y=$e.value,{selected:B,actived:Se}=E,ye=U.children||U.childrenField,De=r.keyCode,Ke=Kt.hasKey(r,co.ESCAPE),We=Kt.hasKey(r,co.BACKSPACE),He=Kt.hasKey(r,co.TAB),Je=Kt.hasKey(r,co.ENTER),Ge=Kt.hasKey(r,co.SPACEBAR),at=Kt.hasKey(r,co.ARROW_LEFT),mt=Kt.hasKey(r,co.ARROW_UP),dt=Kt.hasKey(r,co.ARROW_RIGHT),pt=Kt.hasKey(r,co.ARROW_DOWN),Dt=Kt.hasKey(r,co.DELETE),ar=Kt.hasKey(r,co.F2),Jt=Kt.hasKey(r,co.CONTEXT_MENU),dr=pi(r),_t=r.shiftKey,Sr=r.altKey,fr=at||mt||dt||pt,Fr=H&&y.visible&&(Je||Ge||fr),Yt=Et(g)&&Se.column&&Se.row,hr=K.beforeEditMethod||K.activeMethod;if(Fr)r.preventDefault(),y.showChild&&Fl(y.selected)?h.moveCtxMenu(r,y,"selectChild",at,!1,y.selected.children):h.moveCtxMenu(r,y,"selected",dt,!0,$);else if(a&&l&&W.area&&h.handleKeyboardCellAreaEvent)h.handleKeyboardCellAreaEvent(r);else if(Ke){if(h.closeMenu&&h.closeMenu(),h.closeFilter(),a&&N.isEsc&&Se.row){const Nt=Se.args;h.handleClearEdit(r),W.selected&&pe(()=>h.handleSelected(Nt,r))}}else if(Ge&&a&&N.isChecked&&B.row&&B.column&&(B.column.type==="checkbox"||B.column.type==="radio"))r.preventDefault(),B.column.type==="checkbox"?O.handleToggleCheckRowEvent(r,B.args):O.triggerRadioRowEvent(r,B.args);else if(ar&&Et(g))Yt||B.row&&B.column&&(r.preventDefault(),h.handleEdit(B.args,r));else if(Jt)s._keyCtx=B.row&&B.column&&A.length,clearTimeout(s.keyCtxTimeout),s.keyCtxTimeout=setTimeout(()=>{s._keyCtx=!1},1e3);else if(Je&&!Sr&&a&&N.isEnter&&(B.row||Se.row||p&&(ee.isCurrent||b)&&T)){const{isLastEnterAppendRow:Nt,beforeEnterMethod:qt,enterMethod:zr}=N;if(dr){if(Se.row){const Dr=Se.args;h.handleClearEdit(r),W.selected&&pe(()=>{h.handleSelected(Dr,r)})}}else if(B.row||Se.row){const Dr=B.row?B.args:Se.args;if(_t)N.enterToTab?h.moveTabSelected(Dr,_t,r):h.moveEnterSelected(Dr,at,!0,dt,!1,r);else if(N.enterToTab)h.moveTabSelected(Dr,_t,r);else{const Wr=B.row||Se.row,Gr=B.column||Se.column,Jo=h.getVTRowIndex(Wr),so={row:Wr,rowIndex:h.getRowIndex(Wr),$rowIndex:h.getVMRowIndex(Wr),_rowIndex:Jo,column:Gr,columnIndex:h.getColumnIndex(Gr),$columnIndex:h.getVMColumnIndex(Gr),_columnIndex:h.getVTColumnIndex(Gr),$table:h};if(!qt||qt(so)!==!1){if(Nt&&Jo>=I.length-1){h.insertAt({},-1).then(({row:Hi})=>{h.scrollToRow(Hi,Gr),h.handleSelected(Object.assign(Object.assign({},Dr),{row:Hi}),r)}),h.dispatchEvent("enter-append-row",so,r);return}h.moveEnterSelected(Dr,at,!1,dt,!0,r),zr&&zr(so)}}}else if(p&&(ee.isCurrent||b)&&T){const Dr=T[ye];if(Dr&&Dr.length){r.preventDefault();const Wr=Dr[0],Gr={$table:h,row:Wr,rowIndex:h.getRowIndex(Wr),$rowIndex:h.getVMRowIndex(Wr)};h.setTreeExpand(T,!0).then(()=>h.scrollToRow(Wr)).then(()=>h.triggerCurrentRowEvent(r,Gr))}}}else if(fr&&a&&N.isArrow)Yt||(W.selected&&B.row&&B.column?h.moveArrowSelected(B.args,at,mt,dt,pt,r):((mt||pt)&&(ee.isCurrent||b)&&h.moveCurrentRow(mt,pt,r),(at||dt)&&(Y.isCurrent||C)&&h.moveCurrentColumn(at,dt,r)));else if(He&&a&&N.isTab)B.row||B.column?h.moveTabSelected(B.args,_t,r):(Se.row||Se.column)&&h.moveTabSelected(Se.args,_t,r);else if(a&&N.isDel&&Dt&&Et(g)&&(B.row||B.column)){if(!Yt){const{delMethod:Nt}=N,qt={row:B.row,rowIndex:R.getRowIndex(B.row),column:B.column,columnIndex:R.getColumnIndex(B.column),$table:h,$grid:Le};(!hr||hr(qt))&&(Nt?Nt(qt):Mo(B.row,B.column,null),R.updateFooter(),Ht("cell-delete-value",qt,r))}}else if(We&&a&&N.isBack&&Et(g)&&(B.row||B.column)){if(!Yt){const{backMethod:Nt}=N;if(N.isDel&&Et(g)&&(B.row||B.column)){const qt={row:B.row,rowIndex:h.getRowIndex(B.row),column:B.column,columnIndex:h.getColumnIndex(B.column),$table:h,$grid:Le};(!hr||hr(qt))&&(Nt?Nt(qt):(Mo(B.row,B.column,null),h.handleEdit(B.args,r)),Ht("cell-backspace-value",qt,r))}}}else if(We&&a&&p&&N.isBack&&(ee.isCurrent||b)&&T){const{parent:Nt}=f.findTree(s.afterTreeFullData,qt=>qt===T,{children:ye});if(Nt){r.preventDefault();const qt={row:Nt,rowIndex:h.getRowIndex(Nt),$rowIndex:h.getVMRowIndex(Nt),$table:h,$grid:Le};h.setTreeExpand(Nt,!1).then(()=>h.scrollToRow(Nt)).then(()=>h.triggerCurrentRowEvent(r,qt))}}else if(a&&Et(g)&&N.isEdit&&!dr&&(Ge||De>=48&&De<=57||De>=65&&De<=90||De>=96&&De<=111||De>=186&&De<=192||De>=219&&De<=222)){const{editMode:Nt,editMethod:qt}=N;if(B.column&&B.row&&Et(B.column.editRender)){const zr=K.beforeEditMethod||K.activeMethod,Dr={row:B.row,rowIndex:h.getRowIndex(B.row),column:B.column,columnIndex:h.getColumnIndex(B.column),$table:h,$grid:Le};(!zr||zr(Object.assign(Object.assign({},B.args),{$table:h,$grid:Le})))&&(qt?qt(Dr):(Nt!=="insert"&&Mo(B.row,B.column,null),h.handleEdit(B.args,r)))}}Ht("keydown",{},r)})},UC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=ct.value,y=St.value,{actived:E}=p;b&&!g.visible&&(E.row||E.column||l&&y.isClip&&a&&C.area&&h.handlePasteCellAreaEvent&&h.handlePasteCellAreaEvent(r),Ht("paste",{},r))},YC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=ct.value,y=St.value,{actived:E}=p;b&&!g.visible&&(E.row||E.column||l&&y.isClip&&a&&C.area&&h.handleCopyCellAreaEvent&&h.handleCopyCellAreaEvent(r),Ht("copy",{},r))},XC=r=>{const{keyboardConfig:l,mouseConfig:a}=e,{editStore:p,filterStore:g}=i,{isActivated:b}=s,C=ct.value,y=St.value,{actived:E}=p;b&&!g.visible&&(E.row||E.column||l&&y.isClip&&a&&C.area&&h.handleCutCellAreaEvent&&h.handleCutCellAreaEvent(r),Ht("cut",{},r))},th=()=>{h.closeMenu&&h.closeMenu();const r=S.value;if(!r||!r.clientWidth)return pe();R.recalculate(!0),R.updateCellAreas()},ki=r=>{const l=_.value;clearTimeout(s.tooltipTimeout),r?R.closeTooltip():l&&l.setActived&&l.setActived(!0)},rh=()=>{const{dragRow:r,dragCol:l}=i;(r||l)&&(Ai(),Ms(),vl(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1,i.isDragRowMove=!1)},Ms=()=>{const r=S.value;if(r){const l="row--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,eo(a,l)})}},KC=r=>{const l=S.value;if(l){const a="row--drag-origin",p=Ne(h,r);f.arrayEach(l.querySelectorAll(`[rowid="${p}"]`),g=>{Do(g,a)})}},ZC=r=>{const{dragConfig:l}=e,{dragRow:a}=i,p=et.value,{tooltipMethod:g}=p,b=g||(l?l.rowTooltipMethod:null);let C="";b?C=`${b({$table:h,row:a})||""}`:C=qo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=C},JC=r=>{const l=S.value;if(l){const a=[];f.eachTree([r],g=>{a.push(`[colid="${g.id}"]`)});const p="col--drag-origin";f.arrayEach(l.querySelectorAll(a.join(",")),g=>{Do(g,p)})}},Ai=()=>{const r=S.value;if(r){const l="col--drag-origin";f.arrayEach(r.querySelectorAll(`.${l}`),a=>{a.draggable=!1,eo(a,l)})}},QC=r=>{const{dragCol:l}=i,a=tt.value,{tooltipMethod:p}=a;let g="";p?g=`${p({$table:h,column:l})||""}`:g=qo("vxe.table.dragTip",[r.textContent||""]),i.dragTipText=g},Li=(r,l,a,p,g)=>{const b=S.value;if(!b)return;const{overflowX:C,scrollbarWidth:y,overflowY:E,scrollbarHeight:T}=i,{prevDragToChild:I}=s,H=b.getBoundingClientRect(),A=E?y:0,N=C?T:0,W=b.clientWidth,K=b.clientHeight;if(l){const $=ue.value;if($)if(p){const ee=ze.value,Y=l.getBoundingClientRect();let B=l.clientHeight;const Se=Math.max(1,Y.y-H.y);Se+B>K-N&&(B=K-Se-N),$.style.display="block",$.style.left=`${ee?A:0}px`,$.style.top=`${Se}px`,$.style.height=`${B}px`,$.style.width=`${W-A}px`,$.setAttribute("drag-pos",g),$.setAttribute("drag-to-child",I?"y":"n")}else $.style.display=""}else if(a){const $=X.value;if($)if(p){const ee=ft.value,Y=Ce.value,B=Y?Y.clientWidth:0,Se=ve.value,ye=Se?Se.clientWidth:0,De=a.getBoundingClientRect();let Ke=a.clientWidth;const We=Math.max(0,De.y-H.y),He=B;let Je=De.x-H.x;Je<He&&(Ke-=He-Je,Je=He);const Ge=W-ye-(ye?0:A);Je+Ke>Ge&&(Ke=Ge-Je),$.style.display="block",$.style.top=`${We}px`,$.style.left=`${Je}px`,$.style.width=`${Ke}px`,I?$.style.height=`${De.height}px`:$.style.height=`${K-We-(ee?0:N)}px`,$.setAttribute("drag-pos",g),$.setAttribute("drag-to-child",I?"y":"n")}else $.style.display=""}const U=re.value;U&&(U.style.display="block",U.style.top=`${Math.min(b.clientHeight-b.scrollTop-U.clientHeight,r.clientY-H.y)}px`,U.style.left=`${Math.min(b.clientWidth-b.scrollLeft-U.clientWidth-16,r.clientX-H.x)}px`,U.setAttribute("drag-status",p?I?"sub":"normal":"disabled"))},vl=()=>{const r=re.value,l=ue.value,a=X.value;r&&(r.style.display=""),l&&(l.style.display=""),a&&(a.style.display="")},Ts=(r,l,a,p,g)=>{const b=a||l;if(!b)return pe();g.cell=l;const{tooltipStore:C}=i,y=$t.value,{column:E,row:T}=g,{showAll:I,contentMethod:H}=y,A=H?H(g):null,N=H&&!f.eqNull(A),W=N?A:f.toString(E.type==="html"?b.innerText:b.textContent).trim(),K=b.scrollWidth>b.clientWidth;return W&&(I||N||K)&&(Object.assign(C,{row:T,column:E,visible:!0,currOpts:{}}),pe(()=>{const U=_.value;U&&U.open&&U.open(K?b:p,Mr(W))})),pe()},Jl=(r,l)=>{if(r){if(Le)return Le.callSlot(r,l);if(f.isFunction(r))return qr(r(l))}return[]};O={getSetupOptions(){return Ft()},updateAfterDataIndex:lo,callSlot:Jl,getParentElem(){const r=S.value;if(Le){const l=Le.getRefMaps().refElem.value;return l?l.parentNode:null}return r?r.parentNode:null},getParentHeight(){const{height:r}=e,l=S.value;if(l){const a=l.parentNode,p=r==="100%"||r==="auto"?pf(a):0;let g=0;return a&&(Le&&on(a,"vxe-grid--table-wrapper")?g=Le.getParentHeight():g=a.clientHeight),Math.floor(g-p)}return 0},getExcludeHeight(){return Le?Le.getExcludeHeight():0},defineField(r){const{treeConfig:l}=e,a=Ot.value,p=ut.value,g=Mt.value,b=ht.value,C=p.children||p.childrenField,y=Un(h);return f.isArray(r)||(r=[r]),r.map(E=>(s.tableFullColumn.forEach(I=>{const{field:H,editRender:A}=I;if(H&&!f.has(E,H)&&!E[H]){let N=null;if(A){const{defaultValue:W}=A;f.isFunction(W)?N=W({column:I}):f.isUndefined(W)||(N=W)}f.set(E,H,N)}}),[g.labelField,b.checkField,b.labelField,a.labelField].forEach(I=>{I&&rn(f.get(E,I))&&f.set(E,I,null)}),l&&p.lazy&&f.isUndefined(E[C])&&(E[C]=null),rn(f.get(E,y))&&f.set(E,y,gi()),E))},handleTableData(r){const{scrollYLoad:l}=i,{scrollYStore:a,fullDataRowIdData:p}=s;let g=s.afterFullData;r&&(gn(),g=io());const b=l?g.slice(a.startIndex,a.endIndex):g.slice(0),C={};return b.forEach((y,E)=>{const T=Ne(h,y),I=p[T];I&&(I.$index=E),C[T]=y}),i.tableData=b,s.visibleDataRowIdData=C,pe()},cacheRowMap(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{fullAllDataRowIdData:p,tableFullData:g,tableFullTreeData:b,tableFullGroupData:C,treeExpandedMaps:y}=s,E=r?{}:Object.assign({},p),T={},{handleUpdateRowId:I}=Om(h),H=(A,N,W,K,U,$,ee,Y)=>{let B=E[$];B||(B={row:A,rowid:$,seq:Y,index:-1,_index:-1,$index:-1,treeIndex:N,items:W,parent:U,level:ee,height:0,resizeHeight:0,oTop:0,expandHeight:0},T[$]=B,E[$]=B),B.treeLoaded=!1,B.expandLoaded=!1,B.row=A,B.items=W,B.parent=U,B.level=ee,B.index=K,B.treeIndex=N,T[$]=B,E[$]=B};if(l){const A=ut.value,{lazy:N}=A,W=A.children||A.childrenField,K=A.hasChild||A.hasChildField;f.eachTree(b,(U,$,ee,Y,B,Se)=>{const ye=I(U);l&&N&&(U[K]&&U[W]===void 0&&(U[W]=null),y[ye]&&(!U[W]||!U[W].length)&&delete y[ye]),H(U,$,ee,B?-1:$,B,ye,Se.length-1,Tm(Y))},{children:W})}else if(a){const A=be.value,{mapChildrenField:N}=A;f.eachTree(C,(W,K,U,$,ee,Y)=>{const B=I(W);H(W,K,U,ee?-1:K,ee,B,Y.length-1,Tm($))},{children:N})}else g.forEach((A,N,W)=>{H(A,N,W,N,null,I(A),0,N+1)});s.fullDataRowIdData=T,s.fullAllDataRowIdData=E,i.treeExpandedFlag++},cacheSourceMap(r){const{treeConfig:l}=e,a=ut.value,p=f.clone(r,!0),{handleUpdateRowId:g}=Om(h),b={},C=y=>{const E=g(y);b[E]=y};if(l){const y=a.children||a.childrenField;f.eachTree(p,C,{children:a.transform?a.mapChildrenField:y})}else p.forEach(C);s.sourceDataRowIdData=b,s.tableSourceData=p},analyColumnWidth(){const{tableFullColumn:r}=s,l=$e.value,{width:a,minWidth:p}=l,g=[],b=[],C=[],y=[],E=[],T=[],I=[],H=[];r.forEach(A=>{a&&!A.width&&(A.width=a),p&&!A.minWidth&&(A.minWidth=p),A.visible&&(A.resizeWidth?g.push(A):A.width==="auto"?I.push(A):hf(A.width)?b.push(A):Ml(A.width)?E.push(A):hf(A.minWidth)?C.push(A):A.minWidth==="auto"?y.push(A):Ml(A.minWidth)?T.push(A):H.push(A))}),Object.assign(i.columnStore,{resizeList:g,pxList:b,pxMinList:C,autoMinList:y,scaleList:E,scaleMinList:T,autoList:I,remainList:H})},handleColResizeMousedownEvent(r,l,a){r.stopPropagation(),r.preventDefault();const{column:p}=a,{columnStore:g,overflowX:b,scrollbarHeight:C}=i,{elemStore:y,visibleColumn:E}=s,{leftList:T,rightList:I}=g,H=bt.value,A=b?C:0,N=S.value,W=Ce.value,K=ve.value,U=fe.value;if(!U)return;const $=l==="left",ee=l==="right",Y=U.firstElementChild,B=ft.value,{clientX:Se}=r,ye=r.target;let De=p;p.children&&p.children.length&&f.eachTree(p.children,Yt=>{De=Yt});const Ke=ye.parentNode,We=Object.assign(a,{cell:Ke});let He=0;if(!rt(y["main-body-scroll"]))return;const Ge=N.getBoundingClientRect(),at=K?K.getBoundingClientRect():null,mt=Ke.getBoundingClientRect(),dt=ye.getBoundingClientRect(),pt=ye.clientWidth,Dt=Math.floor(pt/2),ar=dt.x-Ge.x+Dt,Jt=Fm(We)-Dt,dr=ee?0:mt.x-Ge.x+pt+Jt,_t=mt.x-Ge.x+Ke.clientWidth-Jt;let Sr=0,fr=0;if($||ee){let Yt=!1;const hr=$?T:I;for(let Nt=0;Nt<hr.length;Nt++){const qt=hr[Nt];Yt?Sr+=qt.renderWidth:(Yt=qt.id===De.id,Yt||(fr+=qt.renderWidth))}}const Fr=Yt=>{Yt.stopPropagation(),Yt.preventDefault();const hr=N.clientHeight,Nt=Yt.clientX-Se;let qt=ar+Nt;$?at&&(qt=Math.min(qt,at.x-Ge.x-Sr-Jt)):ee&&(W&&(qt=Math.max(qt,W.clientWidth+fr+Jt)),qt=Math.min(qt,_t)),He=Math.max(qt,dr);const zr=Math.max(1,He);if(U.style.left=`${zr}px`,U.style.top=`${B?A:0}px`,U.style.height=`${B?hr-A:hr}px`,H.showDragTip&&Y){Y.textContent=qo("vxe.table.resizeColTip",[Math.floor(De.renderWidth+(ee?ar-He:He-ar))]);const Dr=N.clientWidth,Wr=U.clientWidth,Gr=Y.clientWidth,Jo=Y.clientHeight;let so=-Gr;zr<Gr+Wr?so=0:zr>Dr&&(so+=Dr-zr),Y.style.left=`${so}px`,Y.style.top=`${Math.min(hr-Jo,Math.max(0,Yt.clientY-Ge.y-Jo/2))}px`}i.isDragResize=!0};i.isDragResize=!0,Do(N,"col-drag--resize"),U.style.display="block",document.onmousemove=Fr,document.onmouseup=function(Yt){document.onmousemove=null,document.onmouseup=null,U.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50);const hr=De.renderWidth+(ee?ar-He:He-ar),Nt=Object.assign(Object.assign({},a),{resizeWidth:hr,resizeColumn:De});H.dragMode==="fixed"&&E.forEach(qt=>{qt.id!==De.id&&(qt.resizeWidth||(qt.resizeWidth=qt.renderWidth))}),h.handleColResizeCellAreaEvent?h.handleColResizeCellAreaEvent(Yt,Nt):(De.resizeWidth=hr,Jf(Yt,Nt)),eo(N,"col-drag--resize")},Fr(r),h.closeMenu&&h.closeMenu()},handleColResizeDblclickEvent(r,l){const a=bt.value,{isDblclickAutoWidth:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{fullColumnIdData:b}=s,{column:C}=l;let y=C;C.children&&C.children.length&&f.eachTree(C.children,U=>{y=U});const E=y.id,T=b[E],H=r.target.parentNode,A=Object.assign(l,{cell:H}),N=Fm(A);g.setAttribute("data-calc-col","Y");let W=Eo(y,g);g.removeAttribute("data-calc-col"),T&&(W=Math.max(W,T.width)),W=Math.max(N,W);const K=Object.assign(Object.assign({},l),{resizeWidth:W,resizeColumn:y});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleColResizeDblclickCellAreaEvent?h.handleColResizeDblclickCellAreaEvent(r,K):(y.resizeWidth=W,Jf(r,K))}},handleRowResizeMousedownEvent(r,l){r.stopPropagation(),r.preventDefault();const{row:a}=l,{overflowX:p,scrollbarWidth:g,overflowY:b,scrollbarHeight:C}=i,{elemStore:y,fullAllDataRowIdData:E}=s,T=b?g:0,I=p?C:0,H=ze.value,A=bt.value,N=se.value,W=Rt.value,K=S.value,U=Me.value;if(!U)return;const{clientY:$}=r,ee=U.firstElementChild,B=r.currentTarget.parentNode,Se=B.parentNode;if(!rt(y["main-body-scroll"]))return;const De=Ne(h,a),Ke=E[De];if(!Ke)return;const We=Be.value,He=Ke.resizeHeight||W.height||N.height||Ke.height||We,Je=K.getBoundingClientRect(),Ge=Se.getBoundingClientRect(),at=$-Ge.y-Se.clientHeight;let mt=He;const dt=B.querySelector(".vxe-cell");let pt=0;if(dt){const Jt=getComputedStyle(dt);pt=Math.max(1,Math.ceil(f.toNumber(Jt.paddingTop)+f.toNumber(Jt.paddingBottom)))}const Dt=Ge.y-Je.y+pt,ar=Jt=>{Jt.stopPropagation(),Jt.preventDefault();const dr=K.clientWidth-T,_t=K.clientHeight-I;let Sr=Jt.clientY-Je.y-at;if(Sr<Dt?Sr=Dt:mt=Math.max(pt,He+Jt.clientY-$),U.style.left=`${H?T:0}px`,U.style.top=`${Sr}px`,U.style.width=`${dr}px`,A.showDragTip&&ee){ee.textContent=qo("vxe.table.resizeRowTip",[mt]);const fr=ee.clientWidth,Fr=ee.clientHeight;let Yt=Math.max(2,Jt.clientX-Je.x),hr=0;Yt+fr>=dr-2&&(Yt=dr-fr-2),Sr+Fr>=_t&&(hr=_t-(Sr+Fr)),ee.style.left=`${Yt}px`,ee.style.top=`${hr}px`}i.isDragResize=!0};i.isDragResize=!0,Do(K,"row-drag--resize"),U.style.display="block",document.onmousemove=ar,document.onmouseup=function(Jt){if(document.onmousemove=null,document.onmouseup=null,U.style.display="none",s._lastResizeTime=Date.now(),setTimeout(()=>{i.isDragResize=!1},50),mt!==He){const dr=Object.assign(Object.assign({},l),{resizeHeight:mt,resizeRow:a});s.isResizeCellHeight=!0,h.handleRowResizeCellAreaEvent?h.handleRowResizeCellAreaEvent(Jt,dr):(Ke.resizeHeight=mt,Qf(Jt,dr),Vr())}eo(K,"row-drag--resize")},ar(r)},handleRowResizeDblclickEvent(r,l){const a=bt.value,{isDblclickAutoHeight:p}=a,g=S.value;if(p&&g){r.stopPropagation(),r.preventDefault();const{editStore:b}=i,{fullAllDataRowIdData:C}=s,{actived:y}=b,{row:E}=l,T=Ne(h,E),I=C[T];if(!I)return;const H=()=>{g.setAttribute("data-calc-row","Y");const A=ur(I,g);g.removeAttribute("data-calc-row");const N=Object.assign(Object.assign({},l),{resizeHeight:A,resizeRow:E});i.isDragResize=!1,s._lastResizeTime=Date.now(),h.handleRowResizeDblclickCellAreaEvent?h.handleRowResizeDblclickCellAreaEvent(r,N):(I.resizeHeight=A,Qf(r,N))};y.row||y.column?h.clearEdit().then(H):H()}},saveCustomStore(r){const{customConfig:l}=e,a=_e.value,p=Br.value,{updateStore:g,storage:b,storeOptions:C}=p,y=b===!0,E=y?{}:Object.assign({},b||{},C),T=Hr(E.resizable,y),I=Hr(E.visible,y),H=Hr(E.fixed,y),A=Hr(E.sort,y);if(r!=="reset"&&(i.isCustomStatus=!0),(l?Et(p):p.enabled)&&(T||I||H||A)){if(!a)return je("vxe.error.reqProp",["id"]),pe();const N=r==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:R.getCustomStoreData();if(g)return g({$table:h,id:a,type:r,storeData:N});Ln(a,r==="reset"?null:N)}return pe()},handleCustom(){const{mouseConfig:r}=e;return r&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),O.analyColumnWidth(),R.refreshColumn(!0)},handleUpdateDataQueue(){i.upDataFlag++},handleRefreshColumnQueue(){i.reColumnFlag++},preventEvent(r,l,a,p,g){let b=Um.get(l);!b.length&&l==="event.clearEdit"&&(b=Um.get("event.clearActived"),b.length&&st("vxe.error.delEvent",["event.clearActived","event.clearEdit"]));let C=null,y=!1;for(let E=0;E<b.length;E++){const T=b[E],I=T(Object.assign({$grid:Le,$table:h,$event:r},a));if(I===!1){y=!0;break}else if(I&&I.status===!1){C=I.result,y=!0;break}}return y||p&&(C=p()),g&&g(),C},updateCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterTreeFullData:a,afterGroupFullData:p,selectCheckboxMaps:g,treeIndeterminateRowMaps:b}=s,C=be.value,y=ut.value,E=y.children||y.childrenField,T=ht.value,{checkField:I,checkStrictly:H,checkMethod:A}=T;if(!H){if(l||r){const{handleGetRowId:N}=br(h),W={},K=[];if(l){const U=C.mapChildrenField;U&&f.eachTree(p,$=>{const ee=N($),Y=$[U];Y&&Y.length&&!W[ee]&&(W[ee]=1,K.unshift([$,ee,Y]))},{children:U})}else if(r){const{transform:U,mapChildrenField:$}=y;f.eachTree(a,ee=>{const Y=N(ee),B=ee[U?$:E];B&&B.length&&!W[Y]&&(W[Y]=1,K.unshift([ee,Y,B]))},{children:U?$:E})}K.forEach(U=>{const $=U[0],ee=U[1],Y=U[2];let B=0,Se=0,ye=0;Y.forEach(A?We=>{const He=N(We),Je=I?f.get(We,I):g[He];A({$table:h,row:We})?(Je?B++:b[He]&&Se++,ye++):Je?B++:b[He]&&Se++}:We=>{const He=N(We);(I?f.get(We,I):g[He])?B++:b[He]&&Se++,ye++});const De=B>=ye,Ke=!De&&(B>=1||Se>=1);I&&f.set($,I,De),De?(I||(g[ee]=$),b[ee]&&delete b[ee]):(I||g[ee]&&delete g[ee],Ke?b[ee]=$:b[ee]&&delete b[ee])})}i.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:r}=e,{isRowGroupStatus:l}=i,{afterFullData:a,afterTreeFullData:p,afterGroupFullData:g,checkboxReserveRowMap:b,selectCheckboxMaps:C,treeIndeterminateRowMaps:y}=s,E=ht.value,{checkField:T,checkMethod:I,showReserveStatus:H}=E,{handleGetRowId:A}=br(h);let N=0,W=0,K=0;const U=r?p:l?g:a;U.forEach(I?Y=>{const B=A(Y),Se=T?f.get(Y,T):C[B];I({$table:h,row:Y})?(Se?N++:y[B]&&W++,K++):Se?N++:y[B]&&W++}:Y=>{const B=A(Y);(T?f.get(Y,T):C[B])?N++:y[B]&&W++,K++});const $=U.length>0?K>0?N>=K:N>=U.length:!1;let ee=!$&&(N>=1||W>=1);!$&&!ee&&H&&(ee=!f.isEmpty(b)),i.isAllSelected=$,i.isIndeterminate=ee},checkSelectionStatus(){h.updateCheckboxStatus(),h.updateAllCheckboxStatus()},handleBatchSelectRows(r,l,a){const{treeConfig:p}=e,{isRowGroupStatus:g}=i,{selectCheckboxMaps:b}=s,C=be.value,y=ut.value,{transform:E,mapChildrenField:T}=y,I=y.children||y.childrenField,H=ht.value,{checkField:A,checkStrictly:N,checkMethod:W}=H,{handleGetRowId:K}=br(h),U=H.indeterminateField||H.halfField;if(A){if((p||g)&&!N){f.eachTree(r,$=>{(a||!W||W({$table:h,row:$}))&&(f.set($,A,l),U&&f.set($,U,!1),Tr($,l))},{children:E?T:I}),i.updateCheckboxFlag++;return}r.forEach($=>{(a||!W||W({$table:h,row:$}))&&(f.set($,A,l),Tr($,l))}),i.updateCheckboxFlag++;return}if(!N){if(g){f.eachTree(r,$=>{const ee=K($);(a||!W||W({$table:h,row:$}))&&(l?b[ee]=$:b[ee]&&delete b[ee],Tr($,l))},{children:C.mapChildrenField}),i.updateCheckboxFlag++;return}else if(p){f.eachTree(r,$=>{const ee=K($);(a||!W||W({$table:h,row:$}))&&(l?b[ee]=$:b[ee]&&delete b[ee],Tr($,l))},{children:E?T:I}),i.updateCheckboxFlag++;return}}r.forEach($=>{const ee=K($);(a||!W||W({$table:h,row:$}))&&(l?b[ee]||(b[ee]=$):b[ee]&&delete b[ee],Tr($,l),i.updateCheckboxFlag++)})},handleSelectRow({row:r},l,a){h.handleBatchSelectRows([r],l,a)},handleUpdateBodyMerge(){const{mergeBodyList:r}=s;s.mergeBodyCellMaps=Yo(r),i.mergeBodyFlag++},handleUpdateFooterMerge(){const{mergeFooterList:r}=s;s.mergeFooterCellMaps=Yo(r),i.mergeFootFlag++},handleAggregateSummaryData(){return MC()},triggerHeaderTitleEvent(r,l,a){const p=l.content||l.message;if(p){const{tooltipStore:g}=i,{column:b}=a,C=zo(p);ki(!0),g.row=null,g.column=b,g.visible=!0,g.currOpts=l,pe(()=>{const y=_.value;y&&y.open&&y.open(r.currentTarget,C)})}},triggerHeaderTooltipEvent(r,l){const{tooltipStore:a}=i,{column:p}=l;ki(!0);const g=r.currentTarget;if(!g)return;const b=g.parentElement;if(!b)return;const C=b.parentElement;if(!C)return;const y=C.parentElement;if(y&&(a.column!==p||!a.visible)){const E=y.querySelector(".vxe-cell--title");Ts(r,y,(on(y,"col--ellipsis")?E:b)||b,E||C,l)}},triggerBodyTooltipEvent(r,l){const{editConfig:a}=e,{editStore:p}=i,{tooltipStore:g}=i,b=Vt.value,{actived:C}=p,{row:y,column:E}=l,T=r.currentTarget;if(ki(g.column!==E||g.row!==y),!(E.editRender&&Et(a)&&(b.mode==="row"&&C.row===y||C.row===y&&C.column===E))&&(g.column!==E||g.row!==y||!g.visible)){const I=T.querySelector(".vxe-cell--wrapper");let H=null,A=T.querySelector(E.type==="html"?".vxe-cell--html":".vxe-cell--label");E.treeNode&&(H=T.querySelector(".vxe-tree-cell")),A||(A=I),Ts(r,T,H||I,A,l)}},triggerFooterTooltipEvent(r,l){const{column:a}=l,{tooltipStore:p}=i,g=r.currentTarget;if(ki(p.column!==a||!!p.row),p.column!==a||!p.visible){const b=g.querySelector(".vxe-cell--wrapper");let C=null,y=g.querySelector(a.type==="html"?".vxe-cell--html":".vxe-cell--label");a.type==="html"&&(C=g.querySelector(".vxe-cell--html")),y||(y=b),Ts(r,g,C||b,y,l)}},handleTargetLeaveEvent(){const r=$t.value;let l=_.value;l&&l.setActived&&l.setActived(!1),r.enterable?s.tooltipTimeout=setTimeout(()=>{l=_.value,l&&l.isActived&&!l.isActived()&&h.closeTooltip()},r.leaveDelay):h.closeTooltip()},triggerHeaderCellClickEvent(r,l){const{_lastResizeTime:a}=s,p=zt.value,g=$e.value,b=Ze.value,{column:C}=l,y=r.currentTarget,E=a&&a>Date.now()-300,T=Bt(r,y,"vxe-cell--sort").flag,I=Bt(r,y,"vxe-cell--filter").flag;p.trigger==="cell"&&!(E||T||I)&&h.triggerSortEvent(r,C,Kr(C)),Ht("header-cell-click",Object.assign({triggerResizable:E,triggerSort:T,triggerFilter:I,cell:y},l),r),(g.isCurrent||e.highlightCurrentColumn)&&(!b.trigger||["header","default"].includes(b.trigger))&&h.triggerCurrentColumnEvent(r,l)},triggerHeaderCellDblclickEvent(r,l){Ht("header-cell-dblclick",Object.assign({cell:r.currentTarget},l),r)},triggerCellClickEvent(r,l){const{highlightCurrentRow:a,highlightCurrentColumn:p,editConfig:g}=e,{editStore:b,isDragResize:C}=i;if(C)return;const y=Ot.value,E=Vt.value,T=ut.value,I=Mt.value,H=ht.value,A=St.value,N=be.value,W=se.value,K=$e.value,U=Ze.value,{actived:$,focused:ee}=b,{row:Y,column:B}=l,{type:Se,treeNode:ye,rowGroupNode:De}=B,Ke=Se==="radio",We=Se==="checkbox",He=Se==="expand",Je=r.currentTarget,Ge=Ke&&Bt(r,Je,"vxe-cell--radio").flag,at=We&&Bt(r,Je,"vxe-cell--checkbox").flag,mt=ye&&Bt(r,Je,"vxe-cell--tree-btn").flag,dt=He&&Bt(r,Je,"vxe-table--expanded").flag,pt=He&&Bt(r,Je,"vxe-row-group--node-btn").flag;l=Object.assign({cell:Je,triggerRadio:Ge,triggerCheckbox:at,triggerTreeNode:mt,triggerExpandNode:dt},l),!at&&!Ge&&(!dt&&(y.trigger==="row"||He&&y.trigger==="cell")&&h.triggerRowExpandEvent(r,l),(T.trigger==="row"||ye&&T.trigger==="cell")&&h.triggerTreeExpandEvent(r,l),(N.trigger==="row"||De&&N.trigger==="cell")&&h.triggerRowGroupExpandEvent(r,l)),mt||(!dt&&!pt&&((W.isCurrent||a)&&!at&&!Ge&&h.triggerCurrentRowEvent(r,l),(K.isCurrent||p)&&(!U.trigger||["cell","default"].includes(U.trigger))&&!at&&!Ge&&h.triggerCurrentColumnEvent(r,l),!Ge&&(I.trigger==="row"||Ke&&I.trigger==="cell")&&h.triggerRadioRowEvent(r,l),!at&&(H.trigger==="row"||We&&H.trigger==="cell")&&h.handleToggleCheckRowEvent(r,l)),Et(g)&&(A.arrowCursorLock&&r&&E.mode==="cell"&&r.target&&/^input|textarea$/i.test(r.target.tagName)&&(ee.column=B,ee.row=Y),E.trigger==="manual"?$.args&&$.row===Y&&B!==$.column&&Ho(r,l):(!$.args||Y!==$.row||B!==$.column)&&(E.trigger==="click"||E.trigger==="dblclick"&&E.mode==="row"&&$.row===Y)&&Ho(r,l))),Et(g)&&E.trigger==="dblclick"&&$.row&&$.column&&(E.mode==="row"?h.eqRow($.row,Y)||h.handleClearEdit(r):E.mode==="cell"&&(!h.eqRow($.row,Y)||$.column.id!==B.id)&&h.handleClearEdit(r)),Ht("cell-click",l,r)},triggerCellDblclickEvent(r,l){const{editConfig:a}=e,{editStore:p,isDragResize:g}=i;if(g)return;const b=Vt.value,{actived:C}=p,y=r.currentTarget;l=Object.assign({cell:y},l),Et(a)&&b.trigger==="dblclick"&&(!C.args||r.currentTarget!==C.args.cell)&&(b.mode==="row"?Xo("blur").catch(E=>E).then(()=>{h.handleEdit(l,r).then(()=>Xo("change")).catch(E=>E)}):b.mode==="cell"&&h.handleEdit(l,r).then(()=>Xo("change")).catch(E=>E)),Ht("cell-dblclick",l,r)},handleToggleCheckRowEvent(r,l){const{selectCheckboxMaps:a}=s,p=ht.value,{checkField:g,trigger:b}=p,{row:C}=l;if(b==="manual")return;let y=!1;g?y=!f.get(C,g):y=!a[Ne(h,C)],r?h.triggerCheckRowEvent(r,l,y):(h.handleBatchSelectRows([C],y),h.checkSelectionStatus())},triggerCheckRowEvent(r,l,a){const{treeConfig:p}=e,{row:g}=l,{isRowGroupStatus:b}=i,{afterFullData:C}=s,y=ht.value,{checkMethod:E,trigger:T}=y;if(T!=="manual"){if(r.stopPropagation(),y.isShiftKey&&r.shiftKey&&!(p||b)){const I=h.getCheckboxRecords();if(I.length){const H=I[0],A=h.getVTRowIndex(g),N=h.getVTRowIndex(H);if(A!==N){h.setAllCheckboxRow(!1);const W=A<N?C.slice(A,N+1):C.slice(N,A+1);pe(()=>{Zo(W,!0,!1)}),Ht("checkbox-range-select",Object.assign({rangeRecords:W},l),r);return}}}(!E||E({$table:h,row:g}))&&(h.handleBatchSelectRows([g],a),h.checkSelectionStatus(),Ht("checkbox-change",Object.assign({records:()=>h.getCheckboxRecords(),reserves:()=>h.getCheckboxReserveRecords(),indeterminates:()=>h.getCheckboxIndeterminateRecords(),checked:a},l),r))}},triggerCheckAllEvent(r,l){const a=ht.value,{trigger:p}=a;p!=="manual"&&(r&&r.stopPropagation(),Zf(r,l))},triggerRadioRowEvent(r,l){const{selectRadioRow:a}=i,{row:p}=l,g=Mt.value,{trigger:b,checkMethod:C}=g;if(b!=="manual"&&(r.stopPropagation(),!C||C({$table:h,row:p}))){let y=p,E=a!==y;E?Bn(y):g.strict||(E=a===y,E&&(y=null,h.clearRadioRow())),E&&Ht("radio-change",Object.assign({oldValue:a,newValue:y},l),r)}},triggerCurrentColumnEvent(r,l){const{currentColumn:a}=i,p=$e.value,g=Ze.value,b=g.beforeSelectMethod||p.currentMethod,{column:C}=l,{trigger:y}=g;if(y==="manual")return;const E=a!==C;!b||b({column:C,$table:h})?(h.setCurrentColumn(C),E&&Ht("current-column-change",Object.assign({oldValue:a,newValue:C},l),r)):Ht("current-column-disabled",l,r)},triggerCurrentRowEvent(r,l){const{currentRow:a}=i,p=se.value,g=Fe.value,b=g.beforeSelectMethod||p.currentMethod,{row:C}=l,{trigger:y}=g;if(y==="manual")return;const E=a!==C;!b||b({row:C,$table:h})?(h.setCurrentRow(C),E&&(Ht("current-row-change",Object.assign({oldValue:a,newValue:C},l),r),Ht("current-change",Object.assign({oldValue:a,newValue:C},l),r))):Ht("current-row-disabled",l,r)},triggerRowExpandEvent(r,l){const{expandColumn:a}=i,{rowExpandLazyLoadedMaps:p}=s,g=Ot.value,{row:b}=l,{lazy:C,trigger:y}=g;if(y==="manual")return;r.stopPropagation();const E=Ne(h,b);if(!C||!p[E]){const T=!h.isRowExpandByRow(b),I=a?h.getColumnIndex(a):-1,H=a?h.getVMColumnIndex(a):-1;h.setRowExpand(b,T),Ht("toggle-row-expand",{expanded:T,column:a,columnIndex:I,$columnIndex:H,row:b,rowIndex:h.getRowIndex(b),$rowIndex:h.getVMRowIndex(b)},r)}},triggerRowGroupExpandEvent(r,l){const{rowGroupExpandedMaps:a}=s,p=be.value,{row:g,column:b}=l,{trigger:C}=p;if(C==="manual")return;r.stopPropagation();const y=Ne(h,g),E=!a[y],T=h.getColumnIndex(b),I=h.getVMColumnIndex(b);h.setRowGroupExpand(g,E),Ht("toggle-row-group-expand",{expanded:E,column:b,columnIndex:T,$columnIndex:I,row:g},r)},triggerTreeExpandEvent(r,l){const{treeExpandLazyLoadedMaps:a,treeEATime:p}=s,g=ut.value,{row:b,column:C}=l,{lazy:y,trigger:E,accordion:T}=g;if(E==="manual")return;r.stopPropagation();const I=Ne(h,b);if(!y||!a[I]){const H=!h.isTreeExpandByRow(b),A=h.getColumnIndex(C),N=h.getVMColumnIndex(C);p&&clearTimeout(p),h.setTreeExpand(b,H).then(()=>{T&&(s.treeEATime=setTimeout(()=>{s.treeEATime=void 0,h.scrollToRow(b)},30))}),Ht("toggle-tree-expand",{expanded:H,column:C,columnIndex:A,$columnIndex:N,row:b},r)}},handleColumnSortEvent(r,l){const{mouseConfig:a}=e,p=ct.value,{field:g,sortable:b,order:C}=l;if(b){const y={$table:h,$event:r,column:l,field:g,property:g,order:C,sortList:R.getSortColumns(),sortTime:l.sortTime};a&&p.area&&h.handleSortEvent&&h.handleSortEvent(r,y),C||Ht("clear-sort",y,r),Ht("sort-change",y,r)}},triggerSortEvent(r,l,a){const p=zt.value,{multiple:g,allowClear:b}=p,{field:C,sortable:y}=l;y&&(!a||l.order===a?b&&h.clearSort(g?l:null):h.sort({field:C,order:a}),h.handleColumnSortEvent(r,l))},handleCellRuleUpdateStatus(r,l,a){const{validStore:p}=i,{row:g,column:b}=l;if(h.hasCellRules&&h.hasCellRules(r,g,b)){const C=h.getCellElement(g,b);if(C){const y=!f.isUndefined(a);return h.validCellRules(r,g,b,a).then(()=>{y&&p.visible&&Mo(g,b,a),h.clearValidate(g,b)}).catch(({rule:E})=>{y&&Mo(g,b,a),h.showValidTooltip({rule:E,row:g,column:b,cell:C})})}}return pe()},triggerHeaderCellMousedownEvent(r,l){const{mouseConfig:a}=e,p=ct.value,g=$e.value,b=tt.value,{trigger:C,isCrossDrag:y,isPeerDrag:E,disabledMethod:T}=b,I=r.currentTarget,H=I&&I.tagName&&I.tagName.toLowerCase()==="input",A=Bt(r,I,"vxe-cell--checkbox").flag,N=Bt(r,I,"vxe-cell--sort").flag,W=Bt(r,I,"vxe-cell--filter").flag;let K=!1;const U=g.drag&&C==="cell";if(!(H||A||N||W)){const{column:$}=l;U&&!$.fixed&&(y||E||!$.parentId)&&!(T&&T(l))&&(K=!0,h.handleHeaderCellDragMousedownEvent(r,l))}!K&&a&&p.area&&h.handleHeaderCellAreaEvent&&h.handleHeaderCellAreaEvent(r,Object.assign({cell:I,triggerSort:N,triggerFilter:W},l)),h.focus(),h.closeMenu&&h.closeMenu()},triggerCellMousedownEvent(r,l){const{column:a}=l,{type:p,treeNode:g}=a,b=p==="radio",C=p==="checkbox",y=p==="expand",E=se.value,T=et.value,{trigger:I,isCrossDrag:H,isPeerDrag:A,disabledMethod:N}=T,W=r.currentTarget;l.cell=W;const K=W&&W.tagName&&W.tagName.toLowerCase()==="input",U=b&&Bt(r,W,"vxe-cell--radio").flag,$=C&&Bt(r,W,"vxe-cell--checkbox").flag,ee=g&&Bt(r,W,"vxe-cell--tree-btn").flag,Y=y&&Bt(r,W,"vxe-table--expanded").flag;let B=!1;E.drag&&(B=I==="row"||a.dragSort&&I==="cell");let Se=!1;K||U||$||ee||Y||B&&(H||A||!l.level)&&!(N&&N(l))&&(Se=!0,h.handleCellDragMousedownEvent(r,l)),!Se&&h.handleCellMousedownEvent&&h.handleCellMousedownEvent(r,l),h.focus(),h.closeFilter(),h.closeMenu&&h.closeMenu()},triggerCellMouseupEvent(){rh()},handleRowDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(ff(),0,0)},handleRowDragSwapEvent(r,l,a,p,g,b){const{treeConfig:C,dragConfig:y}=e,E=et.value,{afterFullData:T,tableFullData:I,fullAllDataRowIdData:H}=s,{isPeerDrag:A,isCrossDrag:N,isSelfToChildDrag:W,dragEndMethod:K,dragToChildMethod:U}=E,$=ut.value,{transform:ee,rowField:Y,mapChildrenField:B,parentField:Se}=$,ye=$.children||$.childrenField,De=K||(y?y.dragEndMethod:null),Ke=g==="bottom"?1:0,We={status:!1};if(p&&a&&p!==a){const He={oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:!!b,offsetIndex:Ke},Je=W&&U?U(He):b;return Promise.resolve(De?De(He):!0).then(Ge=>{if(!Ge)return We;let at=-1,mt=-1;if(C){if(ee){const dt=Ne(h,a),pt=H[dt],Dt=Ne(h,p),ar=H[Dt];if(pt&&ar){const{level:Jt}=pt,{level:dr}=ar,_t={};f.eachTree([a],Nt=>{_t[Ne(h,Nt)]=Nt},{children:B});let Sr=!1;if(Jt&&dr)if(A&&!N){if(pt.row[Se]!==ar.row[Se])return We}else{if(!N)return We;if(_t[Dt]&&(Sr=!0,!(N&&W)))return xe.modal&&xe.modal.message({status:"error",content:qo("vxe.error.treeDragChild")}),We}else if(Jt){if(!N)return We}else if(dr){if(!N)return We;if(_t[Dt]&&(Sr=!0,!(N&&W)))return xe.modal&&xe.modal.message({status:"error",content:qo("vxe.error.treeDragChild")}),We}const fr=f.toTreeArray(s.afterTreeFullData,{key:Y,parentKey:Se,children:B}),Fr=h.findRowIndexOf(fr,a);fr.splice(Fr,1);const hr=h.findRowIndexOf(fr,p)+Ke;fr.splice(hr,0,a),Sr&&N&&W&&f.each(a[ye],Nt=>{Nt[Se]=a[Se]}),a[Se]=Je?p[Y]:p[Se],s.tableFullTreeData=f.toArrayTree(fr,{key:Y,parentKey:Se,children:ye,mapChildren:B})}}}else{at=h.findRowIndexOf(T,a);const dt=h.findRowIndexOf(I,a);T.splice(at,1),I.splice(dt,1);const pt=h.findRowIndexOf(T,p),Dt=h.findRowIndexOf(I,p);mt=pt+Ke;const ar=Dt+Ke;T.splice(mt,0,a),I.splice(ar,0,a)}return i.isDragRowMove=!0,h.handleTableData(C&&ee),h.cacheRowMap(!1),Kl(),C&&ee||h.updateAfterDataIndex(),h.checkSelectionStatus(),i.scrollYLoad&&h.updateScrollYSpace(),r&&Ht("row-dragend",{oldRow:a,newRow:p,dragRow:a,dragPos:g,dragToChild:Je,offsetIndex:Ke,_index:{newIndex:mt,oldIndex:at}},r),pe().then(()=>{h.updateCellAreas(),h.recalculate()}).then(()=>({status:!0}))}).catch(()=>We)}return Promise.resolve(We)},handleRowDragDragendEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a,prevDragToChild:p}=s,{dragRow:g}=i,b=ut.value,{lazy:C}=b,y=b.hasChild||b.hasChildField,{prevDragRow:E,prevDragPos:T}=s;if(l&&C&&p){const I=Ne(h,E),H=a[I];E[y]?H&&H.treeLoaded&&h.handleRowDragSwapEvent(r,!0,g,E,T,p):h.handleRowDragSwapEvent(r,!0,g,E,T,p)}else h.handleRowDragSwapEvent(r,!0,g,E,T,p);vl(),Ms(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragRowMove=!1},500)},handleRowDragDragoverEvent(r){const{treeConfig:l}=e,{fullAllDataRowIdData:a}=s,{dragRow:p}=i,g=ut.value,{lazy:b,transform:C,parentField:y}=g,E=g.hasChild||g.hasChildField,T=et.value,{isPeerDrag:I,isCrossDrag:H,isToChildDrag:A}=T;if(!p){r.preventDefault();return}const N=pi(r),W=r.currentTarget,K=W.getAttribute("rowid")||"",U=a[K];if(U){const $=U.row,ee=Ne(h,$),Y=a[ee];r.preventDefault();const{dragRow:B}=i,ye=r.clientY-W.getBoundingClientRect().y<W.clientHeight/2?"top":"bottom";if(s.prevDragToChild=!!(l&&C&&H&&A&&N),s.prevDragRow=$,s.prevDragPos=ye,h.eqRow(B,$)||N&&l&&b&&$[E]&&Y&&!Y.treeLoaded||!H&&l&&C&&(I?B[y]!==$[y]:U.level)){Li(r,W,null,!1,ye);return}Li(r,W,null,!0,ye),Ht("row-dragover",{oldRow:B,targetRow:$,dragPos:ye},r)}},handleCellDragMousedownEvent(r,l){var a;r.stopPropagation();const{dragConfig:p}=e,g=et.value,{trigger:b,dragStartMethod:C}=g,{row:y}=l,E=r.currentTarget,T=b==="cell"||b==="row"?E:(a=E.parentElement)===null||a===void 0?void 0:a.parentElement,I=T.parentElement,H=C||(p?p.dragStartMethod:null);if(Ms(),H&&!H(l)){I.draggable=!1,i.dragRow=null,i.dragCol=null,vl();return}i.dragRow=y,i.dragCol=null,I.draggable=!0,KC(y),ZC(T),Ht("row-dragstart",l,r)},handleCellDragMouseupEvent(){rh()},handleHeaderCellDragDragstartEvent(r){r.dataTransfer&&r.dataTransfer.setDragImage(ff(),0,0)},handleColDragSwapColumn(){Yf(),Rs(!1).then(()=>{h.updateCellAreas(),h.saveCustomStore("update:sort")})},handleColDragSwapEvent(r,l,a,p,g,b){const{mouseConfig:C}=e,y=tt.value,{isPeerDrag:E,isCrossDrag:T,isSelfToChildDrag:I,isToChildDrag:H,dragEndMethod:A,dragToChildMethod:N}=y,{collectColumn:W}=s,K=g==="right"?1:0,U={status:!1};if(p&&a&&p!==a){const $=a,ee=p,Y={oldColumn:$,newColumn:ee,dragColumn:$,dragPos:g,dragToChild:!!b,offsetIndex:K},B=I&&N?N(Y):b;return Promise.resolve(A?A(Y):!0).then(Se=>{if(!Se)return U;let ye=-1,De=-1;const Ke={};f.eachTree([$],Ge=>{Ke[Ge.id]=Ge});let We=!1;if($.parentId&&ee.parentId)if(E&&!T){if($.parentId!==ee.parentId)return U}else{if(!T)return U;if(Ke[ee.id]&&(We=!0,!(T&&I)))return xe.modal&&xe.modal.message({status:"error",content:qo("vxe.error.treeDragChild")}),U}else if($.parentId){if(!T)return U}else if(ee.parentId){if(!T)return U;if(Ke[ee.id]&&(We=!0,!(T&&I)))return xe.modal&&xe.modal.message({status:"error",content:qo("vxe.error.treeDragChild")}),U}const He=f.findTree(W,Ge=>Ge.id===$.id);if(We&&T&&I){if(He){const{items:Ge,index:at}=He,mt=$.children||[];mt.forEach(dt=>{dt.parentId=$.parentId}),Ge.splice(at,1,...mt),$.children=[]}}else if(He){const{items:Ge,index:at,parent:mt}=He;Ge.splice(at,1),mt||(ye=at)}const Je=f.findTree(W,Ge=>Ge.id===ee.id);if(Je){const{items:Ge,index:at,parent:mt}=Je;T&&H&&B?($.parentId=ee.id,ee.children=(ee.children||[]).concat([$])):($.parentId=ee.parentId,Ge.splice(at+K,0,$)),mt||(De=at)}return f.eachTree(W,(Ge,at,mt,dt,pt)=>{if(!pt){const Dt=at+1;Ge.renderSortNumber=Dt}}),i.isDragColMove=!0,C&&(h.clearSelected&&h.clearSelected(),h.clearCellAreas&&(h.clearCellAreas(),h.clearCopyCellArea())),r&&Ht("column-dragend",{oldColumn:$,newColumn:ee,dragColumn:$,dragPos:g,dragToChild:B,offsetIndex:K,_index:{newIndex:De,oldIndex:ye}},r),l&&h.handleColDragSwapColumn(),{status:!0}}).catch(()=>U)}return Promise.resolve(U)},handleHeaderCellDragDragendEvent(r){const{dragCol:l}=i,{prevDragCol:a,prevDragPos:p,prevDragToChild:g}=s;h.handleColDragSwapEvent(r,!0,l,a,p,g),vl(),Ai(),s.prevDragToChild=!1,i.dragRow=null,i.dragCol=null,setTimeout(()=>{i.isDragColMove=!1,h.recalculate().then(()=>{$n()})},500)},handleHeaderCellDragDragoverEvent(r){const{dragCol:l}=i,a=tt.value,{isToChildDrag:p,isPeerDrag:g,isCrossDrag:b}=a;if(!l){r.preventDefault();return}const C=pi(r),y=r.currentTarget,E=y.getAttribute("colid"),T=h.getColumnById(E);if(T){r.preventDefault();const{clientX:I}=r,A=I-y.getBoundingClientRect().x<y.clientWidth/2?"left":"right";if(s.prevDragToChild=!!(b&&p&&C),s.prevDragCol=T,s.prevDragPos=A,T.fixed||l&&l.id===T.id||!b&&(g?l.parentId!==T.parentId:T.parentId)){Li(r,null,y,!1,A);return}Li(r,null,y,!0,A),Ht("column-dragover",{oldColumn:l,targetColumn:T,dragPos:A},r);const N=S.value;if(!N)return;const W=ie.value,K=M.value,U=K?K.$el:null,$=W||U;if($){const ee=N.getBoundingClientRect(),Y=N.clientWidth,B=Ce.value,Se=B?B.clientWidth:0,ye=ve.value,De=ye?ye.clientWidth:0,Ke=ee.x+Se,We=ee.x+Y-De,He=28,Je=I-Ke,Ge=We-I;if(Je>0&&Je<=He){const at=Math.floor(Y/(Je>He/2?240:120));$.scrollLeft-=at*(He-Je)}else if(Ge>0&&Ge<=He){const at=Math.floor(Y/(Ge>He/2?240:120));$.scrollLeft+=at*(He-Ge)}}}},handleHeaderCellDragMousedownEvent(r,l){var a;r.stopPropagation();const p=tt.value,{trigger:g,dragStartMethod:b}=p,{column:C}=l,y=r.currentTarget,E=g==="cell"?y:(a=y.parentElement)===null||a===void 0?void 0:a.parentElement;if(i.isDragColMove=!1,Ai(),b&&!b(l)){E.draggable=!1,i.dragRow=null,i.dragCol=null,vl();return}i.dragCol=C,i.dragRow=null,E.draggable=!0,JC(C),QC(E),Ht("column-dragstart",l,r)},handleHeaderCellDragMouseupEvent(){Ai(),vl(),i.dragRow=null,i.dragCol=null,i.isDragColMove=!1},handleScrollEvent(r,l,a,p,g,b){const{highlightHoverRow:C}=e,{lastScrollLeft:y,lastScrollTop:E}=s,T=ie.value,I=he.value;if(!T||!I)return;const H=se.value,A=P.value,N=_.value,W=I.clientHeight,K=T.clientWidth,U=I.scrollHeight,$=T.scrollWidth;let ee=!1,Y=!1,B=!1,Se=!1,ye="",De=!1,Ke=!1,We=!1,He=!1;if(a){const Ge=it.value;B=g<=0,B||(Se=g+K>=$),g>y?(ye="right",g+K>=$-Ge&&(He=!0)):(ye="left",g<=Ge&&(We=!0)),h.checkScrolling(),s.lastScrollLeft=g}if(l){const Ge=ot.value;ee=p<=0,ee||(Y=p+W>=U),p>E?(ye="bottom",p+W>=U-Ge&&(Ke=!0)):(ye="top",p<=Ge&&(De=!0)),s.lastScrollTop=p}i.isDragColMove=!1,i.isDragRowMove=!1,i.lastScrollTime=Date.now();const Je=Object.assign({scrollTop:p,scrollLeft:g,bodyHeight:W,bodyWidth:K,scrollHeight:U,scrollWidth:$,isX:a,isY:l,isTop:ee,isBottom:Y,isLeft:B,isRight:Se,direction:ye},b);Vn(),qC(a,l),a&&h.closeFilter(),(H.isHover||C)&&h.clearHoverRow(),A&&A.reactData.visible&&A.close(),N&&N.reactData.visible&&N.close(),(Ke||De||He||We)&&Ht("scroll-boundary",Je,r),Ht("scroll",Je,r)},triggerScrollXEvent(){xt.value.immediate?$n():HC()},triggerScrollYEvent(){Xe.value.immediate?Zl():_C()},triggerBodyScrollEvent(r,l){const{scrollYLoad:a,scrollXLoad:p}=i,{elemStore:g,intoRunScroll:b,lastScrollTop:C,lastScrollLeft:y,inWheelScroll:E,inVirtualScroll:T,inHeaderScroll:I,inBodyScroll:H,scrollRenderType:A,inFooterScroll:N}=s;if(E||T||I||N)return;const W=ie.value,K=he.value,U=rt(g["left-body-scroll"]),$=rt(g["main-body-scroll"]),ee=rt(g["right-body-scroll"]),Y=rt(g["main-header-scroll"]),B=rt(g["main-footer-scroll"]),Se=oe.value;if(b||!$||!W||!K||H&&A!==l)return;let ye=K.scrollTop,De=W.scrollLeft;U&&l==="left"?ye=U.scrollTop:ee&&l==="right"?ye=ee.scrollTop:(ye=$.scrollTop,De=$.scrollLeft);const Ke=De!==y,We=ye!==C;s.inBodyScroll=!0,s.scrollRenderType=l,We&&(l==="left"?(Wt($,ye),Wt(ee,ye)):l==="right"?(Wt($,ye),Wt(U,ye)):(Wt(U,ye),Wt(ee,ye)),Wt(K,ye),Wt(Se,ye),a&&h.triggerScrollYEvent(r)),Ke&&(Ut(W,De),Ut(Y,De),Ut(B,De),p&&h.triggerScrollXEvent(r)),h.handleScrollEvent(r,We,Ke,ye,De,{type:"body",fixed:l})},triggerHeaderScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:C,inBodyScroll:y,inFooterScroll:E}=s;if(b||C||y||E)return;const T=he.value,I=ie.value,H=rt(p["main-body-scroll"]),A=rt(p["main-header-scroll"]),N=rt(p["main-footer-scroll"]);if(g||!A||!I||!T)return;const W=T.scrollTop,K=A.scrollLeft,U=!0,$=!1;s.inHeaderScroll=!0,Ut(I,K),Ut(N,K),Ut(H,K),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,$,U,W,K,{type:"header",fixed:l})},triggerFooterScrollEvent(r,l){const{scrollXLoad:a}=i,{elemStore:p,intoRunScroll:g,inWheelScroll:b,inVirtualScroll:C,inHeaderScroll:y,inBodyScroll:E}=s;if(b||C||y||E)return;const T=he.value,I=ie.value,H=rt(p["main-body-scroll"]),A=rt(p["main-header-scroll"]),N=rt(p["main-footer-scroll"]);if(g||!N||!I||!T)return;const W=T.scrollTop,K=N.scrollLeft,U=!0,$=!1;s.inFooterScroll=!0,Ut(I,K),Ut(A,K),Ut(H,K),a&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,$,U,W,K,{type:"footer",fixed:l})},triggerBodyWheelEvent(r){const{target:l,deltaY:a,deltaX:p,shiftKey:g}=r;if(l&&/^textarea$/i.test(l.tagName))return;const{highlightHoverRow:b}=es,{scrollXLoad:C,scrollYLoad:y,expandColumn:E}=i,T=Lr.value,I=Gt.value;if(!(T||I||E))return;const{elemStore:H,lastScrollTop:A,lastScrollLeft:N}=s,W=se.value,K=ie.value,U=he.value,$=rt(H["left-body-scroll"]),ee=rt(H["main-header-scroll"]),Y=rt(H["main-body-scroll"]),B=rt(H["main-footer-scroll"]),Se=rt(H["right-body-scroll"]),ye=oe.value;if(!K||!U||!Y)return;const De=PC(i.lastScrollTime),Ke=g?0:Math.ceil(a*De),We=g?Math.ceil((g&&a||p)*De):0,He=Ke<0,Je=Y.scrollTop;if(He?Je<=0:Je>=Y.scrollHeight-Y.clientHeight)return;const Ge=Je+Ke,at=Y.scrollLeft+We,mt=at!==N,dt=Ge!==A;if((W.isHover||b)&&h.clearHoverRow(),mt)if(r.preventDefault(),s.inWheelScroll=!0,c.firefox||c.safari){const pt=at;Ut(K,pt),Ut(Y,pt),Ut(ee,pt),Ut(B,pt),C&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,dt,mt,Y.scrollTop,pt,{type:"table",fixed:""})}else NC(at,pt=>{s.inWheelScroll=!0;const Dt=pt;Ut(K,Dt),Ut(Y,Dt),Ut(ee,Dt),Ut(B,Dt),C&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,dt,mt,Y.scrollTop,Dt,{type:"table",fixed:""})});if(dt)if(r.preventDefault(),s.inWheelScroll=!0,c.firefox||c.safari){const pt=Ge;Wt(U,pt),Wt(Y,pt),Wt($,pt),Wt(Se,pt),Wt(ye,pt),y&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,dt,mt,pt,Y.scrollLeft,{type:"table",fixed:""})}else BC(Ge-Je,pt=>{s.inWheelScroll=!0;const Dt=Y.scrollTop+pt;Wt(U,Dt),Wt(Y,Dt),Wt($,Dt),Wt(Se,Dt),Wt(ye,Dt),y&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,dt,mt,Dt,Y.scrollLeft,{type:"table",fixed:""})})},triggerVirtualScrollXEvent(r){const{scrollXLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollTop:g,inHeaderScroll:b,inBodyScroll:C,inFooterScroll:y}=s;if(b||C||y||p)return;const E=rt(a["main-header-scroll"]),T=rt(a["main-body-scroll"]),I=rt(a["main-footer-scroll"]),H=he.value,A=r.currentTarget,{scrollLeft:N}=A,W=H||T;let K=0;W&&(K=W.scrollTop);const U=!0,$=K!==g;s.inVirtualScroll=!0,Ut(T,N),Ut(E,N),Ut(I,N),l&&h.triggerScrollXEvent(r),h.handleScrollEvent(r,$,U,K,N,{type:"table",fixed:""})},triggerVirtualScrollYEvent(r){const{scrollYLoad:l}=i,{elemStore:a,inWheelScroll:p,lastScrollLeft:g,inHeaderScroll:b,inBodyScroll:C,inFooterScroll:y}=s;if(b||C||y||p)return;const E=rt(a["left-body-scroll"]),T=rt(a["main-body-scroll"]),I=rt(a["right-body-scroll"]),H=oe.value,A=ie.value,N=r.currentTarget,{scrollTop:W}=N,K=A||T;let U=0;K&&(U=K.scrollLeft);const $=U!==g,ee=!0;s.inVirtualScroll=!0,Wt(T,W),Wt(E,W),Wt(I,W),Wt(H,W),l&&h.triggerScrollYEvent(r),h.handleScrollEvent(r,ee,$,W,U,{type:"table",fixed:""})},scrollToTreeRow(r){const{treeConfig:l}=e,{isRowGroupStatus:a}=i,{tableFullData:p}=s,g=[];if(l||a){const b=be.value,C=ut.value,y=C.children||C.childrenField,E=f.findTree(p,T=>h.eqRow(T,r),{children:a?b.mapChildrenField:y});if(E){const T=E.nodes;T.forEach((I,H)=>{H<T.length-1&&!h.isTreeExpandByRow(I)&&g.push(h.setTreeExpand(I,!0))})}}return Promise.all(g).then(()=>km(h,r))},updateScrollYStatus:Kl,updateScrollXSpace(){const{scrollXLoad:r,overflowX:l,scrollXWidth:a}=i,{visibleColumn:p,scrollXStore:g,elemStore:b,fullColumnIdData:C}=s,y=ct.value,E=M.value;if(E?E.$el:null){const I=rt(b["main-body-scroll"]),H=rt(b["main-body-table"]),A=rt(b["main-header-table"]),N=rt(b["main-footer-table"]);let W=0;const K=p[g.startIndex];K&&(W=(C[K.id]||{}).oLeft);let U=0;I&&(U=I.clientWidth);let $=!1,ee=a;a>wl&&(I&&H&&I.scrollLeft+U>=wl?W=wl-H.clientWidth:W=(wl-U)*(W/(a-U)),ee=wl,$=!0),r&&l||(W=0),A&&(A.style.transform=A.getAttribute("xvm")?`translate(${W}px, 0px)`:""),H&&(H.style.transform=`translate(${W}px, ${i.scrollYTop||0}px)`),N&&(N.style.transform=N.getAttribute("xvm")?`translate(${W}px, 0px)`:""),["main"].forEach(Se=>{["header","body","footer"].forEach(De=>{const Ke=rt(b[`${Se}-${De}-xSpace`]);Ke&&(Ke.style.width=r?`${ee}px`:"")})}),i.scrollXLeft=W,i.scrollXWidth=ee,i.isScrollXBig=$;const B=Ee.value;return B&&(B.style.width=`${ee}px`),$&&y.area&&je("vxe.error.notProp",["mouse-config.area"]),Di(),pe().then(()=>{Rr()})}},updateScrollYSpace(){const{isAllOverflow:r,overflowY:l,scrollYLoad:a,expandColumn:p}=i,{scrollYStore:g,elemStore:b,isResizeCellHeight:C,afterFullData:y,fullAllDataRowIdData:E,rowExpandedMaps:T}=s,{startIndex:I}=g,H=ct.value,A=Ot.value,N=se.value,W=Rt.value,K=Be.value,U=rt(b["main-body-scroll"]),$=rt(b["main-body-table"]),ee=rt(b["left-body-table"]),Y=rt(b["right-body-table"]),B=["main","left","right"];let Se=0,ye=0,De=!1;if(a)if(!(C||W.height||N.height)&&!p&&r)ye=y.length*K,ye>Xn&&(De=!0),Se=Math.max(0,I*K);else{const mt=y[I];let dt=Ne(h,mt),pt=E[dt]||{};Se=pt.oTop||0;const Dt=y[y.length-1];dt=Ne(h,Dt),pt=E[dt]||{},ye=(pt.oTop||0)+(pt.resizeHeight||W.height||N.height||pt.height||K),p&&T[dt]&&(ye+=pt.expandHeight||A.height||0),ye>Xn&&(De=!0)}else $&&(ye=$.clientHeight);let Ke=0;U&&(Ke=U.clientHeight);let We=ye,He=Se;De&&(U&&$&&U.scrollTop+Ke>=Xn?He=Xn-$.clientHeight:He=(Xn-Ke)*(Se/(ye-Ke)),We=Xn),a&&l||(He=0),ee&&(ee.style.transform=`translate(0px, ${He}px)`),$&&($.style.transform=`translate(${i.scrollXLeft||0}px, ${He}px)`),Y&&(Y.style.transform=`translate(0px, ${He}px)`),B.forEach(at=>{["header","body","footer"].forEach(dt=>{const pt=rt(b[`${at}-${dt}-ySpace`]);pt&&(pt.style.height=We?`${We}px`:"")})});const Je=Ye.value;Je&&(Je.style.height=We?`${We}px`:"");const Ge=te.value;return Ge&&(Ge.style.height=We?`${We}px`:""),i.scrollYTop=He,i.scrollYHeight=ye,i.isScrollYBig=De,De&&H.area&&je("vxe.error.notProp",["mouse-config.area"]),Di(),pe().then(()=>{Rr()})},updateScrollXData(){const{isAllOverflow:r}=i;return Es(),h.updateScrollXSpace(),pe().then(()=>{Es(),h.updateScrollXSpace(),r||h.updateScrollYSpace()})},updateScrollYData(){return h.handleTableData(),h.updateScrollYSpace(),pe().then(()=>{h.handleTableData(),h.updateScrollYSpace()})},checkScrolling(){const{elemStore:r}=s,l=rt(r["main-body-scroll"]),a=Ce.value,p=ve.value,b=ie.value||l;b&&(a&&(b.scrollLeft>0?Do(a,"scrolling--middle"):eo(a,"scrolling--middle")),p&&(b.clientWidth<b.scrollWidth-Math.ceil(b.scrollLeft)?Do(p,"scrolling--middle"):eo(p,"scrolling--middle")))},updateZindex(){e.zIndex?s.tZindex=e.zIndex:s.tZindex<Zx()&&(s.tZindex=Kx())},handleCheckedCheckboxRow:Zo,triggerHoverEvent(r,{row:l}){O.setHoverRow(l)},setHoverRow(r){const l=Ne(h,r),a=S.value;O.clearHoverRow(),a&&f.arrayEach(a.querySelectorAll(`.vxe-body--row[rowid="${l}"]`),p=>Do(p,"row--hover")),s.hoverRow=r},clearHoverRow(){const r=S.value;r&&f.arrayEach(r.querySelectorAll(".vxe-body--row.row--hover"),l=>eo(l,"row--hover")),s.hoverRow=null},getCell(r,l){return R.getCellElement(r,l)},findRowIndexOf(r,l){return l?f.findIndexOf(r,a=>h.eqRow(a,l)):-1},eqRow(r,l){return r&&l?r===l?!0:Ne(h,r)===Ne(h,l):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(r=>{h[r]=function(){je("vxe.error.reqModule",["Export"])}}),"clearValidate,fullValidate,validate".split(",").forEach(r=>{h[r]=function(){je("vxe.error.reqModule",["Validator"])}}),Object.assign(h,R,O);const oh=r=>{const{showHeader:l,showFooter:a}=e,{tableData:p,tableColumn:g,tableGroupColumn:b,columnStore:C,footerTableData:y}=i,E=r==="left",T=E?C.leftList:C.rightList;return w("div",{ref:E?Ce:ve,class:`vxe-table--fixed-${r}-wrapper`},[l?w(Bm,{ref:E?z:j,fixedType:r,tableData:p,tableColumn:g,tableGroupColumn:b,fixedColumn:T}):_r(h),w(Pm,{ref:E?J:Z,fixedType:r,tableData:p,tableColumn:g,fixedColumn:T}),a?w(zm,{ref:E?k:ge,footerTableData:y,tableColumn:g,fixedColumn:T,fixedType:r}):_r(h)])},ew=()=>{const r=cr.value,l=o.empty,a={$table:h,$grid:Le};if(l)return l(a);{const p=r.name?Gm.get(r.name):null,g=p?p.renderTableEmpty||p.renderTableEmptyView||p.renderEmpty:null;if(g)return qr(g(r,a))}return zo(e.emptyText)||qo("vxe.table.emptyText")},tw=()=>{const{dragConfig:r}=e,{dragRow:l,dragCol:a,dragTipText:p}=i,g=tt.value,y=(et.value.slots||{}).tip||(r&&r.slots?r.slots.rowTip:null),T=(g.slots||{}).tip;return l&&y?Jl(y,{row:l}):a&&T?Jl(T,{column:a}):[w("span",p)]},rw=()=>{const{dragRow:r,dragCol:l}=i,a=se.value,p=$e.value,g=et.value,b=tt.value;return a.drag||p.drag?w("div",{class:"vxe-table--drag-wrapper"},[w("div",{ref:ue,class:["vxe-table--drag-row-line",{"is--guides":g.showGuidesStatus}]}),w("div",{ref:X,class:["vxe-table--drag-col-line",{"is--guides":b.showGuidesStatus}]}),r&&g.showDragTip||l&&b.showDragTip?w("div",{ref:re,class:"vxe-table--drag-sort-tip"},[w("div",{class:"vxe-table--drag-sort-tip-wrapper"},[w("div",{class:"vxe-table--drag-sort-tip-status"},[w("span",{class:["vxe-table--drag-sort-tip-normal-status",r?Ni().TABLE_DRAG_STATUS_ROW:Ni().TABLE_DRAG_STATUS_COLUMN]}),w("span",{class:["vxe-table--drag-sort-tip-sub-status",Ni().TABLE_DRAG_STATUS_SUB_ROW]}),w("span",{class:["vxe-table--drag-sort-tip-disabled-status",Ni().TABLE_DRAG_DISABLED]})]),w("div",{class:"vxe-table--drag-sort-tip-content"},tw())])]):_r(h)]):_r(h)},ow=()=>{const{treeConfig:r}=e,{expandColumn:l,isRowGroupStatus:a}=i,p=Fn.value,g=Ot.value,{mode:b}=g;if(b!=="fixed")return _r(h);const C=[w("div",{key:"repY",ref:te})];if(l){const{handleGetRowId:y}=br(h);p.forEach(E=>{const T=Ot.value,{height:I,padding:H,indent:A}=T,{fullAllDataRowIdData:N,fullColumnIdData:W}=s,K=ut.value,{transform:U,seqMode:$}=K,ee={},Y=y(E),B=N[Y],Se=l.id,ye=W[Se]||{};let De=0,Ke=-1,We=-1,He=-1,Je=-1;B&&(De=B.level,a||r&&U&&$==="increasing"?Ke=B._index+1:Ke=B.seq,He=B.index,Je=B.$index,We=B._index),I&&(ee.height=`${I}px`),(a||r)&&(ee.paddingLeft=`${De*(f.isNumber(A)?A:K.indent)+30}px`);let Ge=-1,at=-1,mt=-1;ye&&(Ge=ye.index,at=ye.$index,mt=ye._index);const dt={$grid:Le,$table:h,seq:Ke,column:l,columnIndex:Ge,$columnIndex:at,_columnIndex:mt,fixed:"",type:"body",level:De,rowid:Y,row:E,rowIndex:He,$rowIndex:Je,_rowIndex:We,isHidden:!1,isEdit:!1,visibleData:[],data:[],items:[]};C.push(w("div",{key:Y,class:["vxe-body--row-expanded-cell",{"is--padding":H,"is--ellipsis":I}],rowid:Y,style:ee},l.renderData(dt)))})}return w("div",{ref:oe,class:"vxe-table--row-expanded-wrapper"},C)},nh=()=>w("div",{key:"vsx",ref:le,class:"vxe-table--scroll-x-virtual"},[w("div",{ref:Oe,class:"vxe-table--scroll-x-left-corner"}),w("div",{ref:me,class:"vxe-table--scroll-x-wrapper"},[w("div",{ref:ie,class:"vxe-table--scroll-x-handle",onScroll:h.triggerVirtualScrollXEvent},[w("div",{ref:Ee,class:"vxe-table--scroll-x-space"})])]),w("div",{ref:de,class:"vxe-table--scroll-x-right-corner"})]),lh=()=>w("div",{ref:we,class:"vxe-table--scroll-y-virtual"},[w("div",{ref:Te,class:"vxe-table--scroll-y-top-corner"}),w("div",{ref:ce,class:"vxe-table--scroll-y-wrapper"},[w("div",{ref:he,class:"vxe-table--scroll-y-handle",onScroll:h.triggerVirtualScrollYEvent},[w("div",{ref:Ye,class:"vxe-table--scroll-y-space"})])]),w("div",{ref:Ie,class:"vxe-table--scroll-y-bottom-corner"})]),ih=()=>{const{showHeader:r,showFooter:l}=e,{overflowX:a,tableData:p,tableColumn:g,tableGroupColumn:b,footerTableData:C,columnStore:y}=i,{leftList:E,rightList:T}=y;return w("div",{ref:Q,class:"vxe-table--viewport-wrapper"},[w("div",{class:"vxe-table--main-wrapper"},[r?w(Bm,{ref:D,tableData:p,tableColumn:g,tableGroupColumn:b}):_r(h),w(Pm,{ref:M,tableData:p,tableColumn:g}),l?w(zm,{ref:L,footerTableData:C,tableColumn:g}):_r(h)]),w("div",{class:"vxe-table--fixed-wrapper"},[E&&E.length&&a?oh("left"):_r(h),T&&T.length&&a?oh("right"):_r(h)]),ow()])},sh=()=>{const r=ze.value;return w("div",{class:"vxe-table--layout-wrapper"},r?[lh(),ih()]:[ih(),lh()])},nw=()=>{const{loading:r,stripe:l,showHeader:a,height:p,treeConfig:g,mouseConfig:b,showFooter:C,highlightCell:y,highlightHoverRow:E,highlightHoverColumn:T,editConfig:I,editRules:H}=e,{isGroup:A,overflowX:N,overflowY:W,scrollXLoad:K,scrollYLoad:U,tableData:$,initStore:ee,isRowGroupStatus:Y,columnStore:B,filterStore:Se,customStore:ye}=i,{leftList:De,rightList:Ke}=B,We=o.loading,He=nr.value,Je=Zt.value,Ge=yt.value,at=ht.value,mt=ut.value,dt=se.value,pt=$e.value,Dt=x.value,ar=jl.value,Jt=ct.value,dr=Lt.value,_t=Xr.value,Sr=yr.value,fr=i.isColLoading||i.isRowLoading||r,Fr=bt.value,Yt=b&&Jt.area,hr=tt.value,Nt=ft.value,qt=ze.value;return w("div",{ref:S,class:["vxe-table","vxe-table--render-default",`tid_${u}`,`border--${ar}`,`sx-pos--${Nt?"top":"bottom"}`,`sy-pos--${qt?"left":"right"}`,{[`size--${Dt}`]:Dt,[`valid-msg--${Ge.msgMode}`]:!!H,"vxe-editable":!!I,"old-cell-valid":H&&Ft().cellVaildMode==="obsolete","cell--highlight":y,"cell--selected":b&&Jt.selected,"cell--area":Yt,"header-cell--area":Yt&&dr.selectCellByHeader,"body-cell--area":Yt&&dr.selectCellByBody,"row--highlight":dt.isHover||E,"column--highlight":pt.isHover||T,"checkbox--range":at.range,"col--drag-cell":pt.drag&&hr.trigger==="cell","is--header":a,"is--footer":C,"is--group":A,"is-row-group":Y,"is--tree-line":g&&(mt.showLine||mt.line),"is--fixed-left":De.length,"is--fixed-right":Ke.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!g&&l,"is--loading":fr,"is--empty":!fr&&!$.length,"is--scroll-y":W,"is--scroll-x":N,"is--virtual-x":K,"is--virtual-y":U}],spellcheck:!1,onKeydown:GC},[w("div",{class:"vxe-table-slots"},o.default?o.default({}):[]),w("div",{ref:F,class:"vxe-table-vars"},[w("div",{class:"vxe-table-var-default"}),w("div",{class:"vxe-table-var-medium"}),w("div",{class:"vxe-table-var-small"}),w("div",{class:"vxe-table-var-mini"})]),w("div",{key:"tw",class:"vxe-table--render-wrapper"},Nt?[nh(),sh()]:[sh(),nh()]),w("div",{key:"tn",ref:Re,class:"vxe-table--empty-placeholder"},[w("div",{class:"vxe-table--empty-content"},ew())]),w("div",{key:"tl",class:"vxe-table--border-line"}),w("div",{key:"tcl",ref:fe,class:"vxe-table--resizable-col-bar"},Fr.showDragTip?[w("div",{class:"vxe-table--resizable-number-tip"})]:[]),w("div",{key:"trl",ref:Me,class:"vxe-table--resizable-row-bar"},Fr.showDragTip?[w("div",{class:"vxe-table--resizable-number-tip"})]:[]),d?w(d,{key:"lg",class:"vxe-table--loading",modelValue:fr,icon:_t.icon,text:_t.text},We?{default:()=>Jl(We,{$table:h,$grid:Le,loading:fr})}:{}):We?w("div",{class:["vxe-loading--custom-wrapper",{"is--visible":fr}]},Jl(We,{$table:h,$grid:Le,loading:fr})):_r(h),ee.custom?w(fR,{key:"cs",ref:ae,customStore:ye}):_r(h),ee.filter?w(hR,{key:"tf",ref:G,filterStore:Se}):_r(h),ee.import&&e.importConfig?w(gR,{key:"it",defaultOptions:i.importParams,storeData:i.importStore}):_r(h),ee.export&&(e.exportConfig||e.printConfig)?w(vR,{key:"et",defaultOptions:i.exportParams,storeData:i.exportStore}):_r(h),Sr?w(bR,{key:"tm",ref:V}):_r(h),rw(),v?w("div",{},[w(v,{key:"ctp",ref:q,isArrow:!1,enterable:!1}),w(v,{key:"btp",ref:_,theme:He.theme,enterable:He.enterable,enterDelay:He.enterDelay,leaveDelay:He.leaveDelay,useHTML:He.useHTML}),e.editRules&&Ge.showMessage&&(Ge.message==="default"?!p:Ge.message==="tooltip")?w(v,{key:"vtp",ref:P,class:[{"old-cell-valid":H&&Ft().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Je.theme,enterable:Je.enterable,enterDelay:Je.enterDelay,leaveDelay:Je.leaveDelay}):_r(h)]):_r(h)])},Fs=Pe(0);It(()=>e.data?e.data.length:-1,()=>{Fs.value++}),It(()=>e.data,()=>{Fs.value++}),It(Fs,()=>{const{initStatus:r}=s,l=e.data||[];l&&l.length>=5e4&&st("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),gl(l,!1).then(()=>{const{scrollXLoad:a,scrollYLoad:p,expandColumn:g}=i,b=Ot.value;return s.inited=!0,s.initStatus=!0,r||Ti(),(a||p)&&g&&b.mode!=="fixed"&&st("vxe.error.scrollErrProp",["column.type=expand"]),R.recalculate()})});const Is=Pe(0);It(()=>i.staticColumns.length,()=>{Is.value++}),It(()=>i.staticColumns,()=>{Is.value++}),It(Is,()=>{Xf(f.clone(i.staticColumns))});const ks=Pe(0);It(()=>i.tableColumn.length,()=>{ks.value++}),It(()=>i.tableColumn,()=>{ks.value++}),It(ks,()=>{O.analyColumnWidth()}),It(()=>i.upDataFlag,()=>{pe(()=>{R.updateData()})}),It(()=>i.reColumnFlag,()=>{pe(()=>{R.refreshColumn()})});const ml=Pe(0);It(x,()=>{ml.value++}),It(()=>e.showHeader,()=>{ml.value++}),It(()=>e.showFooter,()=>{ml.value++}),It(()=>i.overflowX,()=>{ml.value++}),It(()=>i.overflowY,()=>{ml.value++}),It(ml,()=>{pe(()=>{R.recalculate(!0).then(()=>R.refreshScroll())})});const bl=Pe(0);It(()=>e.height,()=>{bl.value++}),It(()=>e.maxHeight,()=>{bl.value++}),It(ft,()=>{bl.value++}),It(ze,()=>{bl.value++}),It(()=>xe.getLanguage(),()=>{bl.value++}),It(bl,()=>{pe(()=>R.recalculate(!0))});const As=Pe(0);It(()=>e.footerData?e.footerData.length:-1,()=>{As.value++}),It(()=>e.footerData,()=>{As.value++}),It(As,()=>{R.updateFooter()}),It(()=>e.syncResize,r=>{r&&(Os(),pe(()=>{Os(),setTimeout(()=>Os())}))});const Ls=Pe(0);It(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Ls.value++}),It(()=>e.mergeCells,()=>{Ls.value++}),It(Ls,()=>{R.clearMergeCells(),pe(()=>{e.mergeCells&&R.setMergeCells(e.mergeCells)})});const Hs=Pe(0);It(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Hs.value++}),It(()=>e.mergeFooterItems,()=>{Hs.value++}),It(Hs,()=>{R.clearMergeFooterItems(),pe(()=>{e.mergeFooterItems&&R.setMergeFooterItems(e.mergeFooterItems)})}),It(kn,r=>{Mi(r)}),It(lt,()=>{const{inited:r,tableFullData:l}=s;r&&(An(),i.tableData=[],pe(()=>{h.reloadData(l)}))}),m&&It(()=>m?m.reactData.resizeFlag:null,()=>{th()}),An(),wR.forEach(r=>{const{setupTable:l}=r;if(l){const a=l(h);a&&f.isObject(a)&&Object.assign(h,a)}}),O.preventEvent(null,"created",{$table:h});let Ql;return sw(()=>{R.recalculate().then(()=>R.refreshScroll()),O.preventEvent(null,"activated",{$table:h})}),aw(()=>{s.isActivated=!1,O.preventEvent(null,"deactivated",{$table:h})}),nn(()=>{const r=$e.value,l=se.value,a=Br.value,p=be.value,g=Xe.value,{groupFields:b}=p;if((r.drag||l.drag||a.allowSort)&&tC(),Mi(b),pe(()=>{const{data:C,exportConfig:y,importConfig:E,treeConfig:T,showOverflow:I,highlightCurrentRow:H,highlightCurrentColumn:A}=e,{scrollXStore:N,scrollYStore:W}=s,K=Vt.value,U=ut.value,$=Mt.value,ee=ht.value,Y=Ot.value,B=se.value,Se=Br.value,ye=ct.value,De=xr.value,Ke=vr.value,We=Fe.value,He=Ze.value,Je=St.value,Ge=be.value;if(e.rowId&&st("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&st("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&st("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||B.keyField)&&(ee.reserve||ee.checkRowKeys||$.reserve||$.checkRowKey||Y.expandRowKeys||U.expandRowKeys)&&st("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(K.showStatus||K.showUpdateStatus||K.showInsertStatus)&&!e.keepSource&&st("vxe.error.reqProp",["keep-source"]),T&&(U.showLine||U.line)&&!I&&st("vxe.error.reqProp",["show-overflow"]),T&&!U.transform&&e.stripe&&st("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&st("vxe.error.reqProp",["footer-data | footer-method"]),B.height&&st("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&st("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&st("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&st("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&st("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),e.resizable&&st("vxe.error.delProp",["resizable","column-config.resizable"]),E&&Ke.types&&!Ke.importMethod&&!f.includeArrays(f.keys(Ke._typeMaps),Ke.types)&&st("vxe.error.errProp",[`export-config.types=${Ke.types.join(",")}`,Ke.types.filter(at=>f.includes(f.keys(Ke._typeMaps),at)).join(",")||f.keys(Ke._typeMaps).join(",")]),y&&De.types&&!De.exportMethod&&!f.includeArrays(f.keys(De._typeMaps),De.types)&&st("vxe.error.errProp",[`export-config.types=${De.types.join(",")}`,De.types.filter(at=>f.includes(f.keys(De._typeMaps),at)).join(",")||f.keys(De._typeMaps).join(",")]),e.id||(e.customConfig?Et(Se):Se.enabled)&&Se.storage&&je("vxe.error.reqProp",["id"]),e.treeConfig&&ee.range&&je("vxe.error.noTree",["checkbox-config.range"]),B.height&&!e.showOverflow&&st("vxe.error.notProp",["table.show-overflow"]),!h.triggerCellAreaMousedownEvent&&(e.areaConfig&&st("vxe.error.notProp",["area-config"]),e.clipConfig&&st("vxe.error.notProp",["clip-config"]),e.fnrConfig&&st("vxe.error.notProp",["fnr-config"]),ye.area)){je("vxe.error.notProp",["mouse-config.area"]);return}if(T&&B.drag&&!U.transform&&je("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&st("vxe.error.delProp",["drag-config","row-drag-config"]),e.rowGroupConfig&&st("vxe.error.delProp",["row-group-config","aggregate-config"]),Ge.countFields&&st("vxe.error.delProp",["row-group-config.countFields","column.agg-func"]),Ge.countMethod&&st("vxe.error.delProp",["row-group-config.countMethod","aggregate-config.aggregateMethod"]),e.treeConfig&&U.children&&st("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&U.line&&st("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),ye.area&&ye.selected&&st("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),ye.area&&e.treeConfig&&!U.transform&&je("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&K.activeMethod&&st("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&ee.isShiftKey&&je("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),ee.halfField&&st("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),B.currentMethod&&st("vxe.error.delProp",["row-config.currentMethod","current-row-config.beforeSelectMethod"]),r.currentMethod&&st("vxe.error.delProp",["row-config.currentMethod","current-column-config.beforeSelectMethod"]),(B.isCurrent||H)&&e.keyboardConfig&&Je.isArrow&&!f.isBoolean(We.isFollowSelected)&&st("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(r.isCurrent||A)&&e.keyboardConfig&&Je.isArrow&&!f.isBoolean(He.isFollowSelected)&&st("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.editConfig&&!h.insert&&je("vxe.error.reqModule",["Edit"]),e.editRules&&!h.validate&&je("vxe.error.reqModule",["Validator"]),(ee.range||e.keyboardConfig||e.mouseConfig)&&!h.handleCellMousedownEvent&&je("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!h.exportData&&je("vxe.error.reqModule",["Export"]),Object.assign(W,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(N,{startIndex:0,endIndex:0,visibleSize:0}),gl(C||[],!0).then(()=>{C&&C.length&&(s.inited=!0,s.initStatus=!0,Ti()),TC(),Rr()}),e.autoResize){const at=S.value,mt=O.getParentElem();Ql=CR.create(()=>{e.autoResize&&R.recalculate(!0)}),at&&Ql.observe(at),mt&&Ql.observe(mt)}}),g.mode!=="scroll"){const C=Q.value;C&&C.addEventListener("wheel",h.triggerBodyWheelEvent,{passive:!1})}Kt.on(h,"paste",UC),Kt.on(h,"copy",YC),Kt.on(h,"cut",XC),Kt.on(h,"mousedown",VC),Kt.on(h,"blur",zC),Kt.on(h,"mousewheel",WC),Kt.on(h,"keydown",jC),Kt.on(h,"resize",th),Kt.on(h,"contextmenu",h.handleGlobalContextmenuEvent),O.preventEvent(null,"mounted",{$table:h})}),cw(()=>{const r=Q.value;r&&r.removeEventListener("wheel",h.triggerBodyWheelEvent),s.cvCacheMaps={},s.prevDragRow=null,s.prevDragCol=null,Ql&&Ql.disconnect(),R.closeFilter(),h.closeMenu&&h.closeMenu(),O.preventEvent(null,"beforeUnmount",{$table:h})}),rl(()=>{Kt.off(h,"paste"),Kt.off(h,"copy"),Kt.off(h,"cut"),Kt.off(h,"mousedown"),Kt.off(h,"blur"),Kt.off(h,"mousewheel"),Kt.off(h,"keydown"),Kt.off(h,"resize"),Kt.off(h,"contextmenu"),O.preventEvent(null,"unmounted",{$table:h})}),pe(()=>{e.loading&&!d&&!o.loading&&je("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(v||je("vxe.error.reqComp",["vxe-tooltip"]))}),On("$xeColgroup",null),On("$xeTable",h),h.renderVN=nw,h},render(){return this.renderVN()}}),{getConfig:Oo,getIcon:Cn,getI18n:yl,renderer:Km,commands:Zm,createEvent:ER,useFns:RR}=xe,tl=ho({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>Oo().toolbar.buttons},tools:{type:Array,default:()=>Oo().toolbar.tools},perfect:{type:Boolean,default:()=>Oo().toolbar.perfect},size:{type:String,default:()=>Oo().toolbar.size||Oo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:o,emit:n}=t,u=f.uniqueId(),c=xe.getComponent("VxeButton"),{computeSize:d}=RR.useSize(e),v=to({isRefresh:!1,connectFlag:0,columns:[]}),m={connectTable:null},x=Pe(),i={refElem:x},s={xID:u,props:e,context:t,reactData:v,internalData:m,getRefMaps:()=>i};let R={};const O=Pr("$xeGrid",null),S=qe(()=>Object.assign({},f.clone(Oo().toolbar.refresh,!0),e.refresh)),F=qe(()=>Object.assign({},f.clone(Oo().toolbar.import,!0),e.import)),_=qe(()=>Object.assign({},f.clone(Oo().toolbar.export,!0),e.export)),q=qe(()=>Object.assign({},f.clone(Oo().toolbar.print,!0),e.print)),P=qe(()=>Object.assign({},f.clone(Oo().toolbar.zoom,!0),e.zoom)),V=qe(()=>Object.assign({},f.clone(Oo().toolbar.custom,!0),e.custom)),G=qe(()=>{const{connectTable:ie}=m,Oe=ie;if((v.connectFlag||Oe)&&Oe){const{computeCustomOpts:de}=Oe.getComputeMaps();return de.value}return{trigger:""}}),ae=qe(()=>G.value.trigger),Q=()=>{const{connectTable:ie}=m;if(ie)return!0;je("vxe.error.barUnableLink")},D=({$event:ie})=>{const{connectTable:Oe}=m,de=Oe;de&&de.triggerCustomEvent&&de.triggerCustomEvent(ie)},M=({$event:ie})=>{const{connectTable:Oe}=m,de=Oe;de&&de.customOpenEvent(ie)},L=({$event:ie})=>{const{connectTable:Oe}=m,de=Oe;if(de){const{customStore:he}=de.reactData;he.activeBtn=!1,setTimeout(()=>{!he.activeBtn&&!he.activeWrapper&&de.customCloseEvent(ie)},350)}},z=({$event:ie})=>{const{isRefresh:Oe}=v,de=S.value;if(!Oe){const he=de.queryMethod||de.query;if(he){v.isRefresh=!0;try{Promise.resolve(he({})).catch(Te=>Te).then(()=>{v.isRefresh=!1})}catch{v.isRefresh=!1}}else O&&(v.isRefresh=!0,O.triggerToolbarCommitEvent({code:de.code||"reload"},ie).catch(Te=>Te).then(()=>{v.isRefresh=!1}))}},J=({$event:ie})=>{O&&O.triggerZoomEvent(ie)},k=(ie,Oe)=>{const{connectTable:de}=m,he=de,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarBtnEvent(Oe,ie);else{const me=Zm.get(Te),ce={code:Te,button:Oe,$table:he,$grid:O,$event:ie};if(me){const Ie=me.tableCommandMethod||me.commandMethod;Ie?Ie(ce):je("vxe.error.notCommands",[Te])}s.dispatchEvent("button-click",ce,ie)}},j=(ie,Oe)=>{const{connectTable:de}=m,he=de,{code:Te}=Oe;if(Te)if(O)O.triggerToolbarTolEvent(Oe,ie);else{const me=Zm.get(Te),ce={code:Te,button:null,tool:Oe,$table:he,$grid:O,$event:ie};if(me){const Ie=me.tableCommandMethod||me.commandMethod;Ie?Ie(ce):je("vxe.error.notCommands",[Te])}s.dispatchEvent("tool-click",ce,ie)}},Z=()=>{if(Q()){const{connectTable:ie}=m,Oe=ie;Oe&&Oe.openImport()}},ge=()=>{if(Q()){const{connectTable:ie}=m,Oe=ie;Oe&&Oe.openExport()}},Ce=()=>{if(Q()){const{connectTable:ie}=m,Oe=ie;Oe&&Oe.openPrint()}};R={dispatchEvent:(ie,Oe,de)=>{n(ie,ER(de,{$toolbar:s},Oe))},syncUpdate(ie){m.connectTable=ie.$table,v.columns=ie.collectColumn,v.connectFlag++}},Object.assign(s,R);const fe=(ie,Oe)=>{const{dropdowns:de}=ie,he=[];return de?de.map((Te,me)=>Te.visible===!1?Qe():c?w(c,{key:me,disabled:Te.disabled,loading:Te.loading,type:Te.type,mode:Te.mode,icon:Te.icon,circle:Te.circle,round:Te.round,status:Te.status,content:Te.name,title:Te.title,routerLink:Te.routerLink,permissionCode:Te.permissionCode,prefixTooltip:Te.prefixTooltip,suffixTooltip:Te.suffixTooltip,onClick:({$event:ce})=>Oe?k(ce,Te):j(ce,Te)}):Qe()):he},Me=()=>{const{buttons:ie}=e,{connectTable:Oe}=m,de=Oe,he=o.buttonPrefix||o["button-prefix"],Te=o.buttonSuffix||o["button-suffix"],me=[];return he&&me.push(...qr(he({buttons:ie||[],$grid:O,$table:de}))),ie&&ie.forEach((ce,Ie)=>{const{dropdowns:Ee,buttonRender:Ye}=ce;if(ce.visible!==!1){const Le=Ye?Km.get(Ye.name):null;if(Ye&&Le&&Le.renderToolbarButton){const Ue=Le.toolbarButtonClassName,_e={$grid:O,$table:de,button:ce};me.push(w("span",{key:`br${ce.code||Ie}`,class:["vxe-button--item",Ue?f.isFunction(Ue)?Ue(_e):Ue:""]},qr(Le.renderToolbarButton(Ye,_e))))}else c&&me.push(w(c,{key:`bd${ce.code||Ie}`,disabled:ce.disabled,loading:ce.loading,type:ce.type,mode:ce.mode,icon:ce.icon,circle:ce.circle,round:ce.round,status:ce.status,content:ce.name,title:ce.title,routerLink:ce.routerLink,permissionCode:ce.permissionCode,prefixTooltip:ce.prefixTooltip,suffixTooltip:ce.suffixTooltip,destroyOnClose:ce.destroyOnClose,placement:ce.placement,transfer:ce.transfer,onClick:({$event:Ue})=>k(Ue,ce)},Ee&&Ee.length?{dropdowns:()=>fe(ce,!0)}:{}))}}),Te&&me.push(...qr(Te({buttons:ie||[],$grid:O,$table:de}))),me},Re=()=>{const{tools:ie}=e,{connectTable:Oe}=m,de=Oe,he=o.toolPrefix||o["tool-prefix"],Te=o.toolSuffix||o["tool-suffix"],me=[];return he&&me.push(...qr(he({tools:ie||[],$grid:O,$table:de}))),ie&&ie.forEach((ce,Ie)=>{const{dropdowns:Ee,toolRender:Ye}=ce;if(ce.visible!==!1){const Le=Ye?Ye.name:null,Ue=Ye?Km.get(Le):null;if(Ye&&Ue&&Ue.renderToolbarTool){const _e=Ue.toolbarToolClassName,lt={$grid:O,$table:de,tool:ce};me.push(w("span",{key:Le,class:["vxe-tool--item",_e?f.isFunction(_e)?_e(lt):_e:""]},qr(Ue.renderToolbarTool(Ye,lt))))}else c&&me.push(w(c,{key:Ie,disabled:ce.disabled,loading:ce.loading,type:ce.type,mode:ce.mode,icon:ce.icon,circle:ce.circle,round:ce.round,status:ce.status,content:ce.name,title:ce.title,routerLink:ce.routerLink,permissionCode:ce.permissionCode,prefixTooltip:ce.prefixTooltip,suffixTooltip:ce.suffixTooltip,destroyOnClose:ce.destroyOnClose,placement:ce.placement,transfer:ce.transfer,onClick:({$event:_e})=>j(_e,ce)},Ee&&Ee.length?{dropdowns:()=>fe(ce,!1)}:{}))}}),Te&&me.push(...qr(Te({tools:ie||[],$grid:O,$table:de}))),me},re=()=>{const ie=F.value;return c?w(c,{key:"import",circle:!0,icon:ie.icon||Cn().TOOLBAR_TOOLS_IMPORT,title:yl("vxe.toolbar.import"),onClick:Z}):Qe()},ue=()=>{const ie=_.value;return c?w(c,{key:"export",circle:!0,icon:ie.icon||Cn().TOOLBAR_TOOLS_EXPORT,title:yl("vxe.toolbar.export"),onClick:ge}):Qe()},X=()=>{const ie=q.value;return c?w(c,{key:"print",circle:!0,icon:ie.icon||Cn().TOOLBAR_TOOLS_PRINT,title:yl("vxe.toolbar.print"),onClick:Ce}):Qe()},oe=()=>{const ie=S.value;return c?w(c,{key:"refresh",circle:!0,icon:v.isRefresh?ie.iconLoading||Cn().TOOLBAR_TOOLS_REFRESH_LOADING:ie.icon||Cn().TOOLBAR_TOOLS_REFRESH,title:yl("vxe.toolbar.refresh"),onClick:z}):Qe()},te=()=>{const ie=P.value;return O&&c?w(c,{key:"zoom",circle:!0,icon:O.isMaximized()?ie.iconOut||Cn().TOOLBAR_TOOLS_MINIMIZE:ie.iconIn||Cn().TOOLBAR_TOOLS_FULLSCREEN,title:yl(`vxe.toolbar.zoom${O.isMaximized()?"Out":"In"}`),onClick:J}):Qe()},le=()=>{const ie=V.value,Oe=ae.value,de={};return Oe==="manual"||(Oe==="hover"?(de.onMouseenter=M,de.onMouseleave=L):de.onClick=D),c?w(c,Object.assign({key:"custom",circle:!0,icon:ie.icon||Cn().TOOLBAR_TOOLS_CUSTOM,title:yl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},de)):Qe()},we=()=>{const{perfect:ie,loading:Oe,refresh:de,zoom:he,custom:Te,className:me}=e,{connectTable:ce}=m,Ie=d.value,Ee=o.tools,Ye=o.buttons,Le=ce;return w("div",{ref:x,class:["vxe-toolbar",me?f.isFunction(me)?me({$toolbar:s}):me:"",{[`size--${Ie}`]:Ie,"is--perfect":ie,"is--loading":Oe}]},[w("div",{class:"vxe-buttons--wrapper"},Ye?Ye({$grid:O,$table:Le}):Me()),w("div",{class:"vxe-tools--wrapper"},Ee?Ee({$grid:O,$table:Le}):Re()),w("div",{class:"vxe-tools--operate"},[e.import?re():Qe(),e.export?ue():Qe(),e.print?X():Qe(),de?oe():Qe(),he&&O?te():Qe(),Te?le():Qe()])])};return s.renderVN=we,pe(()=>{const{refresh:ie}=e,Oe=S.value,de=Oe.queryMethod||Oe.query;ie&&!O&&!de&&st("vxe.error.notFunc",["queryMethod"]);const he=V.value;he.isFooter&&st("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),he.showFooter&&st("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),he.immediate&&st("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),he.trigger&&st("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(c||je("vxe.error.reqComp",["vxe-button"]))}),s},render(){return this.renderVN()}}),{getConfig:tn,getI18n:El,commands:SR,hooks:OR,useFns:DR,createEvent:MR,globalEvents:Jd,GLOBAL_EVENT_KEYS:TR,renderEmptyElement:Po}=xe,FR=Object.keys(es),Jm=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeRowChildren","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","clearSortByEvent","isSort","getSortColumns","closeFilter","isFilter","clearFilterByEvent","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","setRowGroupExpand","setAllRowGroupExpand","clearRowGroupExpand","isRowGroupExpandByRow","isRowGroupRecord","isAggregateRecord","isAggregateExpandByRow","setRowGroups","clearRowGroups","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],IR=[...Nf,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Al=ho({name:"VxeGrid",props:Object.assign(Object.assign({},es),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>tn().grid.size||tn().size}}),emits:IR,setup(e,t){var o;const{slots:n,emit:u}=t,c=f.uniqueId(),d=xe.getComponent("VxeForm"),v=xe.getComponent("VxePager"),m=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:x}=DR.useSize(e),i=to({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((o=tn().pager)===null||o===void 0?void 0:o.pageSize)||10,currentPage:1}}),s=Pe(),R=Pe(),O=Pe(),S=Pe(),F=Pe(),_=Pe(),q=Pe(),P=Pe(),V=Pe(),G=Pe(),ae=ne=>{const se={};return ne.forEach(be=>{se[be]=(...ke)=>{const Fe=R.value;if(Fe&&Fe[be])return Fe[be](...ke)}}),se},Q=ae(Jm);Jm.forEach(ne=>{Q[ne]=(...se)=>{const be=R.value;if(be&&be[ne])return be&&be[ne](...se)}});const D=qe(()=>f.merge({},f.clone(tn().grid.proxyConfig,!0),e.proxyConfig)),M=qe(()=>{const ne=D.value;return f.isBoolean(ne.message)?ne.message:ne.showResponseMsg}),L=qe(()=>D.value.showActiveMsg),z=qe(()=>Object.assign({},tn().grid.pagerConfig,e.pagerConfig)),J=qe(()=>Object.assign({},tn().grid.formConfig,e.formConfig)),k=qe(()=>Object.assign({},tn().grid.toolbarConfig,e.toolbarConfig)),j=qe(()=>Object.assign({},tn().grid.zoomConfig,e.zoomConfig)),Z=qe(()=>{const{height:ne,maxHeight:se}=e,{isZMax:be,tZindex:ke}=i,Fe={};return be?Fe.zIndex=ke:(ne&&(Fe.height=ne==="auto"||ne==="100%"?"100%":bi(ne)),se&&(Fe.maxHeight=se==="auto"||se==="100%"?"100%":bi(se))),Fe}),ge=qe(()=>{const ne={},se=e;return FR.forEach(be=>{ne[be]=se[be]}),ne}),Ce=qe(()=>{const{seqConfig:ne,pagerConfig:se,loading:be,editConfig:ke,proxyConfig:Fe}=e,{isZMax:et,tableLoading:tt,tablePage:wt}=i,bt=ge.value,nt=D.value,Mt=z.value,ht=Object.assign({},bt);return et&&(bt.maxHeight?ht.maxHeight="100%":ht.height="100%"),Fe&&Et(nt)&&(ht.loading=be||tt,se&&nt.seq&&Et(Mt)&&(ht.seqConfig=Object.assign({},ne,{startIndex:(wt.currentPage-1)*wt.pageSize}))),ke&&(ht.editConfig=Object.assign({},ke)),ht}),ve=qe(()=>{const{layouts:ne}=e;let se=[];ne&&ne.length?se=ne:se=tn().grid.layouts||m;let be=[],ke=[],Fe=[];return se.length&&(f.isArray(se[0])?(be=se[0],ke=se[1]||[],Fe=se[2]||[]):ke=se),{headKeys:be,bodyKeys:ke,footKeys:Fe}}),fe=qe(()=>z.value.currentPage),Me=qe(()=>z.value.pageSize),Re=qe(()=>z.value.total),re={refElem:s,refTable:R,refForm:O,refToolbar:S,refPager:F},ue={computeProxyOpts:D,computePagerOpts:z,computeFormOpts:J,computeToolbarOpts:k,computeZoomOpts:j},X={xID:c,props:e,context:t,reactData:i,getRefMaps:()=>re,getComputeMaps:()=>ue},oe=()=>{const ne=k.value;e.toolbarConfig&&Et(ne)&&pe(()=>{const se=R.value,be=S.value;se&&be&&se.connect(be)})},te=()=>{const{proxyConfig:ne}=e,{formData:se}=i,be=D.value,ke=J.value;return ne&&Et(be)&&be.form?se:ke.data},le=ne=>{const{tablePage:se}=i,{pagerConfig:be}=e,ke=z.value;if(be&&Et(ke))if(ne)ke[ne]&&(se[ne]=f.toNumber(ke[ne]));else{const{currentPage:Fe,pageSize:et,total:tt}=ke;Fe&&(se.currentPage=Fe),et&&(se.pageSize=et),tt&&(se.pageSize=tt)}},we=ne=>{const se=L.value,be=R.value,ke=be.getCheckboxRecords();ke.length?(be.togglePendingRow(ke),Q.clearCheckboxRow()):se&&xe.modal&&xe.modal.message({id:ne,content:El("vxe.grid.selectOneRecord"),status:"warning"})},ie=(ne,se)=>{const be=D.value,Fe=(be.response||be.props||{}).message;let et;return ne&&Fe&&(et=f.isFunction(Fe)?Fe({data:ne,$grid:X}):f.get(ne,Fe)),et||El(se)},Oe=(ne,se,be)=>{const ke=L.value,Fe=Q.getCheckboxRecords();if(ke)if(Fe.length){if(xe.modal)return xe.modal.confirm({id:`cfm_${ne}`,content:El(se),escClosable:!0}).then(et=>{if(et==="confirm")return be()})}else xe.modal&&xe.modal.message({id:`msg_${ne}`,content:El("vxe.grid.selectOneRecord"),status:"warning"});else Fe.length&&be();return Promise.resolve()},de=ne=>{const{proxyConfig:se}=e,{tablePage:be}=i,{$event:ke,currentPage:Fe,pageSize:et}=ne,tt=D.value;be.currentPage=Fe,be.pageSize=et,X.dispatchEvent("page-change",ne,ke),se&&Et(tt)&&X.commitProxy("query").then(wt=>{X.dispatchEvent("proxy-query",wt,ke)})},he=ne=>{const se=R.value,{proxyConfig:be}=e,{computeSortOpts:ke}=se.getComputeMaps(),Fe=D.value;ke.value.remote&&(i.sortData=ne.sortList,be&&Et(Fe)&&(i.tablePage.currentPage=1,$e.commitProxy("query").then(tt=>{$e.dispatchEvent("proxy-query",tt,ne.$event)}))),$e.dispatchEvent("sort-change",ne,ne.$event)},Te=ne=>{const se=R.value,{proxyConfig:be}=e,{computeFilterOpts:ke}=se.getComputeMaps(),Fe=D.value;ke.value.remote&&(i.filterData=ne.filterList,be&&Et(Fe)&&(i.tablePage.currentPage=1,$e.commitProxy("query").then(tt=>{$e.dispatchEvent("proxy-query",tt,ne.$event)}))),$e.dispatchEvent("filter-change",ne,ne.$event)},me=ne=>{const{proxyConfig:se}=e,be=D.value;i.tableLoading||(se&&Et(be)&&$e.commitProxy("reload").then(ke=>{$e.dispatchEvent("proxy-query",Object.assign(Object.assign({},ke),{isReload:!0}),ne.$event)}),$e.dispatchEvent("form-submit",ne,ne.$event))},ce=ne=>{const{proxyConfig:se}=e,{$event:be}=ne,ke=D.value,Fe=R.value;se&&Et(ke)&&(Fe.clearScroll(),$e.commitProxy("reload").then(et=>{$e.dispatchEvent("proxy-query",Object.assign(Object.assign({},et),{isReload:!0}),be)})),$e.dispatchEvent("form-reset",ne,be)},Ie=ne=>{$e.dispatchEvent("form-submit-invalid",ne,ne.$event)},Ee=ne=>{const{$event:se}=ne;$e.dispatchEvent("form-toggle-collapse",ne,se),$e.dispatchEvent("form-collapse",ne,se)},Ye=ne=>{const{isZMax:se}=i;return(ne?!se:se)&&(i.isZMax=!se,i.tZindex<Zx()&&(i.tZindex=Kx())),pe().then(()=>Q.recalculate(!0)).then(()=>(setTimeout(()=>Q.recalculate(!0),15),i.isZMax))},Le=(ne,se)=>{const be=ne[se];if(be)if(f.isString(be)){if(n[be])return n[be];je("vxe.error.notSlot",[be])}else return be;return null},Ue=ne=>{const se={};return f.objectMap(ne,(be,ke)=>{be&&(f.isString(be)?n[be]?se[ke]=n[be]:je("vxe.error.notSlot",[be]):se[ke]=be)}),se},_e=()=>{const{formConfig:ne,proxyConfig:se}=e,{formData:be}=i,ke=D.value,Fe=J.value;if(ne&&Et(Fe)||n.form){let et=[];if(n.form)et=n.form({$grid:X});else if(Fe.items){const tt={};if(!Fe.inited){Fe.inited=!0;const wt=ke.beforeItem;ke&&wt&&Fe.items.forEach(bt=>{wt({$grid:X,item:bt})})}Fe.items.forEach(wt=>{f.each(wt.slots,bt=>{f.isFunction(bt)||n[bt]&&(tt[bt]=n[bt])})}),d&&et.push(w(d,Object.assign(Object.assign({ref:O},Object.assign({},Fe,{data:se&&Et(ke)&&ke.form?be:Fe.data})),{onSubmit:me,onReset:ce,onSubmitInvalid:Ie,onCollapse:Ee}),tt))}return w("div",{ref:_,key:"form",class:"vxe-grid--form-wrapper"},et)}return Po(X)},lt=()=>{const{toolbarConfig:ne}=e,se=k.value;if(ne&&Et(se)||n.toolbar){let be=[];if(n.toolbar)be=n.toolbar({$grid:X});else{const ke=se.slots,Fe={};if(ke){const et=Le(ke,"buttons"),tt=Le(ke,"buttonPrefix"),wt=Le(ke,"buttonSuffix"),bt=Le(ke,"tools"),nt=Le(ke,"toolPrefix"),Mt=Le(ke,"toolSuffix");et&&(Fe.buttons=et),tt&&(Fe.buttonPrefix=tt),wt&&(Fe.buttonSuffix=wt),bt&&(Fe.tools=bt),nt&&(Fe.toolPrefix=nt),Mt&&(Fe.toolSuffix=Mt)}be.push(w(tl,Object.assign(Object.assign({ref:S},se),{slots:void 0}),Fe))}return w("div",{ref:q,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},be)}return Po(X)},yt=()=>n.top?w("div",{ref:P,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:X})):Po(X),Ct=()=>{const ne=n.left;return ne?w("div",{class:"vxe-grid--left-wrapper"},ne({$grid:X})):Po(X)},it=()=>{const ne=n.right;return ne?w("div",{class:"vxe-grid--right-wrapper"},ne({$grid:X})):Po(X)},vt=()=>{const{proxyConfig:ne}=e,se=Ce.value,be=D.value,ke=Object.assign({},ze),Fe=n.empty,et=n.loading,tt=n.rowDragIcon||n["row-drag-icon"],wt=n.columnDragIcon||n["column-drag-icon"];ne&&Et(be)&&(be.sort&&(ke.onSortChange=he),be.filter&&(ke.onFilterChange=Te));const bt={};return Fe&&(bt.empty=Fe),et&&(bt.loading=et),tt&&(bt.rowDragIcon=tt),wt&&(bt.columnDragIcon=wt),w("div",{class:"vxe-grid--table-wrapper"},[w(el,Object.assign(Object.assign({ref:R},se),ke),bt)])},xt=()=>n.bottom?w("div",{ref:V,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:X})):Po(X),Xe=()=>{const{proxyConfig:ne,pagerConfig:se}=e,be=D.value,ke=z.value,Fe=n.pager;return se&&Et(ke)||n.pager?w("div",{ref:G,key:"pager",class:"vxe-grid--pager-wrapper"},Fe?Fe({$grid:X}):[v?w(v,Object.assign(Object.assign(Object.assign({ref:F},ke),ne&&Et(be)?i.tablePage:{}),{onPageChange:de}),Ue(ke.slots)):Po(X)]):Po(X)},Ve=ne=>{const se=[];return ne.forEach(be=>{switch(be){case"Form":se.push(_e());break;case"Toolbar":se.push(lt());break;case"Top":se.push(yt());break;case"Table":se.push(w("div",{key:"table",class:"vxe-grid--table-container"},[Ct(),vt(),it()]));break;case"Bottom":se.push(xt());break;case"Pager":se.push(Xe());break;default:je("vxe.error.notProp",[`layouts -> ${be}`]);break}}),se},ft=()=>{const ne=ve.value,{headKeys:se,bodyKeys:be,footKeys:ke}=ne,Fe=n.asideLeft||n["aside-left"],et=n.asideRight||n["aside-right"];return[w("div",{class:"vxe-grid--layout-header-wrapper"},Ve(se)),w("div",{class:"vxe-grid--layout-body-wrapper"},[Fe?w("div",{class:"vxe-grid--layout-aside-left-wrapper"},Fe({})):Po(X),w("div",{class:"vxe-grid--layout-body-content-wrapper"},Ve(be)),et?w("div",{class:"vxe-grid--layout-aside-right-wrapper"},et({})):Po(X)]),w("div",{class:"vxe-grid--layout-footer-wrapper"},Ve(ke))]},ze={};Nf.forEach(ne=>{const se=f.camelCase(`on-${ne}`);ze[se]=(...be)=>u(ne,...be)});const ot=()=>{const{proxyConfig:ne,formConfig:se}=e,{proxyInited:be}=i,ke=D.value,Fe=J.value;if(ne&&Et(ke)){if(se&&Et(Fe)&&ke.form&&Fe.items){const et={};Fe.items.forEach(tt=>{const{field:wt,itemRender:bt}=tt;if(wt){let nt=null;if(bt){const{defaultValue:Mt}=bt;f.isFunction(Mt)?nt=Mt({item:tt}):f.isUndefined(Mt)||(nt=Mt)}et[wt]=nt}}),i.formData=et}be||(i.proxyInited=!0,ke.autoLoad!==!1&&pe().then(()=>$e.commitProxy("_init")).then(et=>{$e.dispatchEvent("proxy-query",Object.assign(Object.assign({},et),{isInited:!0}),new Event("init"))}))}},Ae=ne=>{const se=j.value;Jd.hasKey(ne,TR.ESCAPE)&&i.isZMax&&se.escRestore!==!1&&Ze.triggerZoomEvent(ne)},$e={dispatchEvent:(ne,se,be)=>{u(ne,MR(be,{$grid:X},se))},getEl(){return s.value},commitProxy(ne,...se){const{toolbarConfig:be,pagerConfig:ke,editRules:Fe,validConfig:et}=e,{tablePage:tt}=i,wt=L.value,bt=M.value,nt=D.value,Mt=z.value,ht=k.value,{beforeQuery:$t,afterQuery:nr,beforeDelete:Zt,afterDelete:Vt,beforeSave:zt,afterSave:er,ajax:ct={}}=nt,Lt=nt.response||nt.props||{},St=R.value,gr=te();let tr=null,Pt=null;if(f.isString(ne)){const{buttons:Gt}=ht,jt=be&&Et(ht)&&Gt?f.findTree(Gt,lr=>lr.code===ne,{children:"dropdowns"}):null;tr=jt?jt.item:null,Pt=ne}else tr=ne,Pt=tr.code;const Lr=tr?tr.params:null;switch(Pt){case"insert":return St.insert({});case"insert_edit":return St.insert({}).then(({row:Gt})=>St.setEditRow(Gt));case"insert_actived":return St.insert({}).then(({row:Gt})=>St.setEditRow(Gt));case"mark_cancel":we(Pt);break;case"remove":return Oe(Pt,"vxe.grid.removeSelectRecord",()=>St.removeCheckboxRow());case"import":St.importData(Lr);break;case"open_import":St.openImport(Lr);break;case"export":St.exportData(Lr);break;case"open_export":St.openExport(Lr);break;case"reset_custom":return St.resetCustom(!0);case"_init":case"reload":case"query":{const Gt=ct.query,jt=ct.querySuccess,lr=ct.queryError;if(Gt){const ir=Pt==="_init",yr=Pt==="reload";if(!ir&&i.tableLoading)return pe();let Er=[],xr=[],vr={};if(ke&&((ir||yr)&&(tt.currentPage=1),Et(Mt)&&(vr=Object.assign({},tt))),ir){let Ot=null;if(St){const{computeSortOpts:ut}=St.getComputeMaps();Ot=ut.value.defaultSort}Ot&&(f.isArray(Ot)||(Ot=[Ot]),Er=Ot.map(ut=>({field:ut.field,property:ut.field,order:ut.order}))),St&&(xr=St.getCheckedFilters())}else St&&(yr?St.clearAll():(Er=St.getSortColumns(),xr=St.getCheckedFilters()));const Cr={code:Pt,button:tr,isInited:ir,isReload:yr,$grid:X,page:vr,sort:Er.length?Er[0]:{},sorts:Er,filters:xr,form:gr,options:Gt};return i.sortData=Er,i.filterData=xr,i.tableLoading=!0,Promise.resolve(($t||Gt)(Cr,...se)).then(Ot=>{let ut=[];if(i.tableLoading=!1,Ot)if(ke&&Et(Mt)){const cr=Lt.total,Xr=(f.isFunction(cr)?cr({data:Ot,$grid:X}):f.get(Ot,cr||"page.total"))||0;tt.total=f.toNumber(Xr);const po=Lt.result;ut=(f.isFunction(po)?po({data:Ot,$grid:X}):f.get(Ot,po||"result"))||[];const Br=Math.max(Math.ceil(Xr/tt.pageSize),1);tt.currentPage>Br&&(tt.currentPage=Br)}else{const cr=Lt.list;ut=(cr?f.isFunction(cr)?cr({data:Ot,$grid:X}):f.get(Ot,cr):Ot)||[]}return St?St.loadData(ut):pe(()=>{St&&St.loadData(ut)}),nr&&nr(Cr,...se),jt&&jt(Object.assign(Object.assign({},Cr),{response:Ot})),{status:!0}}).catch(Ot=>(i.tableLoading=!1,lr&&lr(Object.assign(Object.assign({},Cr),{response:Ot})),{status:!1}))}else je("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const Gt=ct.delete,jt=ct.deleteSuccess,lr=ct.deleteError;if(Gt){const ir=Q.getCheckboxRecords(),yr=ir.filter(vr=>!St.isInsertByRow(vr)),xr={$grid:X,code:Pt,button:tr,body:{removeRecords:yr},form:gr,options:Gt};if(ir.length)return Oe(Pt,"vxe.grid.deleteSelectRecord",()=>yr.length?(i.tableLoading=!0,Promise.resolve((Zt||Gt)(xr,...se)).then(vr=>(i.tableLoading=!1,St.setPendingRow(yr,!1),bt&&xe.modal&&xe.modal.message({content:ie(vr,"vxe.grid.delSuccess"),status:"success"}),Vt?Vt(xr,...se):$e.commitProxy("query"),jt&&jt(Object.assign(Object.assign({},xr),{response:vr})),{status:!0})).catch(vr=>(i.tableLoading=!1,bt&&xe.modal&&xe.modal.message({id:Pt,content:ie(vr,"vxe.grid.operError"),status:"error"}),lr&&lr(Object.assign(Object.assign({},xr),{response:vr})),{status:!1}))):St.remove(ir));wt&&xe.modal&&xe.modal.message({id:Pt,content:El("vxe.grid.selectOneRecord"),status:"warning"})}else je("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const Gt=ct.save,jt=ct.saveSuccess,lr=ct.saveError;if(Gt){const ir=St.getRecordset(),{insertRecords:yr,removeRecords:Er,updateRecords:xr,pendingRecords:vr}=ir,Cr={$grid:X,code:Pt,button:tr,body:ir,form:gr,options:Gt};yr.length&&(ir.pendingRecords=vr.filter(ut=>St.findRowIndexOf(yr,ut)===-1)),vr.length&&(ir.insertRecords=yr.filter(ut=>St.findRowIndexOf(vr,ut)===-1));let Ot=Promise.resolve();return Fe&&(Ot=St[et&&et.msgMode==="full"?"fullValidate":"validate"](ir.insertRecords.concat(xr))),Ot.then(ut=>{if(!ut){if(ir.insertRecords.length||Er.length||xr.length||ir.pendingRecords.length)return i.tableLoading=!0,Promise.resolve((zt||Gt)(Cr,...se)).then(cr=>(i.tableLoading=!1,St.clearPendingRow(),bt&&xe.modal&&xe.modal.message({content:ie(cr,"vxe.grid.saveSuccess"),status:"success"}),er?er(Cr,...se):$e.commitProxy("query"),jt&&jt(Object.assign(Object.assign({},Cr),{response:cr})),{status:!0})).catch(cr=>(i.tableLoading=!1,bt&&xe.modal&&xe.modal.message({id:Pt,content:ie(cr,"vxe.grid.operError"),status:"error"}),lr&&lr(Object.assign(Object.assign({},Cr),{response:cr})),{status:!1}));wt&&xe.modal&&xe.modal.message({id:Pt,content:El("vxe.grid.dataUnchanged"),status:"info"})}})}else je("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const Gt=SR.get(Pt);if(Gt){const jt=Gt.tableCommandMethod||Gt.commandMethod;jt?jt({code:Pt,button:tr,$grid:X,$table:St},...se):je("vxe.error.notCommands",[Pt])}}}return pe()},zoom(){return i.isZMax?$e.revert():$e.maximize()},isMaximized(){return i.isZMax},maximize(){return Ye(!0)},revert(){return Ye()},getFormData:te,getFormItems(ne){const se=J.value,{formConfig:be}=e,{items:ke}=se,Fe=[];return f.eachTree(be&&Et(se)&&ke?ke:[],et=>{Fe.push(et)},{children:"children"}),f.isUndefined(ne)?Fe:Fe[ne]},getProxyInfo(){const ne=R.value;if(e.proxyConfig){const{sortData:se}=i;return{data:ne?ne.getFullData():[],filter:i.filterData,form:te(),sort:se.length?se[0]:{},sorts:se,pager:i.tablePage,pendingRecords:ne?ne.getPendingRecords():[]}}return null}},Ze={extendTableMethods:ae,callSlot(ne,se){return ne&&(f.isString(ne)&&(ne=n[ne]||null),f.isFunction(ne))?qr(ne(se)):[]},getExcludeHeight(){const{isZMax:ne}=i,se=s.value;if(se){const be=_.value,ke=q.value,Fe=P.value,et=V.value,tt=G.value,wt=se.parentElement;return(ne?0:wt?pf(wt):0)+pf(se)+li(be)+li(ke)+li(Fe)+li(et)+li(tt)}return 0},getParentHeight(){const ne=s.value;if(ne){const se=ne.parentElement;return(i.isZMax?vs().visibleHeight:se?f.toNumber(getComputedStyle(se).height):0)-Ze.getExcludeHeight()}return 0},triggerToolbarCommitEvent(ne,se){const{code:be}=ne;return $e.commitProxy(ne,se).then(ke=>{be&&ke&&ke.status&&["query","reload","delete","save"].includes(be)&&$e.dispatchEvent(be==="delete"||be==="save"?`proxy-${be}`:"proxy-query",Object.assign(Object.assign({},ke),{isReload:be==="reload"}),se)})},triggerToolbarBtnEvent(ne,se){Ze.triggerToolbarCommitEvent(ne,se),$e.dispatchEvent("toolbar-button-click",{code:ne.code,button:ne},se)},triggerToolbarTolEvent(ne,se){Ze.triggerToolbarCommitEvent(ne,se),$e.dispatchEvent("toolbar-tool-click",{code:ne.code,tool:ne},se)},triggerZoomEvent(ne){$e.zoom(),$e.dispatchEvent("zoom",{type:i.isZMax?"max":"revert"},ne)}};Object.assign(X,Q,$e,Ze,{loadColumn(ne){const se=R.value;return f.eachTree(ne,be=>{be.slots&&f.each(be.slots,ke=>{f.isFunction(ke)||n[ke]||je("vxe.error.notSlot",[ke])})}),se?se.loadColumn(ne):pe()},reloadColumn(ne){return X.clearAll(),X.loadColumn(ne)}});const Rt=Pe(0);It(()=>e.columns?e.columns.length:-1,()=>{Rt.value++}),It(()=>e.columns,()=>{Rt.value++}),It(Rt,()=>{pe(()=>X.loadColumn(e.columns||[]))}),It(()=>e.toolbarConfig,()=>{oe()}),It(fe,()=>{le("currentPage")}),It(Me,()=>{le("pageSize")}),It(Re,()=>{le("total")}),It(()=>e.proxyConfig,()=>{ot()}),OR.forEach(ne=>{const{setupGrid:se}=ne;if(se){const be=se(X);be&&f.isObject(be)&&Object.assign(X,be)}}),le(),nn(()=>{pe(()=>{const{columns:ne}=e;e.formConfig&&(d||je("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(v||je("vxe.error.reqComp",["vxe-pager"])),ne&&ne.length&&X.loadColumn(ne),oe(),ot()}),Jd.on(X,"keydown",Ae)}),rl(()=>{Jd.off(X,"keydown")});const At=()=>{const ne=x.value,se=Z.value;return w("div",{ref:s,class:["vxe-grid",{[`size--${ne}`]:ne,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":i.isZMax,"is--loading":e.loading||i.tableLoading}],style:se},ft())};return X.renderVN=At,On("$xeGrid",X),X},render(){return this.renderVN()}}),kR=Object.assign({},Al,{install(e){e.component(Al.name,Al)}});xe.dynamicApp&&xe.dynamicApp.component(Al.name,Al);xe.component(Al);function AR(e){const t=qe(()=>{const{renderParams:c}=e;return c.column}),o=qe(()=>{const{renderParams:c}=e;return c.row}),n=qe(()=>{const{renderOpts:c}=e;return c.props||{}}),u=qe({get(){const{renderParams:c}=e,{row:d,column:v}=c;return f.get(d,v.field)},set(c){const{renderParams:d}=e,{row:v,column:m}=d;return f.set(v,m.field,c)}});return{currColumn:t,currRow:o,cellModel:u,cellOptions:n}}const{renderer:Qm,hooks:LR}=xe,HR=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];LR.add("tableFilterModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u,refTableFilter:c}=e.getRefMaps(),{computeFilterOpts:d,computeMouseOpts:v}=e.getComputeMaps(),m=S=>{const{filterStore:F}=o;F.options.forEach(_=>{_.checked=_._checked}),e.confirmFilterEvent(S)},x=(S,F,_)=>{const{filterStore:q}=o;q.options.forEach(P=>{P._checked=!1}),_._checked=F,e.checkFilterOptions(),m(S)},i=(S,F,_)=>{_._checked=F,e.checkFilterOptions()},s=S=>{const{filterStore:F}=o;e.handleClearFilter(F.column),e.confirmFilterEvent(S),S&&e.dispatchEvent("clear-filter",{filterList:[]},S)},R={checkFilterOptions(){const{filterStore:S}=o;S.isAllSelected=S.options.every(F=>F._checked),S.isIndeterminate=!S.isAllSelected&&S.options.some(F=>F._checked)},triggerFilterEvent(S,F,_){const{initStore:q,filterStore:P}=o,{elemStore:V}=n;if(P.column===F&&P.visible)P.visible=!1;else{const G=u.value,{scrollTop:ae,scrollLeft:Q,visibleHeight:D,visibleWidth:M}=vs(),L=d.value,{transfer:z}=L,J=G.getBoundingClientRect(),k=S.currentTarget,{filters:j,filterMultiple:Z,filterRender:ge}=F,Ce=Et(ge)?Qm.get(ge.name):null,ve=F.filterRecoverMethod||(Ce?Ce.tableFilterRecoverMethod||Ce.filterRecoverMethod:null);n._currFilterParams=_,Object.assign(P,{multiple:Z,options:j,column:F,style:null}),P.options.forEach(fe=>{const{_checked:Me,checked:Re}=fe;fe._checked=Re,!Re&&Me!==Re&&ve&&ve({option:fe,column:F,$table:e})}),this.checkFilterOptions(),P.visible=!0,q.filter=!0,pe(()=>{if(!rt(V["main-header-scroll"]))return;const Me=c.value,Re=Me?Me.getRefMaps().refElem.value:null;if(!Re)return;const re=k.getBoundingClientRect(),ue=Re.querySelector(".vxe-table--filter-header"),X=Re.querySelector(".vxe-table--filter-footer"),oe=Re.offsetWidth,te=oe/2;let le=0,we=0,ie=0;z?(le=re.left-te+Q,we=re.top+k.clientHeight+ae,ie=Math.min(Math.max(J.height,Math.floor(D/2)),Math.max(80,D-we-(ue?ue.clientHeight:0)-(X?X.clientHeight:0)-28)),le<16?le=16:le>M-oe-16&&(le=M-oe-16)):(le=re.left-J.left-te,we=re.top-J.top+k.clientHeight,ie=Math.max(40,G.clientHeight-we-(ue?ue.clientHeight:0)-(X?X.clientHeight:0)-14),le<1?le=1:le>G.clientWidth-oe-1&&(le=G.clientWidth-oe-1)),P.style={top:bi(we),left:bi(le)},P.maxHeight=ie})}e.dispatchEvent("filter-visible",{column:F,field:F.field,property:F.field,filterList:e.getCheckedFilters(),visible:P.visible},S)},handleClearFilter(S){if(S){const{filters:F,filterRender:_}=S;if(F){const q=Et(_)?Qm.get(_.name):null,P=S.filterResetMethod||(q?q.tableFilterResetMethod||q.filterResetMethod:null);F.forEach(V=>{V._checked=!1,V.checked=!1,P||(V.data=f.clone(V.resetValue,!0))}),P&&P({options:F,column:S,$table:e})}}},handleColumnConfirmFilter(S,F){const{mouseConfig:_}=t,{scrollXLoad:q,scrollYLoad:P}=o,V=d.value,G=v.value,{field:ae}=S,Q=[],D=[];S.filters.forEach(z=>{z.checked&&(Q.push(z.value),D.push(z.data))});const M=e.getCheckedFilters(),L={$table:e,$event:F,column:S,field:ae,property:ae,values:Q,datas:D,filters:M,filterList:M};return V.remote||(e.handleTableData(!0),e.checkSelectionStatus()),_&&G.area&&e.handleFilterEvent&&e.handleFilterEvent(F,L),F&&e.dispatchEvent("filter-change",L,F),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:z,scrollYLoad:J}=o;if(q||z||P||J)return(q||z)&&e.updateScrollXSpace(),(P||J)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(S){const{filterStore:F}=o,{column:_}=F;e.handleColumnConfirmFilter(_,S)},handleFilterChangeRadioOption:x,handleFilterChangeMultipleOption:i,handleFilterChangeOption(S,F,_){const{filterStore:q}=o;q.multiple?i(S,F,_):x(S,F,_)},handleFilterConfirmFilter:m,handleFilterResetFilter:s};return Object.assign(Object.assign({},{openFilter(S){const F=sr(e,S);if(F&&F.filters){const{elemStore:_}=n,{fixed:q}=F;return e.scrollToColumn(F).then(()=>{const P=rt(_[`${q||"main"}-header-wrapper`]||_["main-header-wrapper"]);if(P){const V=P.querySelector(`.vxe-header--column.${F.id} .vxe-cell--filter`);jE(V,"click")}})}return pe()},setFilter(S,F,_){const q=sr(e,S);return q&&q.filters&&(q.filters=Pf(F||[]),_)?e.handleColumnConfirmFilter(q,new Event("click")):pe()},clearFilter(S){const{filterStore:F}=o,{tableFullColumn:_}=n,q=d.value;let P;return S?(P=sr(e,S),P&&e.handleClearFilter(P)):_.forEach(e.handleClearFilter),(!S||P!==F.column)&&Object.assign(F,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),q.remote?pe():e.updateData()},saveFilterPanel(){return m(null),pe()},saveFilterPanelByEvent(S){return m(S),pe()},resetFilterPanel(){return s(null),pe()},resetFilterPanelByEvent(S){return s(S),pe()},getCheckedFilters(){const{tableFullColumn:S}=n,F=[];return S.forEach(_=>{const{field:q,filters:P}=_,V=[],G=[];P&&P.length&&(P.forEach(ae=>{ae.checked&&(V.push(ae.value),G.push(ae.data))}),V.length&&F.push({column:_,field:q,property:q,values:V,datas:G}))}),F},updateFilterOptionStatus(S,F){return S._checked=F,S.checked=F,pe()}}),R)},setupGrid(e){return e.extendTableMethods(HR)}});const{menus:_R,hooks:qR,globalEvents:Bi,GLOBAL_EVENT_KEYS:$i}=xe,PR=["closeMenu"];qR.add("tableMenuModule",{setupTable(e){const{xID:t,props:o,reactData:n,internalData:u}=e,{refElem:c,refTableFilter:d,refTableMenu:v}=e.getRefMaps(),{computeMouseOpts:m,computeIsMenu:x,computeMenuOpts:i}=e.getComputeMaps();let s={},R={};const O=(S,F,_)=>{const{ctxMenuStore:q}=n,P=x.value,V=i.value,G=V[F],ae=V.visibleMethod;if(G){const{options:Q,disabled:D}=G;D?S.preventDefault():P&&Q&&Q.length&&(_.options=Q,e.preventEvent(S,"event.showMenu",_,()=>{if(!ae||ae(_)){S.preventDefault(),e.updateZindex();const{scrollTop:M,scrollLeft:L,visibleHeight:z,visibleWidth:J}=vs();let k=S.clientY+M,j=S.clientX+L;const Z=()=>{u._currMenuParams=_,Object.assign(q,{visible:!0,list:Q,selected:null,selectChild:null,showChild:!1,style:{zIndex:u.tZindex,top:`${k}px`,left:`${j}px`}}),pe(()=>{const Me=v.value.getRefMaps().refElem.value,Re=Me.clientHeight,re=Me.clientWidth,{boundingTop:ue,boundingLeft:X}=Ki(Me),oe=ue+Re-z,te=X+re-J;oe>-10&&(q.style.top=`${Math.max(M+2,k-Re-2)}px`),te>-10&&(q.style.left=`${Math.max(L+2,j-re-2)}px`)})},{keyboard:ge,row:Ce,column:ve}=_;ge&&Ce&&ve?e.scrollToRow(Ce,ve).then(()=>{const fe=e.getCellElement(Ce,ve);if(fe){const{boundingTop:Me,boundingLeft:Re}=Ki(fe);k=Me+M+Math.floor(fe.offsetHeight/2),j=Re+L+Math.floor(fe.offsetWidth/2)}Z()}):Z()}else s.closeMenu()}))}e.closeFilter()};return s={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),pe()}},R={moveCtxMenu(S,F,_,q,P,V){let G;const ae=f.findIndexOf(V,Q=>F[_]===Q);if(q)P&&Fl(F.selected)?F.showChild=!0:(F.showChild=!1,F.selectChild=null);else if(Bi.hasKey(S,$i.ARROW_UP)){for(let Q=ae-1;Q>=0;Q--)if(V[Q].visible!==!1){G=V[Q];break}F[_]=G||V[V.length-1]}else if(Bi.hasKey(S,$i.ARROW_DOWN)){for(let Q=ae+1;Q<V.length;Q++)if(V[Q].visible!==!1){G=V[Q];break}F[_]=G||V[0]}else F[_]&&(Bi.hasKey(S,$i.ENTER)||Bi.hasKey(S,$i.SPACEBAR))&&e.ctxMenuLinkEvent(S,F[_])},handleOpenMenuEvent:O,handleGlobalContextmenuEvent(S){const{mouseConfig:F,menuConfig:_}=o,{editStore:q,ctxMenuStore:P}=n,{visibleColumn:V}=u,G=d.value,ae=v.value,Q=m.value,D=i.value,M=c.value,{selected:L}=q,z=["header","body","footer"];if(Et(_)){if(P.visible&&ae&&Bt(S,ae.getRefMaps().refElem.value).flag){S.preventDefault();return}if(u._keyCtx){const J="body",k={type:J,$table:e,keyboard:!0,columns:V.slice(0),$event:S};if(F&&Q.area){const j=e.getActiveCellArea();if(j&&j.row&&j.column){k.row=j.row,k.column=j.column,O(S,J,k);return}}else if(F&&Q.selected&&L.row&&L.column){k.row=L.row,k.column=L.column,O(S,J,k);return}}for(let J=0;J<z.length;J++){const k=z[J],j=Bt(S,M,`vxe-${k}--column`,ge=>ge.parentNode.parentNode.parentNode.getAttribute("xid")===t),Z={type:k,$table:e,columns:V.slice(0),$event:S};if(j.flag){const ge=j.targetElem,Ce=e.getColumnNode(ge),ve=Ce?Ce.item:null;let fe=`${k}-`;if(ve&&Object.assign(Z,{column:ve,columnIndex:e.getColumnIndex(ve),cell:ge}),k==="body"){const Re=e.getRowNode(ge.parentNode),re=Re?Re.item:null;fe="",re&&(Z.row=re,Z.rowIndex=e.getRowIndex(re))}const Me=`${fe}cell-menu`;O(S,k,Z),e.dispatchEvent(Me,Z,S);return}else if(Bt(S,M,`vxe-table--${k}-wrapper`,ge=>ge.getAttribute("xid")===t).flag){D.trigger==="cell"?S.preventDefault():O(S,k,Z);return}}}G&&!Bt(S,G.getRefMaps().refElem.value).flag&&e.closeFilter(),s.closeMenu()},ctxMenuMouseoverEvent(S,F,_){const q=S.currentTarget,{ctxMenuStore:P}=n;S.preventDefault(),S.stopPropagation(),P.selected=F,P.selectChild=_,_||(P.showChild=Fl(F),P.showChild&&pe(()=>{const V=q.nextElementSibling;if(V){const{boundingTop:G,boundingLeft:ae,visibleHeight:Q,visibleWidth:D}=Ki(q),M=G+q.offsetHeight,L=ae+q.offsetWidth;let z="",J="";L+V.offsetWidth>D-10&&(z="auto",J=`${q.offsetWidth}px`);let k="",j="";M+V.offsetHeight>Q-10&&(k="auto",j="0"),V.style.left=z,V.style.right=J,V.style.top=k,V.style.bottom=j}}))},ctxMenuMouseoutEvent(S,F){const{ctxMenuStore:_}=n;F.children||(_.selected=null),_.selectChild=null},ctxMenuLinkEvent(S,F){const _=e.xeGrid;if(!F.disabled&&(F.code||!F.children||!F.children.length)){const q=_R.get(F.code),P=Object.assign({},u._currMenuParams,{menu:F,$table:e,$grid:_,$event:S}),V=q?q.tableMenuMethod||q.menuMethod:null;V&&V(P,S),e.dispatchEvent("menu-click",P,S),s.closeMenu()}}},Object.assign(Object.assign({},s),R)},setupGrid(e){return e.extendTableMethods(PR)}});const{getConfig:NR,renderer:BR,hooks:$R,getI18n:eb}=xe,VR=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];$R.add("tableEditModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeMouseOpts:c,computeEditOpts:d,computeCheckboxOpts:v,computeTreeOpts:m,computeValidOpts:x}=e.getComputeMaps(),i=f.browse();let s={},R={};const O=(D,M)=>{const{model:L,editRender:z}=M;z&&(L.value=wr(D,M),L.update=!1)},S=(D,M)=>{const{model:L,editRender:z}=M;z&&L.update&&(Mo(D,M,L.value),L.update=!1,L.value=null)},F=()=>{const D=u.value;if(D){const M=D.querySelector(".col--selected");M&&eo(M,"col--selected")}},_=()=>{const{editStore:D,tableColumn:M}=o,L=d.value,{actived:z}=D,{row:J,column:k}=z;(J||k)&&(L.mode==="row"?M.forEach(j=>S(J,j)):S(J,k))},q=(D,M)=>{const{tableFullTreeData:L,afterFullData:z,fullDataRowIdData:J,fullAllDataRowIdData:k}=n,j=m.value,{rowField:Z,parentField:ge,mapChildrenField:Ce}=j,ve=j.children||j.childrenField,fe=M?"push":"unshift";D.forEach(Me=>{const Re=Me[ge],re=Ne(e,Me),ue=Re?f.findTree(L,X=>Re===X[Z],{children:Ce}):null;if(ue){const{item:X}=ue,oe=k[Ne(e,X)],te=oe?oe.level:0;let le=X[ve],we=X[Ce];f.isArray(le)||(le=X[ve]=[]),f.isArray(we)||(we=X[ve]=[]),le[fe](Me),we[fe](Me);const ie={row:Me,rowid:re,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:le,parent:X,level:te+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};J[re]=ie,k[re]=ie}else{Re&&st("vxe.error.unableInsert"),z[fe](Me),L[fe](Me);const X={row:Me,rowid:re,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:L,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};J[re]=X,k[re]=X}})},P=(D,M,L)=>{const{treeConfig:z}=t,{tableFullTreeData:J,afterFullData:k,mergeBodyList:j,tableFullData:Z,fullDataRowIdData:ge,fullAllDataRowIdData:Ce,insertRowMaps:ve}=n,fe=m.value,{transform:Me,rowField:Re,mapChildrenField:re}=fe,ue=fe.children||fe.childrenField;f.isArray(D)||(D=[D]);const X=to(e.defineField(D.map(oe=>Object.assign(z&&Me?{[re]:[],[ue]:[]}:{},oe))));if(f.eqNull(M))z&&Me?q(X,!1):(X.forEach(oe=>{const te=Ne(e,oe),le={row:oe,rowid:te,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ge[te]=le,Ce[te]=le,k.unshift(oe),Z.unshift(oe)}),j.forEach(oe=>{const{row:te}=oe;te>0&&(oe.row=te+X.length)}));else if(M===-1)z&&Me?q(X,!0):(X.forEach(oe=>{const te=Ne(e,oe),le={row:oe,rowid:te,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:k,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ge[te]=le,Ce[te]=le,k.push(oe),Z.push(oe)}),j.forEach(oe=>{const{row:te,rowspan:le}=oe;te+le>k.length&&(oe.rowspan=le+X.length)}));else if(z&&Me){const oe=f.findTree(J,te=>M[Re]===te[Re],{children:re});if(oe){const{parent:te}=oe,le=te?te[re]:J,we=Ce[Ne(e,te)],ie=we?we.level:0;if(X.forEach((Oe,de)=>{const he=Ne(e,Oe);Oe[fe.parentField]&&te&&Oe[fe.parentField]!==te[Re]&&je("vxe.error.errProp",[`${fe.parentField}=${Oe[fe.parentField]}`,`${fe.parentField}=${te[Re]}`]),te&&(Oe[fe.parentField]=te[Re]);let Te=oe.index+de;L&&(Te=Te+1),le.splice(Te,0,Oe);const me={row:Oe,rowid:he,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:le,parent:te,level:ie+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};ge[he]=me,Ce[he]=me}),te){const Oe=f.findTree(J,de=>M[Re]===de[Re],{children:ue});if(Oe){const de=Oe.items;let he=Oe.index;L&&(he=he+1),de.splice(he,0,...X)}}}else st("vxe.error.unableInsert"),q(X,!0)}else{if(z)throw new Error(eb("vxe.error.noTree",["insert"]));let oe=-1;if(f.isNumber(M)?M<k.length&&(oe=M):oe=e.findRowIndexOf(k,M),L&&(oe=Math.min(k.length,oe+1)),oe===-1)throw new Error(eb("vxe.error.unableInsert"));k.splice(oe,0,...X);const te=e.findRowIndexOf(Z,M);te>-1?Z.splice(te+(L?1:0),0,...X):Z.push(...X),j.forEach(le=>{const{row:we,rowspan:ie}=le;we>oe?le.row=we+X.length:we+ie>oe&&(le.rowspan=ie+X.length)})}return X.forEach(oe=>{const te=Ne(e,oe);ve[te]=oe}),o.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(z&&Me),z&&Me||e.updateAfterDataIndex(),e.updateFooter(),e.handleUpdateBodyMerge(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),pe().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:X.length?X[X.length-1]:null,rows:X}))},V=(D,M,L,z)=>{const{treeConfig:J}=t,k=m.value,{transform:j,rowField:Z,parentField:ge}=k;return J&&j?(f.isArray(D)||(D=[D]),P(D.map(Ce=>Object.assign({},Ce,{[ge]:M[Z]})),L,z)):(je("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},G=(D,M)=>{const{editStore:L}=o,{actived:z,focused:J}=L,{row:k,column:j}=z,Z=x.value;if(k||j){if(M&&Ne(e,M)!==Ne(e,k))return pe();_(),z.args=null,z.row=null,z.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k),column:j,columnIndex:e.getColumnIndex(j),$columnIndex:e.getVMColumnIndex(j)},D||null)}return J.row=null,J.column=null,Z.autoClear&&(Z.msgMode!=="full"||NR().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():pe().then(()=>e.updateCellAreas())},ae=(D,M,L,z)=>{const J=e.xeGrid,{editConfig:k,mouseConfig:j}=t,{editStore:Z,tableColumn:ge}=o,Ce=d.value,{mode:ve}=Ce,{actived:fe,focused:Me}=Z,{row:Re,column:re}=D,{editRender:ue}=re,X=D.cell||e.getCellElement(Re,re),oe=Ce.beforeEditMethod||Ce.activeMethod;if(D.cell=X,X&&Et(k)&&Et(ue)&&!e.isPendingByRow(Re)&&!e.isAggregateRecord(Re)){if(fe.row!==Re||ve==="cell"&&fe.column!==re){let te="edit-disabled";if(!oe||oe(Object.assign(Object.assign({},D),{$table:e,$grid:J}))){j&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),fe.column&&G(M),te="edit-activated",re.renderHeight=X.offsetHeight,fe.args=D,fe.row=Re,fe.column=re,ve==="row"?ge.forEach(we=>O(Re,we)):O(Re,re);const le=Ce.afterEditMethod;pe(()=>{L&&e.handleFocus(D,M),le&&le(Object.assign(Object.assign({},D),{$table:e,$grid:J}))})}e.dispatchEvent(te,{row:Re,rowIndex:e.getRowIndex(Re),$rowIndex:e.getVMRowIndex(Re),column:re,columnIndex:e.getColumnIndex(re),$columnIndex:e.getVMColumnIndex(re)},M),te==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Re,rowIndex:e.getRowIndex(Re),$rowIndex:e.getVMRowIndex(Re),column:re,columnIndex:e.getColumnIndex(re),$columnIndex:e.getVMColumnIndex(re)},M)}else{const{column:te}=fe;if(j&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),te!==re){const{model:le}=te;le.update&&Mo(Re,te,le.value),e.clearValidate&&e.clearValidate(Re,re)}re.renderHeight=X.offsetHeight,fe.args=D,fe.column=re,z&&setTimeout(()=>{e.handleFocus(D,M)})}Me.column=null,Me.row=null,e.focus()}return pe()},Q=(D,M,L)=>{const{editConfig:z}=t,J=f.isString(M)?e.getColumnByField(M):M;return D&&J&&Et(z)&&Et(J.editRender)&&!e.isAggregateRecord(D)?Promise.resolve(L?e.scrollToRow(D,J):null).then(()=>{const k=e.getCellElement(D,J);return k&&(ae({row:D,rowIndex:e.getRowIndex(D),column:J,columnIndex:e.getColumnIndex(J),cell:k,$table:e},null,L,L),n._lastCallTime=Date.now()),pe()}):pe()};return s={insert(D){return P(D,null)},insertAt(D,M){return P(D,M)},insertNextAt(D,M){return P(D,M,!0)},insertChild(D,M){return V(D,M,null)},insertChildAt(D,M,L){return V(D,M,L)},insertChildNextAt(D,M,L){return V(D,M,L,!0)},remove(D){const{treeConfig:M}=t,{editStore:L}=o,{tableFullTreeData:z,selectCheckboxMaps:J,afterFullData:k,mergeBodyList:j,tableFullData:Z,pendingRowMaps:ge,insertRowMaps:Ce,removeRowMaps:ve}=n,fe=v.value,Me=m.value,{transform:Re,mapChildrenField:re}=Me,ue=Me.children||Me.childrenField,{actived:X}=L,{checkField:oe}=fe;let te=[];return D?f.isArray(D)||(D=[D]):D=Z,D.forEach(le=>{if(!e.isInsertByRow(le)){const we=Ne(e,le);ve[we]=le}}),oe||(D.forEach(le=>{const we=Ne(e,le);J[we]&&delete J[we]}),o.updateCheckboxFlag++),Z===D?(D=te=Z.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):M&&Re?D.forEach(le=>{const we=Ne(e,le),ie=f.findTree(z,he=>we===Ne(e,he),{children:re});if(ie){const he=ie.items.splice(ie.index,1);te.push(he[0])}const Oe=f.findTree(z,he=>we===Ne(e,he),{children:ue});Oe&&Oe.items.splice(Oe.index,1);const de=e.findRowIndexOf(k,le);de>-1&&k.splice(de,1)}):D.forEach(le=>{const we=e.findRowIndexOf(Z,le);if(we>-1){const Oe=Z.splice(we,1);te.push(Oe[0])}const ie=e.findRowIndexOf(k,le);ie>-1&&(j.forEach(Oe=>{const{row:de,rowspan:he}=Oe;de>ie?Oe.row=de-1:de+he>ie&&(Oe.rowspan=he-1)}),k.splice(ie,1))}),X.row&&e.findRowIndexOf(D,X.row)>-1&&s.clearEdit(),D.forEach(le=>{const we=Ne(e,le);Ce[we]&&delete Ce[we],ge[we]&&delete ge[we]}),o.removeRowFlag++,o.insertRowFlag++,o.pendingRowFlag++,e.cacheRowMap(!1),e.handleTableData(M&&Re),e.updateFooter(),e.handleUpdateBodyMerge(),M&&Re||e.updateAfterDataIndex(),e.checkSelectionStatus(),o.scrollYLoad&&e.updateScrollYSpace(),pe().then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>({row:te.length?te[te.length-1]:null,rows:te}))},removeCheckboxRow(){return s.remove(e.getCheckboxRecords()).then(D=>(e.clearCheckboxRow(),D))},removeRadioRow(){const D=e.getRadioRecord();return s.remove(D||[]).then(M=>(e.clearRadioRow(),M))},removeCurrentRow(){const D=e.getCurrentRecord();return s.remove(D||[]).then(M=>(e.clearCurrentRow(),M))},getRecordset(){const D=s.getRemoveRecords(),M=e.getPendingRecords(),L=D.concat(M),z=s.getUpdateRecords().filter(J=>!L.some(k=>e.eqRow(k,J)));return{insertRecords:s.getInsertRecords(),removeRecords:D,updateRecords:z,pendingRecords:M}},getInsertRecords(){const{fullAllDataRowIdData:D,insertRowMaps:M}=n,L=[];return f.each(M,(z,J)=>{D[J]&&L.push(z)}),L},getRemoveRecords(){const{removeRowMaps:D}=n,M=[];return f.each(D,L=>{M.push(L)}),M},getUpdateRecords(){const{keepSource:D,treeConfig:M}=t,{tableFullData:L}=n,z=m.value;return D?(_(),M?f.filterTree(L,J=>e.isUpdateByRow(J),z):L.filter(J=>e.isUpdateByRow(J))):[]},getActiveRecord(){return st("vxe.error.delFunc",["getActiveRecord","getEditRecord"]),e.getEditRecord()},getEditRecord(){const{editStore:D}=o,{afterFullData:M}=n,L=u.value,{args:z,row:J}=D.actived;return z&&e.findRowIndexOf(M,J)>-1&&L.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},z):null},getSelectedCell(){const{editStore:D}=o,{args:M,column:L}=D.selected;return M&&L?Object.assign({},M):null},clearActived(D){return st("vxe.error.delFunc",["clearActived","clearEdit"]),e.clearEdit(D)},clearEdit(D){return G(null,D)},clearSelected(){const{editStore:D}=o,{selected:M}=D;return M.row=null,M.column=null,F(),pe()},isActiveByRow(D){return st("vxe.error.delFunc",["isActiveByRow","isEditByRow"]),e.isEditByRow(D)},isEditByRow(D){const{editStore:M}=o;return M.actived.row===D},setActiveRow(D){return st("vxe.error.delFunc",["setActiveRow","setEditRow"]),s.setEditRow(D)},setEditRow(D,M){const{visibleColumn:L}=n;let z=f.find(L,k=>Et(k.editRender)),J=!1;return M&&(J=!0,M!==!0&&(z=f.isString(M)?e.getColumnByField(M):M)),Q(D,z,J)},setActiveCell(D,M){return st("vxe.error.delFunc",["setActiveCell","setEditCell"]),s.setEditCell(D,M)},setEditCell(D,M){return Q(D,M,!0)},setSelectCell(D,M){const{tableData:L}=o,z=d.value,J=f.isString(M)?e.getColumnByField(M):M;if(D&&J&&z.trigger!=="manual"){const k=e.findRowIndexOf(L,D);if(k>-1&&J){const j=e.getCellElement(D,J),Z={row:D,rowIndex:k,column:J,columnIndex:e.getColumnIndex(J),cell:j};e.handleSelected(Z,{})}}return pe()}},R={handleEdit(D,M){return ae(D,M,!0,!0)},handleActived(D,M){return R.handleEdit(D,M)},handleClearEdit:G,handleFocus(D){const{row:M,column:L,cell:z}=D,{editRender:J}=L,k=d.value;if(Et(J)){const j=BR.get(J.name);let Z=J.autofocus||J.autoFocus,ge=J.autoSelect||J.autoselect,Ce;if(k.autoFocus&&(!Z&&j&&(Z=j.tableAutoFocus||j.tableAutofocus||j.autofocus),!ge&&j&&(ge=j.tableAutoSelect||j.autoselect),f.isFunction(Z)?Ce=Z(D):Z&&(Z===!0?Ce=z.querySelector("input,textarea"):Ce=z.querySelector(Z),Ce&&Ce.focus())),Ce){if(ge)Ce.select();else if(i.msie){const ve=Ce.createTextRange();ve.collapse(!1),ve.select()}}else k.autoPos&&(L.fixed||e.scrollToRow(M,L))}},handleSelected(D,M){const{mouseConfig:L}=t,{editStore:z}=o,J=c.value,k=d.value,{actived:j,selected:Z}=z,{row:ge,column:Ce}=D,ve=L&&J.selected;return ve&&(Z.row!==ge||Z.column!==Ce)&&(j.row!==ge||k.mode==="cell"&&j.column!==Ce)&&(G(M),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),Z.args=D,Z.row=ge,Z.column=Ce,ve&&R.addCellSelectedClass(),e.focus(),M&&e.dispatchEvent("cell-selected",D,M)),pe()},addCellSelectedClass(){const{editStore:D}=o,{selected:M}=D,{row:L,column:z}=M;if(F(),L&&z){const J=e.getCellElement(L,z);J&&Do(J,"col--selected")}}},Object.assign(Object.assign({},s),R)},setupGrid(e){return e.extendTableMethods(VR)}});const zR='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function WR(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function GR(e,t){const{style:o}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${zR}</style>`,o?`<style>${o}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:No,hooks:jR,renderer:Qd}=xe;let Rl;const UR="\uFEFF",Zn=`\r
`;function Vi(e){return!!e.field||["seq","checkbox","radio"].indexOf(e.type||"")===-1}const fC=e=>{const t=[];return e.forEach(o=>{o.childNodes&&o.childNodes.length?(t.push(o),t.push(...fC(o.childNodes))):t.push(o)}),t},YR=e=>{let t=1;const o=(c,d)=>{if(d&&(c._level=d._level+1,t<c._level&&(t=c._level)),c.childNodes&&c.childNodes.length){let v=0;c.childNodes.forEach(m=>{o(m,c),v+=m._colSpan}),c._colSpan=v}else c._colSpan=1};e.forEach(c=>{c._level=1,o(c)});const n=[];for(let c=0;c<t;c++)n.push([]);return fC(e).forEach(c=>{c.childNodes&&c.childNodes.length?c._rowSpan=1:c._rowSpan=t-c._level+1,n[c._level-1].push(c)}),n};function XR(e){return e===!0?"full":e||"default"}function Sl(e){return e==="TRUE"||e==="true"||e===!0}function zi(e,t,o){const{footerFilterMethod:n}=t;return n?o.filter((u,c)=>n({$table:e,items:u,$rowIndex:c})):o}function KR(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function Ol(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function uo(e,t){return e.getElementsByTagName(t)}function tb(e){return`#${e}@${f.uniqueId()}`}function hC(e,t){return e.replace(/#\d+@\d+/g,o=>f.hasOwnProp(t,o)?t[o]:o)}function rb(e,t){return hC(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function Bf(e,t){const{fieldMaps:o,titleMaps:n}=e;if(!o[t]){const u=n[t];u&&u.field&&(t=u.field)}return t}function pC(e,t,o){const n=t.split(Zn),u=[];let c=[];if(n.length){const d={},v=Date.now();n.forEach(m=>{if(m){const x={};m=m.replace(/("")|(\n)/g,(s,R)=>{const O=tb(v);return d[O]=R?'"':`
`,O}).replace(/"(.*?)"/g,(s,R)=>{const O=tb(v);return d[O]=hC(R,d),O});const i=m.split(o);c.length?(i.forEach((s,R)=>{R<c.length&&(x[c[R]]=rb(s.trim(),d))}),u.push(x)):c=i.map(s=>Bf(e,rb(s.trim(),d)))}})}return{fields:c,rows:u}}function ZR(e,t){return pC(e,t,",")}function JR(e,t){return pC(e,t,"	")}function QR(e,t){const n=new DOMParser().parseFromString(t,"text/html"),u=uo(n,"body"),c=[],d=[];if(u.length){const v=uo(u[0],"table");if(v.length){const m=uo(v[0],"thead");if(m.length){f.arrayEach(uo(m[0],"tr"),i=>{f.arrayEach(uo(i,"th"),s=>{d.push(Bf(e,s.textContent||""))})});const x=uo(v[0],"tbody");x.length&&f.arrayEach(uo(x[0],"tr"),i=>{const s={};f.arrayEach(uo(i,"td"),(R,O)=>{d[O]&&(s[d[O]]=R.textContent||"")}),c.push(s)})}}}return{fields:d,rows:c}}function eS(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),u=uo(n,"Worksheet"),c=[],d=[];if(u.length){const v=uo(u[0],"Table");if(v.length){const m=uo(v[0],"Row");m.length&&(f.arrayEach(uo(m[0],"Cell"),x=>{d.push(Bf(e,x.textContent||""))}),f.arrayEach(m,(x,i)=>{if(i){const s={},R=uo(x,"Cell");f.arrayEach(R,(O,S)=>{d[S]&&(s[d[S]]=O.textContent)}),c.push(s)}}))}}return{fields:d,rows:c}}function ob(e){f.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const tS=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];jR.add("tableExportModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{computeTreeOpts:u,computePrintOpts:c,computeExportOpts:d,computeImportOpts:v,computeCustomOpts:m,computeSeqOpts:x,computeRadioOpts:i,computeCheckboxOpts:s,computeColumnOpts:R}=e.getComputeMaps(),O=Pr("$xeGrid",null),S=re=>{const ue=u.value,X=ue.children||ue.childrenField;return re[X]&&re[X].length},F=(re,ue,X,oe,te)=>{const we=x.value.seqMethod||oe.seqMethod;return we?we({$table:e,row:ue,rowIndex:e.getRowIndex(ue),$rowIndex:X,column:oe,columnIndex:e.getColumnIndex(oe),$columnIndex:te}):re};function _(re,ue){const X=R.value,oe=ue.headerExportMethod||X.headerExportMethod;return oe?oe({column:ue,options:re,$table:e}):(re.isTitle?ue.getTitle():ue.field)||""}const q=re=>f.isBoolean(re)?re?"TRUE":"FALSE":re,P=re=>rn(re)?"":`${re}`,V=(re,ue,X)=>{const{isAllExpand:oe,mode:te}=re,{treeConfig:le}=t,we=i.value,ie=s.value,Oe=u.value,de=R.value;if(Rl||(Rl=document.createElement("div")),le){const he=Oe.children||Oe.childrenField,Te=[],me=new Map;return f.eachTree(X,(ce,Ie,Ee,Ye,Le,Ue)=>{const _e=ce._row||ce,lt=Le&&Le._row?Le._row:Le;if(oe||!lt||me.has(lt)&&e.isTreeExpandByRow(lt)){const yt=S(_e),Ct={_row:_e,_level:Ue.length-1,_hasChild:yt,_expand:yt&&e.isTreeExpandByRow(_e)};ue.forEach((it,vt)=>{let xt="";const Xe=it.editRender||it.cellRender;let Ve=it.exportMethod||de.exportMethod;if(!Ve&&Xe&&Xe.name){const ft=Qd.get(Xe.name);ft&&(Ve=ft.tableExportMethod||ft.exportMethod)}if(Ve||(Ve=de.exportMethod),Ve)xt=Ve({$table:e,row:_e,column:it,options:re});else switch(it.type){case"seq":{const ft=Ye.map((ze,ot)=>ot%2===0?Number(ze)+1:".").join("");xt=te==="all"?ft:F(ft,_e,Ie,it,vt);break}case"checkbox":xt=q(e.isCheckedByCheckboxRow(_e)),Ct._checkboxLabel=ie.labelField?f.get(_e,ie.labelField):"",Ct._checkboxDisabled=ie.checkMethod&&!ie.checkMethod({$table:e,row:_e});break;case"radio":xt=q(e.isCheckedByRadioRow(_e)),Ct._radioLabel=we.labelField?f.get(_e,we.labelField):"",Ct._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:_e});break;default:if(re.original)xt=wr(_e,it);else if(xt=e.getCellLabel(_e,it),it.type==="html")Rl.innerHTML=xt,xt=Rl.innerText.trim();else{const ft=e.getCellElement(_e,it);ft&&!on(ft,"is--progress")&&(xt=ft.innerText.trim())}}Ct[it.id]=P(xt)}),me.set(_e,1),Te.push(Object.assign(Ct,_e))}},{children:he}),Te}return X.map((he,Te)=>{const me={_row:he};return ue.forEach((ce,Ie)=>{let Ee="";const Ye=ce.editRender||ce.cellRender;let Le=ce.exportMethod||de.exportMethod;if(!Le&&Ye&&Ye.name){const Ue=Qd.get(Ye.name);Ue&&(Le=Ue.tableExportMethod||Ue.exportMethod)}if(Le)Ee=Le({$table:e,row:he,column:ce,options:re});else switch(ce.type){case"seq":{const Ue=Te+1;Ee=te==="all"?Ue:F(Ue,he,Te,ce,Ie);break}case"checkbox":Ee=q(e.isCheckedByCheckboxRow(he)),me._checkboxLabel=ie.labelField?f.get(he,ie.labelField):"",me._checkboxDisabled=ie.checkMethod&&!ie.checkMethod({$table:e,row:he});break;case"radio":Ee=q(e.isCheckedByRadioRow(he)),me._radioLabel=we.labelField?f.get(he,we.labelField):"",me._radioDisabled=we.checkMethod&&!we.checkMethod({$table:e,row:he});break;default:if(re.original)Ee=wr(he,ce);else if(Ee=e.getCellLabel(he,ce),ce.type==="html")Rl.innerHTML=Ee,Ee=Rl.innerText.trim();else{const Ue=e.getCellElement(he,ce);Ue&&!on(Ue,"is--progress")&&(Ee=Ue.innerText.trim())}}me[ce.id]=P(Ee)}),me})},G=re=>{const{columns:ue,dataFilterMethod:X}=re;let oe=re.data;return X&&(oe=oe.filter((te,le)=>X({$table:e,row:te,$rowIndex:le}))),V(re,ue,oe)},ae=(re,ue,X)=>{const oe=R.value,te=X.editRender||X.cellRender;let le=X.footerExportMethod;if(!le&&te&&te.name){const ie=Qd.get(te.name);ie&&(le=ie.tableFooterExportMethod||ie.footerExportMethod)}le||(le=oe.footerExportMethod);const we=e.getVTColumnIndex(X);return le?le({$table:e,items:ue,itemIndex:we,row:ue,_columnIndex:we,column:X,options:re}):f.isArray(ue)?f.toValueString(ue[we]):f.get(ue,X.field)},Q=(re,ue,X,oe)=>{let te=UR;if(ue.isHeader&&(te+=X.map(le=>Ol(_(ue,le))).join(",")+Zn),oe.forEach(le=>{te+=X.map(we=>Ol(KR(we,le[we.id]))).join(",")+Zn}),ue.isFooter){const{footerTableData:le}=o;zi(re,ue,le).forEach(ie=>{te+=X.map(Oe=>Ol(ae(ue,ie,Oe))).join(",")+Zn})}return te},D=(re,ue,X,oe)=>{let te="";if(ue.isHeader&&(te+=X.map(le=>Ol(_(ue,le))).join("	")+Zn),oe.forEach(le=>{te+=X.map(we=>Ol(le[we.id])).join("	")+Zn}),ue.isFooter){const{footerTableData:le}=o;zi(re,ue,le).forEach(ie=>{te+=X.map(Oe=>Ol(ae(ue,ie,Oe))).join("	")+Zn})}return te},M=(re,ue,X)=>{const oe=re[ue],te=f.isUndefined(oe)||f.isNull(oe)?X:oe;let Oe=te==="title"||(te===!0||te==="tooltip")||te==="ellipsis";const{scrollXLoad:de,scrollYLoad:he}=o;return(de||he)&&!Oe&&(Oe=!0),Oe},L=(re,ue,X)=>{const{id:oe,border:te,treeConfig:le,headerAlign:we,align:ie,footerAlign:Oe,showOverflow:de,showHeaderOverflow:he}=t,{isAllSelected:Te,isIndeterminate:me}=o,{mergeBodyCellMaps:ce}=n,Ie=u.value,{print:Ee,isHeader:Ye,isFooter:Le,isColgroup:Ue,isMerge:_e,colgroups:lt,original:yt}=re,Ct="check-all",vt=[`<table class="${["vxe-table",`border--${XR(te)}`,Ee?"is--print":"",Ye?"is--header":""].filter(Xe=>Xe).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${ue.map(Xe=>`<col style="width:${Xe.renderWidth}px">`).join("")}</colgroup>`];if(Ye&&(vt.push("<thead>"),Ue&&!yt?lt.forEach(Xe=>{vt.push(`<tr>${Xe.map(Ve=>{const ft=Ve.headerAlign||Ve.align||we||ie,ze=M(Ve,"showHeaderOverflow",he)?["col--ellipsis"]:[],ot=_(re,Ve);let Ae=0,Be=0;f.eachTree([Ve],Ze=>{(!Ze.childNodes||!Ve.childNodes.length)&&Be++,Ae+=Ze.renderWidth},{children:"childNodes"});const $e=Ae-Be;return ft&&ze.push(`col--${ft}`),Ve.type==="checkbox"?`<th class="${ze.join(" ")}" colspan="${Ve._colSpan}" rowspan="${Ve._rowSpan}"><div ${Ee?"":`style="width: ${$e}px"`}><input type="checkbox" class="${Ct}" ${Te?"checked":""}><span>${ot}</span></div></th>`:`<th class="${ze.join(" ")}" colspan="${Ve._colSpan}" rowspan="${Ve._rowSpan}" title="${ot}"><div ${Ee?"":`style="width: ${$e}px"`}><span>${Mr(ot,!0)}</span></div></th>`}).join("")}</tr>`)}):vt.push(`<tr>${ue.map(Xe=>{const Ve=Xe.headerAlign||Xe.align||we||ie,ft=M(Xe,"showHeaderOverflow",he)?["col--ellipsis"]:[],ze=_(re,Xe);return Ve&&ft.push(`col--${Ve}`),Xe.type==="checkbox"?`<th class="${ft.join(" ")}"><div ${Ee?"":`style="width: ${Xe.renderWidth}px"`}><input type="checkbox" class="${Ct}" ${Te?"checked":""}><span>${ze}</span></div></th>`:`<th class="${ft.join(" ")}" title="${ze}"><div ${Ee?"":`style="width: ${Xe.renderWidth}px"`}><span>${Mr(ze,!0)}</span></div></th>`}).join("")}</tr>`),vt.push("</thead>")),X.length&&(vt.push("<tbody>"),le?X.forEach(Xe=>{vt.push("<tr>"+ue.map(Ve=>{const ft=Ve.id,ze=Ve.align||ie,ot=M(Ve,"showOverflow",de)?["col--ellipsis"]:[],Ae=Xe[ft];if(ze&&ot.push(`col--${ze}`),Ve.treeNode){let Be="";return Xe._hasChild&&(Be=`<i class="${Xe._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),ot.push("vxe-table--tree-node"),Ve.type==="radio"?`<td class="${ot.join(" ")}" title="${Ae}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Xe._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Be}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${oe}" ${Xe._radioDisabled?"disabled ":""}${Sl(Ae)?"checked":""}><span>${Xe._radioLabel}</span></div></div></div></td>`:Ve.type==="checkbox"?`<td class="${ot.join(" ")}" title="${Ae}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Xe._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Be}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Xe._checkboxDisabled?"disabled ":""}${Sl(Ae)?"checked":""}><span>${Xe._checkboxLabel}</span></div></div></div></td>`:`<td class="${ot.join(" ")}" title="${Ae}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Xe._level*Ie.indent}px"><div class="vxe-table--tree-icon-wrapper">${Be}</div><div class="vxe-table--tree-cell">${Ae}</div></div></div></td>`}return Ve.type==="radio"?`<td class="${ot.join(" ")}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><input type="radio" name="radio_${oe}" ${Xe._radioDisabled?"disabled ":""}${Sl(Ae)?"checked":""}><span>${Xe._radioLabel}</span></div></td>`:Ve.type==="checkbox"?`<td class="${ot.join(" ")}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><input type="checkbox" ${Xe._checkboxDisabled?"disabled ":""}${Sl(Ae)?"checked":""}><span>${Xe._checkboxLabel}</span></div></td>`:`<td class="${ot.join(" ")}" title="${Ae}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}>${Mr(Ae,!0)}</div></td>`}).join("")+"</tr>")}):X.forEach(Xe=>{vt.push("<tr>"+ue.map(Ve=>{const ft=Ve.align||ie,ze=M(Ve,"showOverflow",de)?["col--ellipsis"]:[],ot=Xe[Ve.id];let Ae=1,Be=1;if(_e){const $e=e.getVTRowIndex(Xe._row),Ze=e.getVTColumnIndex(Ve),Rt=ce[`${$e}:${Ze}`];if(Rt){const{rowspan:At,colspan:ne}=Rt;if(!At||!ne)return"";At>1&&(Ae=At),ne>1&&(Be=ne)}}return ft&&ze.push(`col--${ft}`),Ve.type==="radio"?`<td class="${ze.join(" ")}" rowspan="${Ae}" colspan="${Be}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><input type="radio" name="radio_${oe}" ${Xe._radioDisabled?"disabled ":""}${Sl(ot)?"checked":""}><span>${Xe._radioLabel}</span></div></td>`:Ve.type==="checkbox"?`<td class="${ze.join(" ")}" rowspan="${Ae}" colspan="${Be}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}><input type="checkbox" ${Xe._checkboxDisabled?"disabled ":""}${Sl(ot)?"checked":""}><span>${Xe._checkboxLabel}</span></div></td>`:`<td class="${ze.join(" ")}" rowspan="${Ae}" colspan="${Be}" title="${ot}"><div ${Ee?"":`style="width: ${Ve.renderWidth}px"`}>${Mr(ot,!0)}</div></td>`}).join("")+"</tr>")}),vt.push("</tbody>")),Le){const{footerTableData:Xe}=o,Ve=zi(e,re,Xe);Ve.length&&(vt.push("<tfoot>"),Ve.forEach(ft=>{vt.push(`<tr>${ue.map(ze=>{const ot=ze.footerAlign||ze.align||Oe||ie,Ae=M(ze,"showOverflow",de)?["col--ellipsis"]:[],Be=ae(re,ft,ze);return ot&&Ae.push(`col--${ot}`),`<td class="${Ae.join(" ")}" title="${Be}"><div ${Ee?"":`style="width: ${ze.renderWidth}px"`}>${Mr(Be,!0)}</div></td>`}).join("")}</tr>`)}),vt.push("</tfoot>"))}const xt=!Te&&me?`<script>(function(){var a=document.querySelector(".${Ct}");if(a){a.indeterminate=true}})()<\/script>`:"";return vt.push("</table>",xt),Ee?vt.join(""):GR(re,vt.join(""))},z=(re,ue,X)=>{let oe=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${re.sheetName}">`,"<Table>",ue.map(te=>`<Column ss:Width="${te.renderWidth}"/>`).join("")].join("");if(re.isHeader&&(oe+=`<Row>${ue.map(te=>`<Cell><Data ss:Type="String">${_(re,te)}</Data></Cell>`).join("")}</Row>`),X.forEach(te=>{oe+="<Row>"+ue.map(le=>`<Cell><Data ss:Type="String">${te[le.id]}</Data></Cell>`).join("")+"</Row>"}),re.isFooter){const{footerTableData:te}=o;zi(e,re,te).forEach(we=>{oe+=`<Row>${ue.map(ie=>`<Cell><Data ss:Type="String">${ae(re,we,ie)}</Data></Cell>`).join("")}</Row>`})}return`${oe}</Table></Worksheet></Workbook>`},J=(re,ue,X,oe)=>{if(X.length)switch(ue.type){case"csv":return Q(re,ue,X,oe);case"txt":return D(re,ue,X,oe);case"html":return L(ue,X,oe);case"xml":return z(ue,X,oe)}return""},k=(re,ue)=>{const{filename:X,type:oe,download:te}=re;if(!te){const le=WR(ue,re);return Promise.resolve({type:oe,content:ue,blob:le})}xe.saveFile&&xe.saveFile({filename:X,type:oe,content:ue}).then(()=>{re.message!==!1&&xe.modal&&xe.modal.message({content:No("vxe.table.expSuccess"),status:"success"})})},j=re=>{const{remote:ue,columns:X,colgroups:oe,exportMethod:te,afterExportMethod:le}=re;return new Promise(we=>{if(ue){const ie={options:re,$table:e,$grid:O};we(te?te(ie):ie)}else{const ie=G(re);we(e.preventEvent(null,"event.export",{options:re,columns:X,colgroups:oe,datas:ie},()=>k(re,J(e,re,X,ie))))}}).then(we=>(ob(X),re.print||le&&le({status:!0,options:re,$table:e,$grid:O}),Object.assign({status:!0},we))).catch(()=>{ob(X),re.print||le&&le({status:!1,options:re,$table:e,$grid:O});const we={status:!1};return Promise.reject(we)})},Z=(re,ue)=>{const{tableFullColumn:X,_importResolve:oe,_importReject:te}=n;let le={fields:[],rows:[]};const we={},ie={};X.forEach(me=>{const ce=me.field,Ie=me.getTitle();ce&&(we[ce]=me),Ie&&(ie[me.getTitle()]=me)});const Oe={fieldMaps:we,titleMaps:ie};switch(ue.type){case"csv":le=ZR(Oe,re);break;case"txt":le=JR(Oe,re);break;case"html":le=QR(Oe,re);break;case"xml":le=eS(Oe,re);break}const{fields:de,rows:he}=le;de.some(me=>we[me]||ie[me])?e.createData(he).then(me=>{let ce;return(ue.mode==="insert"||ue.mode==="insertBottom")&&(ce=e.insertAt(me,-1)),ue.mode==="insertTop"?ce=e.insert(me):ce=e.reloadData(me),ue.message!==!1&&xe.modal&&xe.modal.message({content:No("vxe.table.impSuccess",[he.length]),status:"success"}),ce.then(()=>{oe&&oe({status:!0})})}):ue.message!==!1&&(xe.modal&&xe.modal.message({content:No("vxe.error.impFields"),status:"error"}),te&&te({status:!1}))},ge=(re,ue)=>{const{importMethod:X,afterImportMethod:oe}=ue,{type:te,filename:le}=Xx(re),we=v.value;if(!X&&!f.includes(f.keys(we._typeMaps),te)){ue.message!==!1&&xe.modal&&xe.modal.message({content:No("vxe.error.notType",[te]),status:"error"});const Oe={status:!1};return Promise.reject(Oe)}return new Promise((Oe,de)=>{const he=me=>{Oe(me),n._importResolve=null,n._importReject=null},Te=me=>{de(me),n._importResolve=null,n._importReject=null};if(n._importResolve=he,n._importReject=Te,window.FileReader){const me=Object.assign({mode:"insertTop"},ue,{type:te,filename:le});if(me.remote)X?Promise.resolve(X({file:re,options:me,$table:e})).then(()=>{he({status:!0})}).catch(()=>{he({status:!0})}):he({status:!0});else{const{tableFullColumn:ce}=n;e.preventEvent(null,"event.import",{file:re,options:me,columns:ce},()=>{const Ie=new FileReader;Ie.onerror=()=>{je("vxe.error.notType",[te]),Te({status:!1})},Ie.onload=Ee=>{Z(Ee.target.result,me)},Ie.readAsText(re,me.encoding||"UTF-8")})}}else je("vxe.error.notExp"),he({status:!0})}).then(()=>{oe&&oe({status:!0,options:ue,$table:e})}).catch(Oe=>(oe&&oe({status:!1,options:ue,$table:e}),Promise.reject(Oe)))},Ce=(re,ue,X)=>X.some(oe=>{if(Zi(oe))return ue.id===oe.id;if(f.isString(oe))return ue.field===oe;{const te=oe.id||oe.colId,le=oe.type,we=oe.field;if(te)return ue.id===te;if(we&&le)return ue.field===we&&ue.type===le;if(we)return ue.field===we;if(le)return ue.type===le}return!1}),ve=(re,ue,X,oe)=>oe&&f.includes(oe,ue.field)?!1:X?!!f.includes(X,ue.field):re.original?!!ue.field:Vi(ue),fe=(re,ue)=>{const{treeConfig:X,showHeader:oe,showFooter:te}=t,{initStore:le,isGroup:we,footerTableData:ie,exportStore:Oe,exportParams:de}=o,{collectColumn:he,mergeBodyList:Te,mergeFooterList:me}=n,ce=d.value,Ie=X,Ee=m.value,Ye=e.getCheckboxRecords(),Le=O?O.getComputeMaps().computeProxyOpts.value:{},Ue=!!ie.length,_e=!!(Te.length||me.length),lt=Object.assign({message:!0,isHeader:oe,isTitle:oe,isFooter:te,isColgroup:we,isMerge:_e,useStyle:!0,current:"current",modes:(Le.ajax&&Le.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},re),yt=lt.types||f.keys(ce._typeMaps),Ct=lt.modes||[],it=Ee.checkMethod,vt=he.slice(0),{columns:xt,excludeFields:Xe,includeFields:Ve}=lt,ft=yt.map(Ze=>({value:Ze,label:No(`vxe.export.types.${Ze}`)})),ze=Ct.map(Ze=>Ze&&Ze.value?{value:Ze.value,label:Ze.label||Ze.value}:{value:Ze,label:No(`vxe.export.modes.${Ze}`)});f.eachTree(vt,(Ze,Rt,At,ne,se)=>{const be=Ze.children&&Ze.children.length>0;let ke=!1;xt&&xt.length?ke=Ce(lt,Ze,xt):Xe||Ve?ke=ve(lt,Ze,Ve,Xe):ke=Ze.visible&&(be||Vi(Ze)),Ze.checked=ke,Ze.halfChecked=!1,Ze.disabled=se&&se.disabled||(it?!it({$table:e,column:Ze}):!1)}),Object.assign(Oe,{columns:vt,typeList:ft,modeList:ze,hasFooter:Ue,hasMerge:_e,hasTree:Ie,isPrint:ue,hasColgroup:we,visible:!0}),Object.assign(de,{mode:Ye.length?"selected":"current"},lt);const{filename:ot,sheetName:Ae,mode:Be,type:$e}=de;return ot&&(f.isFunction(ot)?de.filename=ot({options:lt,$table:e,$grid:O}):de.filename=`${ot}`),Ae&&(f.isFunction(Ae)?de.sheetName=Ae({options:lt,$table:e,$grid:O}):de.sheetName=`${Ae}`),ze.some(Ze=>Ze.value===Be)||(de.mode=ze[0].value),ft.some(Ze=>Ze.value===$e)||(de.type=ft[0].value),le.export=!0,pe()},Me=()=>xe.modal?xe.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Re={exportData(re){const{treeConfig:ue,showHeader:X,showFooter:oe}=t,{isGroup:te}=o,{tableFullColumn:le,afterFullData:we,collectColumn:ie,mergeBodyList:Oe,mergeFooterList:de}=n,he=d.value,Te=u.value,me=O?O.getComputeMaps().computeProxyOpts.value:{},ce=!!(Oe.length||de.length),Ie=Object.assign({message:!0,isHeader:X,isTitle:X,isFooter:oe,isColgroup:te,isMerge:ce,useStyle:!0,current:"current",modes:(me.ajax&&me.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},he,re);let{filename:Ee,sheetName:Ye,type:Le,mode:Ue,columns:_e,original:lt,columnFilterMethod:yt,beforeExportMethod:Ct,includeFields:it,excludeFields:vt}=Ie,xt=[];const Xe=e.getCheckboxRecords();Ue||(Ue=Xe.length?"selected":"current");let Ve=!1,ft=[];_e&&_e.length?(Ve=!0,ft=_e):ft=f.searchTree(ie,Ae=>{const Be=Ae.children&&Ae.children.length>0;let $e=!1;return _e&&_e.length?$e=Ce(Ie,Ae,_e):vt||it?$e=ve(Ie,Ae,it,vt):$e=Ae.visible&&(Be||Vi(Ae)),$e},{children:"children",mapChildren:"childNodes",original:!0});const ze=Object.assign({},Ie,{filename:"",sheetName:""});!Ve&&!yt&&(yt=({column:Ae})=>vt&&f.includes(vt,Ae.field)?!1:it?!!f.includes(it,Ae.field):lt?!!Ae.field:Vi(Ae),ze.columnFilterMethod=yt),ft?(ze._isCustomColumn=!0,xt=f.searchTree(f.mapTree(ft,Ae=>{let Be;if(Ae){if(Zi(Ae))Be=Ae;else if(f.isString(Ae))Be=e.getColumnByField(Ae);else{const $e=Ae.id||Ae.colId,Ze=Ae.type,Rt=Ae.field;$e?Be=e.getColumnById($e):Rt&&Ze?Be=le.find(At=>At.field===Rt&&At.type===Ze):Rt?Be=e.getColumnByField(Rt):Ze&&(Be=le.find(At=>At.type===Ze))}return Be||{}}},{children:"childNodes",mapChildren:"_children"}),(Ae,Be)=>Zi(Ae)&&(!yt||yt({$table:e,column:Ae,$columnIndex:Be})),{children:"_children",mapChildren:"childNodes",original:!0})):xt=f.searchTree(te?ie:le,(Ae,Be)=>Ae.visible&&(!yt||yt({$table:e,column:Ae,$columnIndex:Be})),{children:"children",mapChildren:"childNodes",original:!0});const ot=[];if(f.eachTree(xt,Ae=>{Ae.children&&Ae.children.length||ot.push(Ae)},{children:"childNodes"}),ze.columns=ot,ze.colgroups=YR(xt),Ee&&(f.isFunction(Ee)?ze.filename=Ee({options:Ie,$table:e,$grid:O}):ze.filename=`${Ee}`),ze.filename||(ze.filename=No(ze.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[f.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ye&&(f.isFunction(Ye)?ze.sheetName=Ye({options:Ie,$table:e,$grid:O}):ze.sheetName=`${Ye}`),ze.sheetName||(ze.sheetName=document.title||""),!ze.exportMethod&&!f.includes(f.keys(he._typeMaps),Le)){je("vxe.error.notType",[Le]),["xlsx","pdf"].includes(Le)&&st("vxe.error.reqPlugin",[4,"plugin-export-xlsx"]);const Ae={status:!1};return Promise.reject(Ae)}if(ze.print||Ct&&Ct({options:ze,$table:e,$grid:O}),!ze.data){if(ze.data=[],Ue==="selected")["html","pdf"].indexOf(Le)>-1&&ue?ze.data=f.searchTree(e.getTableData().fullData,Ae=>e.findRowIndexOf(Xe,Ae)>-1,Object.assign({},Te,{data:"_row"})):ze.data=Xe;else if(Ue==="all"&&(O||je("vxe.error.errProp",["all","mode=current,selected"]),O&&!ze.remote)){const Ae=O.reactData,{computeProxyOpts:Be}=O.getComputeMaps(),$e=Be.value,{sortData:Ze}=Ae,{beforeQueryAll:Rt,afterQueryAll:At,ajax:ne={}}=$e,se=$e.response||$e.props||{},be=ne.queryAll,ke=ne.queryAllSuccess,Fe=ne.queryAllError;if(be||je("vxe.error.notFunc",["proxy-config.ajax.queryAll"]),be){const et={$table:e,$grid:O,sort:Ze.length?Ze[0]:{},sorts:Ze,filters:Ae.filterData,form:Ae.formData,options:ze};return Promise.resolve((Rt||be)(et)).then(tt=>{const wt=se.list;return ze.data=(wt?f.isFunction(wt)?wt({data:tt,$grid:O}):f.get(tt,wt):tt)||[],At&&At(et),ke&&ke(Object.assign(Object.assign({},et),{response:tt})),j(ze)}).catch(tt=>{Fe&&Fe(Object.assign(Object.assign({},et),{response:tt}))})}}Ue==="current"&&(ze.data=we)}return j(ze)},importByFile(re,ue){const X=Object.assign({},ue),{beforeImportMethod:oe}=X;return oe&&oe({options:X,$table:e}),ge(re,X)},importData(re){const ue=v.value,X=Object.assign({types:f.keys(ue._typeMaps)},ue,re),{beforeImportMethod:oe,afterImportMethod:te}=X;return oe&&oe({options:X,$table:e}),xe.readFile(X).catch(le=>(te&&te({status:!1,options:X,$table:e}),Promise.reject(le))).then(le=>{const{file:we}=le;return ge(we,X)})},saveFile(re){return xe.saveFile(re)},readFile(re){return xe.readFile(re)},print(re){const ue=c.value,X=Object.assign({original:!1},ue,re,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:oe}=X;let te="";oe&&(f.isFunction(oe)?te=oe({options:X,$table:e,$grid:O}):te=`${oe}`),te||(te=document.title||"");const le=X.beforePrintMethod,we=X.html||X.content;return new Promise((ie,Oe)=>{xe.print?ie(we?xe.print({title:te,html:we,customStyle:X.style,beforeMethod:le?({html:de})=>le({html:de,content:de,options:X,$table:e}):void 0}):Re.exportData(X).then(({content:de})=>xe.print({title:te,html:de,customStyle:X.style,beforeMethod:le?({html:he})=>le({html:he,content:he,options:X,$table:e}):void 0}))):Oe({status:!1})})},getPrintHtml(re){const ue=c.value,X=Object.assign({original:!1},ue,re,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(X).then(({content:oe})=>({html:oe}))},closeImport(){return xe.modal?xe.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(re){const{treeConfig:ue,importConfig:X}=t,{initStore:oe,importStore:te,importParams:le}=o,we=v.value,ie=Object.assign({mode:"insertTop",message:!0,types:f.keys(we._typeMaps),modes:["insertTop","covering"]},we,re),Oe=ie.types||[],de=ie.modes||[];if(!!ue){ie.message&&xe.modal&&xe.modal.message({content:No("vxe.error.treeNotImp"),status:"error"});return}X||je("vxe.error.reqProp",["import-config"]);const Te=Oe.map(ce=>({value:ce,label:No(`vxe.export.types.${ce}`)})),me=de.map(ce=>ce&&ce.value?{value:ce.value,label:ce.label||ce.value}:{value:ce,label:No(`vxe.import.modes.${ce}`)});Object.assign(te,{file:null,type:"",filename:"",modeList:me,typeList:Te,visible:!0}),Object.assign(le,ie),me.some(ce=>ce.value===le.mode)||(le.mode=me[0].value),oe.import=!0},closeExport:Me,openExport(re){const ue=d.value,X=Object.assign({message:!0,types:f.keys(ue._typeMaps)},ue,re);return t.exportConfig||je("vxe.error.reqProp",["export-config"]),fe(X)},closePrint:Me,openPrint(re){const ue=c.value,X=Object.assign({message:!0},ue,re);return t.printConfig||je("vxe.error.reqProp",["print-config"]),fe(X,!0)}};return Re},setupGrid(e){return e.extendTableMethods(tS)}});const{hooks:rS}=xe,oS=f.browse();function nS(e,t){let o=0,n=0;const u=!oS.firefox&&on(e,"vxe-checkbox--label");if(u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}for(;e&&e!==t;)if(o+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,u){const c=getComputedStyle(e);o-=f.toNumber(c.paddingTop),n-=f.toNumber(c.paddingLeft)}return{offsetTop:o,offsetLeft:n}}rS.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refElem:u}=e.getRefMaps(),{computeEditOpts:c,computeCheckboxOpts:d,computeMouseOpts:v,computeTreeOpts:m,computeRowOpts:x,computeColumnOpts:i,computeCellOpts:s,computeDefaultRowHeight:R,computeCurrentRowOpts:O,computeCurrentColumnOpts:S}=e.getComputeMaps();function F(G,ae,Q,D,M,L){const{showOverflow:z}=t,{fullAllDataRowIdData:J,isResizeCellHeight:k}=n,j=x.value,Z=s.value,ge=R.value,{row:Ce}=ae;let ve=0,fe=[],Me=0;const Re=L>0,{scrollYLoad:re}=o,{afterFullData:ue}=n;if(Re?Me=M+L:Me=D.height-M+Math.abs(L),re){const X=e.getVTRowIndex(Ce);if(!(k||Z.height||j.height)&&z)Re?fe=ue.slice(X,X+Math.ceil(Me/ge)):fe=ue.slice(X-Math.floor(Me/ge),X+1);else if(Re)for(let te=X;te<ue.length;te++){const le=ue[te],we=e.getRowid(le),ie=J[we]||{};if(ve+=ie.resizeHeight||Z.height||j.height||ie.height||ge,fe.push(le),ve>Me)return fe}else for(let te=X;te>=0;te--){const le=ue[te],we=e.getRowid(le),ie=J[we]||{};if(ve+=ie.resizeHeight||Z.height||j.height||ie.height||ge,fe.push(le),ve>Me)return fe}}else{const X=Re?"next":"previous";for(;Q&&ve<Me;){const oe=e.getRowNode(Q);oe&&(fe.push(oe.item),ve+=Q.offsetHeight,Q=Q[`${X}ElementSibling`])}}return fe}const _=(G,ae)=>{const{elemStore:Q}=n,D=rt(Q["main-body-scroll"]),M=rt(Q["left-body-scroll"]),L=rt(Q["right-body-scroll"]),{column:z,cell:J}=ae;if(z.type==="checkbox"){let k=D;if(M&&z.fixed==="left"?k=M:L&&z.fixed==="right"&&(k=L),!k)return;const j=u.value,Z=G.clientX,ge=G.clientY,Ce=k.querySelector(".vxe-table--checkbox-range"),ve=J.parentElement,fe=e.getCheckboxRecords();let Me=[];const Re=1,re=nS(G.target,k),ue=re.offsetTop+G.offsetY,X=re.offsetLeft+G.offsetX,oe=k.scrollTop,te=ve.offsetHeight,le=ve.getBoundingClientRect(),we=ge-le.y;let ie=null,Oe=!1,de=1;const he=(Ie,Ee)=>{e.dispatchEvent(`checkbox-range-${Ie}`,{records:()=>e.getCheckboxRecords(),reserves:()=>e.getCheckboxReserveRecords()},Ee)},Te=Ie=>{const{clientX:Ee,clientY:Ye}=Ie,Le=Ee-Z,Ue=Ye-ge+(k.scrollTop-oe);let _e=Math.abs(Ue),lt=Math.abs(Le),yt=ue,Ct=X;Ue<Re?(yt+=Ue,yt<Re&&(yt=Re,_e=ue)):_e=Math.min(_e,k.scrollHeight-ue-Re),Le<Re?(Ct+=Le,lt>X&&(Ct=Re,lt=X)):lt=Math.min(lt,k.clientWidth-X-Re),Ce.style.height=`${_e}px`,Ce.style.width=`${lt}px`,Ce.style.left=`${Ct}px`,Ce.style.top=`${yt}px`,Ce.style.display="block";const it=F(Ie,ae,ve,le,we,Ue<Re?-_e:_e);if(_e>10&&it.length!==Me.length){const vt=pi(Ie);Me=it,vt?it.forEach(xt=>{e.handleBatchSelectRows([xt],fe.indexOf(xt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(it,!0,!1)),he("change",Ie)}},me=()=>{clearTimeout(ie),ie=null},ce=Ie=>{me(),ie=setTimeout(()=>{if(ie){const{scrollLeft:Ee,scrollTop:Ye,clientHeight:Le,scrollHeight:Ue}=k,_e=Math.ceil(de*50/te);Oe?Ye+Le<Ue?(e.scrollTo(Ee,Ye+_e),ce(Ie),Te(Ie)):me():Ye?(e.scrollTo(Ee,Ye-_e),ce(Ie),Te(Ie)):me()}},50)};Do(j,"drag--range"),document.onmousemove=Ie=>{Ie.preventDefault(),Ie.stopPropagation();const{clientY:Ee}=Ie,{boundingTop:Ye}=Ki(k);Ee<Ye?(Oe=!1,de=Ye-Ee,ie||ce(Ie)):Ee>Ye+k.clientHeight?(Oe=!0,de=Ee-Ye-k.clientHeight,ie||ce(Ie)):ie&&me(),Te(Ie)},document.onmouseup=Ie=>{me(),eo(j,"drag--range"),Ce.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,he("end",Ie)},he("start",G)}},q=(G,ae)=>{const{editConfig:Q,checkboxConfig:D,mouseConfig:M}=t,L=d.value,z=v.value,J=c.value;if(M&&z.area&&e.triggerCellAreaMousedownEvent)return e.triggerCellAreaMousedownEvent(G,ae);D&&L.range&&_(G,ae),M&&z.selected&&(!Q||J.mode==="cell")&&e.handleSelected(ae,G)},P=(G,ae,Q,D,M,L)=>{const{afterFullData:z,visibleColumn:J}=n,k=Object.assign({},ae),j=e.getVTRowIndex(k.row),Z=e.getVTColumnIndex(k.column);return G.preventDefault(),D&&j>0?(k.rowIndex=j-1,k.row=z[k.rowIndex]):L&&j<z.length-1?(k.rowIndex=j+1,k.row=z[k.rowIndex]):Q&&Z?(k.columnIndex=Z-1,k.column=J[k.columnIndex]):M&&Z<J.length-1&&(k.columnIndex=Z+1,k.column=J[k.columnIndex]),e.scrollToRow(k.row,k.column).then(()=>{k.cell=e.getCellElement(k.row,k.column),e.handleSelected(k,G)}),k};return{moveTabSelected(G,ae,Q){const{editConfig:D}=t,{afterFullData:M,visibleColumn:L}=n,z=c.value,J=x.value,k=O.value,j=i.value,Z=S.value;let ge,Ce,ve;const fe=Object.assign({},G),Me=e.getVTRowIndex(fe.row),Re=e.getVTColumnIndex(fe.column);Q.preventDefault(),ae?Re<=0?Me>0&&(Ce=Me-1,ge=M[Ce],ve=L.length-1):ve=Re-1:Re>=L.length-1?Me<M.length-1&&(Ce=Me+1,ge=M[Ce],ve=0):ve=Re+1;const re=L[ve];re&&(ge?(fe.rowIndex=Ce,fe.row=ge):fe.rowIndex=Me,fe.columnIndex=ve,fe.column=re,fe.cell=e.getCellElement(fe.row,fe.column),J.isCurrent&&k.isFollowSelected&&e.triggerCurrentRowEvent(Q,fe),j.isCurrent&&Z.isFollowSelected&&e.triggerCurrentColumnEvent(Q,fe),D?(z.trigger==="click"||z.trigger==="dblclick")&&(z.mode==="row"?e.handleEdit(fe,Q):e.scrollToRow(fe.row,fe.column).then(()=>{e.handleSelected(fe,Q)})):e.scrollToRow(fe.row,fe.column).then(()=>{e.handleSelected(fe,Q)}))},moveCurrentRow(G,ae,Q){const{treeConfig:D}=t,{currentRow:M}=o,{afterFullData:L}=n,z=m.value,J=z.children||z.childrenField;let k;if(M)if(D){const{index:j,items:Z}=f.findTree(L,ge=>ge===M,{children:J});G&&j>0?k=Z[j-1]:ae&&j<Z.length-1&&(k=Z[j+1])}else{const j=e.getVTRowIndex(M);G&&j>0?k=L[j-1]:ae&&j<L.length-1&&(k=L[j+1])}else k=L[0];if(k){Q.preventDefault();const j={$table:e,row:k,rowIndex:e.getRowIndex(k),$rowIndex:e.getVMRowIndex(k)};e.scrollToRow(k).then(()=>e.triggerCurrentRowEvent(Q,j))}},moveCurrentColumn(G,ae,Q){const{currentColumn:D}=o,{visibleColumn:M}=n;let L=null;if(D){const z=e.getVTColumnIndex(D);G&&z>0?L=M[z-1]:ae&&z<M.length-1&&(L=M[z+1])}else L=M[0];if(L){Q.preventDefault();const z={$table:e,column:L,columnIndex:e.getColumnIndex(L),$columnIndex:e.getVMColumnIndex(L)};e.scrollToColumn(L).then(()=>e.triggerCurrentColumnEvent(Q,z))}},moveArrowSelected(G,ae,Q,D,M,L){const{highlightCurrentRow:z,highlightCurrentColumn:J}=t,k=x.value,j=O.value,Z=i.value,ge=S.value,Ce=P(L,G,ae,Q,D,M);(k.isCurrent||z)&&(j.isFollowSelected?e.triggerCurrentRowEvent(L,Ce):(Q||M)&&(k.isCurrent||z)&&e.moveCurrentRow(Q,M,L)),(Z.isCurrent||J)&&(ge.isFollowSelected?e.triggerCurrentColumnEvent(L,Ce):(ae||D)&&(Z.isCurrent||J)&&e.moveCurrentColumn(ae,D,L))},moveEnterSelected(G,ae,Q,D,M,L){const{highlightCurrentRow:z,highlightCurrentColumn:J}=t,k=x.value,j=O.value,Z=i.value,ge=S.value,Ce=P(L,G,ae,Q,D,M);(k.isCurrent||z)&&j.isFollowSelected&&e.triggerCurrentRowEvent(L,Ce),(Z.isCurrent||J)&&ge.isFollowSelected&&e.triggerCurrentColumnEvent(L,Ce)},moveSelected(G,ae,Q,D,M,L){P(L,G,ae,Q,D,M)},handleCellMousedownEvent:q}}});const{getConfig:lS,validators:iS,hooks:sS}=xe;class ci{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return zo(this.$options.content||this.$options.message)}get message(){return this.content}}function aS(e,t){return!(e&&!(f.isRegExp(e)?e:new RegExp(e)).test(t))}function ef(e,t){return!(!f.eqNull(e)&&t>f.toNumber(e))}function tf(e,t){return!(!f.eqNull(e)&&t<f.toNumber(e))}function nb(e,t,o){const{type:n,min:u,max:c,pattern:d}=e,v=n==="array",m=n==="number",x=n==="string",i=`${t}`;if(!aS(d,i))return!1;if(v){if(!f.isArray(t)||o&&!t.length||!tf(u,t.length)||!ef(c,t.length))return!1}else if(m){const s=Number(t);if(isNaN(s)||!tf(u,s)||!ef(c,s))return!1}else if(x&&!f.isString(t)||o&&!i||!tf(u,i.length)||!ef(c,i.length))return!1;return!0}function cS(e,t){const{required:o}=e,n=f.isArray(t)?!t.length:rn(t);if(o){if(n||!nb(e,t,o))return!1}else if(!n&&!nb(e,t,o))return!1;return!0}const uS=["fullValidate","validate","fullValidateField","validateField","clearValidate"];sS.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:o,internalData:n}=e,{refValidTooltip:u}=e.getRefMaps(),{computeValidOpts:c,computeTreeOpts:d,computeEditOpts:v,computeAggregateOpts:m}=e.getComputeMaps();let x={},i={},s;const R=F=>new Promise(_=>{c.value.autoPos===!1?(e.dispatchEvent("valid-error",F,null),_()):e.handleEdit(F,{type:"valid-error",trigger:"call"}).then(()=>{_(i.showValidTooltip(F))})}),O=F=>{if(c.value.msgMode==="single"){const q=Object.keys(F),P={};if(q.length){const V=q[0];P[V]=F[V]}return P}return F},S=(F,_,q,P)=>{const V={},{editRules:G,treeConfig:ae}=t,{isRowGroupStatus:Q}=o,{afterFullData:D,pendingRowMaps:M,removeRowMaps:L}=n,z=d.value,J=m.value,k=c.value;let j;F===!0?j=D:F&&(f.isFunction(F)?q=F:j=f.isArray(F)?F:[F]),j||(e.getInsertRecords?j=e.getInsertRecords().concat(e.getUpdateRecords()):j=[]);const Z=[];n._lastCallTime=Date.now(),s=!1,x.clearValidate();const ge={};if(G){const Ce=_&&_.length?_:e.getColumns(),ve=fe=>{const Me=Ne(e,fe);if(!L[Me]&&!M[Me]&&!e.isAggregateRecord(fe)&&(P||!s)){const Re=[];Ce.forEach(re=>{const ue=f.isString(re)?re:re.field;(P||!s)&&f.has(G,ue)&&Re.push(i.validCellRules("all",fe,re).catch(({rule:X,rules:oe})=>{const te={rule:X,rules:oe,rowIndex:e.getRowIndex(fe),row:fe,columnIndex:e.getColumnIndex(re),column:re,field:ue,$table:e};if(V[ue]||(V[ue]=[]),ge[`${Ne(e,fe)}:${re.id}`]={column:re,row:fe,rule:X,content:X.content},V[ue].push(te),!P)return s=!0,Promise.reject(te)}))}),Z.push(Promise.all(Re))}};if(Q)f.eachTree(j,ve,{children:J.mapChildrenField});else if(ae){const fe=z.children||z.childrenField;f.eachTree(j,ve,{children:fe})}else j.forEach(ve);return Promise.all(Z).then(()=>{const fe=Object.keys(V);return o.validErrorMaps=O(ge),pe().then(()=>{if(fe.length)return Promise.reject(V[fe[0]][0]);q&&q()})}).catch(fe=>new Promise((Me,Re)=>{const re=()=>{pe(()=>{q?(q(V),Me()):lS().validToReject==="obsolete"?Re(V):Me(V)})},ue=()=>{fe.cell=e.getCellElement(fe.row,fe.column),GE(fe.cell),R(fe).then(re)};if(k.autoPos===!1)re();else{const X=fe.row,oe=fe.column;e.scrollToRow(X,oe).then(ue)}}))}else o.validErrorMaps={};return pe().then(()=>{q&&q()})};return x={fullValidate(F,_){return f.isFunction(_)&&st("vxe.error.notValidators",["fullValidate(rows, callback)","fullValidate(rows)"]),S(F,null,_,!0)},validate(F,_){return S(F,null,_)},fullValidateField(F,_){const q=(f.isArray(_)?_:_?[_]:[]).map(P=>sr(e,P));return q.length?S(F,q,null,!0):pe()},validateField(F,_){const q=(f.isArray(_)?_:_?[_]:[]).map(P=>sr(e,P));return q.length?S(F,q,null):pe()},clearValidate(F,_){const{validErrorMaps:q}=o,P=u.value,V=c.value,G=f.isArray(F)?F:F?[F]:[],ae=(f.isArray(_)?_:_?[_]:[]).map(D=>sr(e,D));let Q={};if(P&&P.reactData.visible&&P.close(),V.msgMode==="single")return o.validErrorMaps={},pe();if(G.length&&ae.length)Q=Object.assign({},q),G.forEach(D=>{ae.forEach(M=>{const L=`${Ne(e,D)}:${M.id}`;Q[L]&&delete Q[L]})});else if(G.length){const D=G.map(M=>`${Ne(e,M)}`);f.each(q,(M,L)=>{D.indexOf(L.split(":")[0])>-1&&(Q[L]=M)})}else if(ae.length){const D=ae.map(M=>`${M.id}`);f.each(q,(M,L)=>{D.indexOf(L.split(":")[1])>-1&&(Q[L]=M)})}return o.validErrorMaps=Q,pe()}},i={validCellRules(F,_,q,P){const V=e.xeGrid,{editRules:G}=t,{field:ae}=q,Q=[],D=[];if(ae&&G){const M=f.get(G,ae);if(M){const L=f.isUndefined(P)?f.get(_,ae):P;M.forEach(z=>{const{trigger:J,validator:k}=z;if(F==="all"||!J||F===J)if(k){const j={cellValue:L,rule:z,rules:M,row:_,rowIndex:e.getRowIndex(_),column:q,columnIndex:e.getColumnIndex(q),field:q.field,$table:e,$grid:V};let Z;if(f.isString(k)){const ge=iS.get(k);if(ge){const Ce=ge.tableCellValidatorMethod||ge.cellValidatorMethod;Ce?Z=Ce(j):je("vxe.error.notValidators",[k])}else je("vxe.error.notValidators",[k])}else Z=k(j);Z&&(f.isError(Z)?(s=!0,Q.push(new ci({type:"custom",trigger:J,content:Z.message,rule:new ci(z)}))):Z.catch&&D.push(Z.catch(ge=>{s=!0,Q.push(new ci({type:"custom",trigger:J,content:ge&&ge.message?ge.message:z.content||z.message,rule:new ci(z)}))})))}else cS(z,L)||(s=!0,Q.push(new ci(z)))})}}return Promise.all(D).then(()=>{if(Q.length){const M={rules:Q,rule:Q[0]};return Promise.reject(M)}})},hasCellRules(F,_,q){const{editRules:P}=t,{field:V}=q;if(V&&P){const G=f.get(P,V);return G&&!!f.find(G,ae=>F==="all"||!ae.trigger||F===ae.trigger)}return!1},triggerValidate(F){const{editConfig:_,editRules:q}=t,{editStore:P}=o,{actived:V}=P,G=v.value,ae=c.value;if(q&&ae.msgMode==="single"&&(o.validErrorMaps={}),_&&q&&V.row){const{row:Q,column:D,cell:M}=V.args;if(i.hasCellRules(F,Q,D))return i.validCellRules(F,Q,D).then(()=>{G.mode==="row"&&x.clearValidate(Q,D)}).catch(({rule:L})=>{if(!L.trigger||F===L.trigger){const z={rule:L,row:Q,column:D,cell:M};return i.showValidTooltip(z),Promise.reject(z)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(F){const{height:_}=t,{tableData:q,validStore:P,validErrorMaps:V}=o,{rule:G,row:ae,column:Q,cell:D}=F,M=c.value,L=u.value,z=G.content;return P.visible=!0,M.msgMode==="single"?o.validErrorMaps={[`${Ne(e,ae)}:${Q.id}`]:{column:Q,row:ae,rule:G,content:z}}:o.validErrorMaps=Object.assign({},V,{[`${Ne(e,ae)}:${Q.id}`]:{column:Q,row:ae,rule:G,content:z}}),e.dispatchEvent("valid-error",F,null),L&&L&&(M.message==="tooltip"||M.message==="default"&&!_&&q.length<2)?L.open(D,z):pe()}},Object.assign(Object.assign({},x),i)},setupGrid(e){return e.extendTableMethods(uS)}});const dS=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];xe.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:o}=e,{computeCustomOpts:n,computeRowGroupFields:u}=e.getComputeMaps(),{refElem:c}=e.getRefMaps(),d=e.xeGrid,v=()=>{const{customStore:P}=t,V=c.value;let G=0;V&&(G=V.clientHeight-28),P.maxHeight=Math.max(88,G)},m=()=>{const{initStore:P,customStore:V}=t;return V.visible=!0,P.custom=!0,x(),F(),v(),pe().then(()=>v())},x=()=>{const{customStore:P}=t,{collectColumn:V}=o;if(P.visible){const G={},ae={},Q={};f.eachTree(V,D=>{const M=D.getKey();D.renderFixed=D.fixed,D.renderVisible=D.visible,D.renderResizeWidth=D.renderWidth,G[M]=D.renderSortNumber,ae[M]=D.fixed,Q[M]=D.visible}),P.oldSortMaps=G,P.oldFixedMaps=ae,P.oldVisibleMaps=Q,t.customColumnList=V.slice(0)}},i=()=>{const{customStore:P}=t,V=n.value;return P.visible&&(P.visible=!1,V.immediate||e.handleCustom()),pe()},s=()=>{const{customColumnList:P,aggHandleFields:V,rowGroupList:G}=t,ae=n.value,{allowVisible:Q,allowSort:D,allowFixed:M,allowResizable:L}=ae;return f.eachTree(P,(z,J,k,j,Z)=>{if(Z)z.fixed=Z.fixed;else{if(D){const ge=J+1;z.renderSortNumber=ge}M&&(z.fixed=z.renderFixed)}L&&z.renderVisible&&(!z.children||z.children.length)&&z.renderResizeWidth!==z.renderWidth&&(z.resizeWidth=z.renderResizeWidth,z.renderWidth=z.renderResizeWidth),Q&&(z.visible=z.renderVisible)}),t.isCustomStatus=!0,t.isDragColMove=!0,setTimeout(()=>{t.isDragColMove=!1},1e3),e.saveCustomStore("confirm").then(()=>{e.handlePivotTableAggregateData&&(G.length!==V.length||G.some((z,J)=>z.field!==V[J]))&&(V.length?e.setRowGroups(V):e.clearRowGroups())})},R=()=>{const{customColumnList:P,customStore:V}=t,{oldSortMaps:G,oldFixedMaps:ae,oldVisibleMaps:Q}=V,D=n.value,{allowVisible:M,allowSort:L,allowFixed:z,allowResizable:J}=D;return f.eachTree(P,k=>{const j=k.getKey(),Z=!!Q[j],ge=ae[j]||"";M&&(k.renderVisible=Z,k.visible=Z),z&&(k.renderFixed=ge,k.fixed=ge),L&&(k.renderSortNumber=G[j]||0),J&&(k.renderResizeWidth=k.renderWidth)},{children:"children"}),pe()},O=P=>{const{customStore:V}=t,{customColumnList:G}=t,ae=n.value,{checkMethod:Q,visibleMethod:D}=ae,M=!!P;return ae.immediate?(f.eachTree(G,L=>{D&&!D({$table:e,column:L})||Q&&!Q({$table:e,column:L})||(L.visible=M,L.renderVisible=M,L.halfVisible=!1)}),V.isAll=M,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(f.eachTree(G,L=>{D&&!D({$table:e,column:L})||Q&&!Q({$table:e,column:L})||(L.renderVisible=M,L.halfVisible=!1)}),V.isAll=M),e.checkCustomStatus(),pe()},S={openCustom:m,closeCustom:i,saveCustom:s,cancelCustom:R,resetCustom(P){const{rowGroupList:V}=t,{collectColumn:G}=o,ae=n.value,{checkMethod:Q}=ae,D=Object.assign({visible:!0,resizable:P===!0,fixed:P===!0,sort:P===!0},P);return f.eachTree(G,M=>{D.resizable&&(M.resizeWidth=0),D.fixed&&(M.fixed=M.defaultFixed),D.sort&&(M.renderSortNumber=M.sortNumber),(!Q||Q({$table:e,column:M}))&&(M.visible=M.defaultVisible),M.renderResizeWidth=M.renderWidth}),t.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom().then(()=>{if(e.handlePivotTableAggregateData){const M=u.value;(M?M.length:V.length)&&(M&&M.length?e.setRowGroups(M):e.clearRowGroups())}})},toggleCustomAllCheckbox(){const{customStore:P}=t,V=!P.isAll;return O(V)},setCustomAllCheckbox:O},F=()=>{const{customStore:P}=t,{collectColumn:V}=o,G=n.value,{checkMethod:ae}=G;P.isAll=V.every(Q=>(ae?!ae({$table:e,column:Q}):!1)||Q.renderVisible),P.isIndeterminate=!P.isAll&&V.some(Q=>(!ae||ae({$table:e,column:Q}))&&(Q.renderVisible||Q.halfVisible))},_=(P,V)=>{(d||e).dispatchEvent("custom",{type:P},V)},q={checkCustomStatus:F,emitCustomEvent:_,triggerCustomEvent(P){const V=e.reactData,{customStore:G}=V;G.visible?(i(),_("close",P)):(G.btnEl=P.target,m(),_("open",P))},customOpenEvent(P){const V=e.reactData,{customStore:G}=V;G.visible||(G.activeBtn=!0,G.btnEl=P.target,e.openCustom(),e.emitCustomEvent("open",P))},customCloseEvent(P){const V=e.reactData,{customStore:G}=V;G.visible&&(G.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",P))},handleUpdateCustomColumn:x};return Object.assign(Object.assign({},S),q)},setupGrid(e){return e.extendTableMethods(dS)}});const{getConfig:Ji,renderer:fS,getI18n:$f,getComponent:gC}=xe,vC="modelValue",mC={};function $o(e,t,o){return f.eqNull(e)?f.eqNull(t)?o:t:e}function hS(e,t){return e&&t.valueFormat?f.toStringDate(e,t.valueFormat):e}function pS(e,t,o){const{dateConfig:n={}}=t;return f.toDateString(hS(e,t),n.labelFormat||o)}function rf(e,t){return pS(e,t,$f(`vxe.input.date.labelFormat.${t.type||"date"}`))}function gS(e){return`vxe-${e.replace("$","")}`}function Ur({name:e}){return gC(e)}function bs({name:e}){return uw(gS(e))}function ts(e,t,o){const{$panel:n}=e;n.changeOption({},t,o)}function xs(e){let{name:t,attrs:o}=e;return t==="input"&&(o=Object.assign({type:"text"},o)),o}function bC(e){const{name:t,immediate:o,props:n}=e;if(!o){if(t==="VxeInput"||t==="$input"){const{type:u}=n||{};return!(!u||u==="text"||u==="number"||u==="integer"||u==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return o}function fo(e,t,o,n){return f.assign({immediate:bC(e)},mC,n,e.props,{[vC]:o})}function rs(e,t,o,n){return f.assign({},mC,n,e.props,{[vC]:o})}function Cs(e,t){return t.$type==="cell"||bC(e)}function jr(e,t,o,n){const{placeholder:u}=e;return[w("span",{class:["vxe-cell--label",n?n.class:""]},u&&Lf(o)?[w("span",{class:"vxe-cell--placeholder"},Mr(zo(u),1))]:Mr(o,1))]}function xC(e,t,o){const{events:n}=e,u=cC(e),c=uC(e),{model:d,change:v,blur:m}=o||{},x=c===u,i={};return n&&f.objectEach(n,(s,R)=>{i[En(R)]=function(...O){s(t,...O)}}),d&&(i[En(u)]=function(s){d(s),x&&v&&v(s),n&&n[u]&&n[u](t,s)}),!x&&v&&(i[En(c)]=function(s){v(s),n&&n[c]&&n[c](t,s)}),m&&(i[En(Ll)]=function(s){m(s),n&&n[Ll]&&n[Ll](t,s)}),i}const Ll="blur";function Pl(e,t,o,n){const{events:u}=e,c=cC(e),d=uC(e),{model:v,change:m,blur:x}=o||{},i={};return f.objectEach(u,(s,R)=>{i[En(R)]=function(...O){f.isFunction(s)||je("vxe.error.errFunc",[s]),s(t,...O)}}),v&&(i[En(c)]=function(s){v(s),u&&u[c]&&u[c](t,s)}),m&&(i[En(d)]=function(...s){m(...s),u&&u[d]&&u[d](t,...s)}),x&&(i[En(Ll)]=function(...s){x(...s),u&&u[Ll]&&u[Ll](t,...s)}),n?Object.assign(i,n):i}function vo(e,t){const{$table:o,row:n,column:u}=t,{name:c}=e,{model:d}=u,v=Cs(e,t);return Pl(e,t,{model(m){d.update=!0,d.value=m,v&&Mo(n,u,m)},change(m){if(!v&&c&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(c)){const x=m.value;d.update=!0,d.value=x,o.updateStatus(t,x)}else o.updateStatus(t)},blur(){v?o.handleCellRuleUpdateStatus("blur",t):o.handleCellRuleUpdateStatus("blur",t,d.value)}})}function os(e,t,o){return Pl(e,t,{model(n){o.data=n},change(){ts(t,!f.eqNull(o.data),o)},blur(){ts(t,!f.eqNull(o.data),o)}})}function CC(e,t){const{$table:o,row:n,column:u}=t,{model:c}=u;return xC(e,t,{model(d){const v=d.target;if(v){const m=v.value;Cs(e,t)?Mo(n,u,m):(c.update=!0,c.value=m)}},change(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}},blur(d){const v=d.target;if(v){const m=v.value;o.updateStatus(t,m)}}})}function wC(e,t,o){return xC(e,t,{model(n){const u=n.target;u&&(o.data=u.value)},change(){ts(t,!f.eqNull(o.data),o)},blur(){ts(t,!f.eqNull(o.data),o)}})}function of(e,t){const{row:o,column:n}=t,{name:u}=e,c=Cs(e,t)?wr(o,n):n.model.value;return[w(u,Object.assign(Object.assign(Object.assign({class:`vxe-default-${u}`},xs(e)),{value:c}),CC(e,t)))]}function vS(e,t){return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,null)),Pl(e,t)))]}function Qr(e,t){const{row:o,column:n}=t,u=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,u)),vo(e,t)))]}function mS(e,t){const{row:o,column:n}=t,u=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,u)),vo(e,t)))]}function lb(e,t){const{options:o}=e,{row:n,column:u}=t,c=wr(n,u);return[w(Ur(e),Object.assign(Object.assign({options:o},fo(e,t,c)),vo(e,t)))]}function Wi(e,t){const{row:o,column:n}=t,u=wr(o,n);return[w(bs(e),Object.assign(Object.assign({},fo(e,t,u)),vo(e,t)))]}function yC(e,t){return[w(gC("vxe-button"),Object.assign(Object.assign({},fo(e,t,null)),Pl(e,t)))]}function bS(e,t){return e.children.map(o=>yC(o,t)[0])}function EC(e,t,o){const{optionGroups:n,optionGroupProps:u={}}=e,c=u.options||"options",d=u.label||"label";return n?n.map((v,m)=>w("optgroup",{key:m,label:v[d]},o(v[c],e,t))):[]}function ns(e,t,o){const{optionProps:n={}}=t,{row:u,column:c}=o,d=n.label||"label",v=n.value||"value",m=n.disabled||"disabled",x=Cs(t,o)?wr(u,c):c.model.value;return e?e.map((i,s)=>w("option",{key:s,value:i[v],disabled:i[m],selected:i[v]==x},i[d])):[]}function xS(e,t){const{column:o}=t,{name:n}=e,u=xs(e);return o.filters.map((c,d)=>w(n,Object.assign(Object.assign(Object.assign({key:d,class:`vxe-default-${n}`},u),{value:c.data}),wC(e,t,c))))}function nf(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return w(Ur(e),Object.assign(Object.assign({key:u},rs(e,e,c)),os(e,t,n)))})}function CS(e,t){const{column:o}=t;return o.filters.map((n,u)=>{const c=n.data;return w(bs(e),Object.assign(Object.assign({key:u},rs(e,e,c)),os(e,t,n)))})}function ui({option:e,row:t,column:o}){const{data:n}=e;return f.get(t,o.field)==n}function di({option:e,row:t,column:o}){const{data:n}=e,u=f.get(t,o.field);return f.toValueString(u).indexOf(n)>-1}function ib(e,t){return[w("select",Object.assign(Object.assign({class:"vxe-default-select"},xs(e)),CC(e,t)),e.optionGroups?EC(e,t,ns):ns(e.options,e,t))]}function sb(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),vo(e,t)))]}function ab(e,t){const{row:o,column:n}=t,{options:u,optionProps:c}=e,d=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,d,{options:u,optionProps:c})),vo(e,t)))]}function cb(e,t){const{row:o,column:n}=t,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v}=e,m=wr(o,n);return[w(bs(e),Object.assign(Object.assign({},fo(e,t,m,{options:u,optionProps:c,optionGroups:d,optionGroupProps:v})),vo(e,t)))]}function Tl(e,{row:t,column:o}){const{options:n,optionGroups:u,optionProps:c={},optionGroupProps:d={}}=e,v=f.get(t,o.field);let m;const x=c.label||"label",i=c.value||"value";return v!=null?f.map(f.isArray(v)?v:[v],u?s=>{const R=d.options||"options";for(let O=0;O<u.length&&(m=f.find(u[O][R],S=>S[i]==s),!m);O++);return m?m[x]:s}:s=>(m=f.find(n,R=>R[i]==s),m?m[x]:s)).join(", "):""}function Gi(e){const{row:t,column:o,options:n}=e;return n.original?wr(t,o):Tl(o.editRender||o.cellRender,e)}function hi(e,{row:t,column:o}){const{options:n,optionProps:u={}}=e,c=f.get(t,o.field),d=u.label||"label",v=u.value||"value",m=u.children||"children";if(c!=null){const x={};return f.eachTree(n,i=>{x[f.get(i,v)]=i},{children:m}),f.map(f.isArray(c)?c:[c],i=>{const s=x[i];return s&&f.get(s,d)}).join(", ")}return""}function lf(e){const{row:t,column:o,options:n}=e;return n.original?wr(t,o):hi(o.editRender||o.cellRender,e)}function ub(e,t){const{props:o={},showNegativeStatus:n}=e,{row:u,column:c}=t,{type:d}=o;let v=f.get(u,c.field),m=!1;if(!Lf(v)){const x=Ji().numberInput||{};if(d==="float"){const i=$o(o.autoFill,x.autoFill,!0),s=$o(o.digits,x.digits,1);v=f.toFixed(f.floor(v,s),s),i||(v=f.toNumber(v)),n&&v<0&&(m=!0)}else if(d==="amount"){const i=$o(o.autoFill,x.autoFill,!0),s=$o(o.digits,x.digits,2),R=$o(o.showCurrency,x.showCurrency,!1);if(v=f.toNumber(v),n&&v<0&&(m=!0),v=f.commafy(v,{digits:s}),!i){const[O,S]=v.split(".");if(S){const F=S.replace(/0+$/,"");v=F?[O,".",F].join(""):O}}R&&(v=`${o.currencySymbol||x.currencySymbol||$f("vxe.numberInput.currencySymbol")||""}${v}`)}else n&&f.toNumber(v)<0&&(m=!0)}return jr(e,t,v,m?{class:"is--negative"}:{})}fS.mixin({input:{tableAutoFocus:"input",renderTableEdit:of,renderTableDefault:of,renderTableFilter:xS,tableFilterDefaultMethod:di},textarea:{tableAutoFocus:"textarea",renderTableEdit:of},select:{renderTableEdit:ib,renderTableDefault:ib,renderTableCell(e,t){return jr(e,t,Tl(e,t))},renderTableFilter(e,t){const{column:o}=t;return o.filters.map((n,u)=>w("select",Object.assign(Object.assign({key:u,class:"vxe-default-select"},xs(e)),wC(e,t,n)),e.optionGroups?EC(e,t,ns):ns(e.options,e,t)))},tableFilterDefaultMethod:ui,tableExportMethod:Gi},VxeInput:{tableAutoFocus:"input",renderTableEdit:Qr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t,c=Ji().input||{},d=o.digits||c.digits||2;let v=f.get(n,u.field);if(v)switch(o.type){case"date":case"week":case"month":case"quarter":case"year":v=rf(v,o);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return jr(e,t,v)},renderTableDefault:Qr,renderTableFilter:nf,tableFilterDefaultMethod:di},FormatNumberInput:{renderTableDefault:ub,tableFilterDefaultMethod:di,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:Qr,renderTableCell:ub,renderTableFooter(e,t){const{props:o={}}=e,{row:n,column:u,_columnIndex:c}=t,{type:d}=o,v=f.isArray(n)?n[c]:f.get(n,u.field);if(f.isNumber(v)){const m=Ji().numberInput||{};if(d==="float"){const x=$o(o.autoFill,m.autoFill,!0),i=$o(o.digits,m.digits,1);let s=f.toFixed(f.floor(v,i),i);return x||(s=f.toNumber(s)),s}else if(d==="amount"){const x=$o(o.autoFill,m.autoFill,!0),i=$o(o.digits,m.digits,2),s=$o(o.showCurrency,m.showCurrency,!1);let R=f.commafy(f.toNumber(v),{digits:i});if(!x){const[O,S]=R.split(".");if(S){const F=S.replace(/0+$/,"");R=F?[O,".",F].join(""):O}}return s&&(R=`${o.currencySymbol||m.currencySymbol||$f("vxe.numberInput.currencySymbol")||""}${R}`),R}}return zo(v,1)},renderTableDefault:Qr,renderTableFilter:nf,tableFilterDefaultMethod:di,tableExportMethod(e){const{row:t,column:o}=e;return f.get(t,o.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:Qr,renderTableCell(e,t){const{props:o={}}=e,{row:n,column:u}=t;let c=f.get(n,u.field);return c&&o.type!=="time"&&(c=rf(c,o)),jr(e,t,c)},renderTableDefault:Qr,renderTableFilter:nf,tableFilterDefaultMethod:ui},VxeDateRangePicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{startField:o,endField:n}=e,{$table:u,row:c,column:d}=t,{model:v}=d,m=wr(c,d),x={},i={};return o&&n&&(x.startValue=f.get(c,o),x.endValue=f.get(c,n),i["onUpdate:startValue"]=s=>{o&&f.set(c,o,s)},i["onUpdate:endValue"]=s=>{n&&f.set(c,n,s)}),[w(Ur(e),Object.assign(Object.assign({},fo(e,t,m,x)),Pl(e,t,{model(s){v.update=!0,v.value=s,Mo(c,d,s)},change(){u.updateStatus(t)},blur(){u.handleCellRuleUpdateStatus("blur",t)}},i)))]},renderTableCell(e,t){const{startField:o,endField:n}=e,{row:u,column:c}=t;let d="",v="";if(o&&n)d=f.get(u,o),v=f.get(u,n);else{const x=f.get(u,c.field);if(x)if(f.isArray(x))d=x[0],v=x[1];else{const i=`${x}`.split(",");d=i[0],v=i[1]}}let m="";return d&&v&&(m=`${d} ~ ${v}`),jr(e,t,m)}},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:Qr,renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return jr(e,t,u)}},VxeButton:{renderTableDefault:vS},VxeButtonGroup:{renderTableDefault(e,t){const{options:o}=e;return[w(Ur(e),Object.assign(Object.assign({options:o},fo(e,t,null)),Pl(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:sb,renderTableDefault:sb,renderTableCell(e,t){return jr(e,t,Tl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return w(Ur(e),Object.assign(Object.assign({key:m},rs(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),os(e,t,v)))})},tableFilterDefaultMethod:ui,tableExportMethod:Gi},formatOption:{renderTableDefault(e,t){return jr(e,t,Tl(e,t))}},FormatSelect:{renderTableDefault(e,t){return jr(e,t,Tl(e,t))},tableFilterDefaultMethod:ui,tableExportMethod:Gi},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:ab,renderTableCell(e,t){return jr(e,t,hi(e,t))},tableExportMethod:lf},formatTree:{renderTableDefault(e,t){return jr(e,t,hi(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return jr(e,t,hi(e,t))},tableExportMethod:lf},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:ab,renderTableCell(e,t){return jr(e,t,hi(e,t))},tableExportMethod:lf},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,c,{colors:u})),vo(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return w("span",{class:"vxe-color-picker--readonly"},[w("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:u}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:o,column:n}=t,{options:u}=e,c=wr(o,n);return[w(Ur(e),Object.assign(Object.assign({},fo(e,t,c,{icons:u})),vo(e,t)))]},renderTableCell(e,t){const{row:o,column:n}=t,u=f.get(o,n.field);return w("i",{class:u})}},VxeRadioGroup:{renderTableDefault:lb},VxeCheckbox:{renderTableDefault:mS},VxeCheckboxGroup:{renderTableDefault:lb},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:Qr,renderTableDefault:Qr},VxeUpload:{renderTableEdit:Qr,renderTableCell:Qr,renderTableDefault:Qr},VxeImage:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=wr(o,n);return[w(Ur(e),Object.assign(Object.assign(Object.assign({},u),{src:c}),vo(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=wr(o,n);return[w(Ur(e),Object.assign(Object.assign(Object.assign({},u),{urlList:c}),vo(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:o,column:n}=t,{props:u}=e,c=wr(o,n);return[w(Ur(e),Object.assign(Object.assign(Object.assign({},u),{content:c}),vo(e,t)))]}},VxeRate:{renderTableDefault:Qr},VxeSlider:{renderTableDefault:Qr},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:Wi,renderTableCell(e,t){var o;const{props:n={}}=e,{row:u,column:c}=t,d=n.digits||((o=Ji().input)===null||o===void 0?void 0:o.digits)||2;let v=f.get(u,c.field);if(v)switch(n.type){case"date":case"week":case"month":case"year":v=rf(v,n);break;case"float":v=f.toFixed(f.floor(v,d),d);break}return jr(e,t,v)},renderTableDefault:Wi,renderTableFilter:CS,tableFilterDefaultMethod:di},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:yC},$buttons:{renderTableDefault:bS},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:cb,renderTableDefault:cb,renderTableCell(e,t){return jr(e,t,Tl(e,t))},renderTableFilter(e,t){const{column:o}=t,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d}=e;return o.filters.map((v,m)=>{const x=v.data;return w(bs(e),Object.assign(Object.assign({key:m},rs(e,t,x,{options:n,optionProps:u,optionGroups:c,optionGroupProps:d})),os(e,t,v)))})},tableFilterDefaultMethod:ui,tableExportMethod:Gi},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:Wi,renderTableDefault:Wi}});Object.assign({},el,{install(e){e.component(el.name,el)}});const wS={useCellView:AR};xe.dynamicApp&&xe.dynamicApp.component(el.name,el);xe.component(el);xe.tableHandle=wS;Object.assign({},tl,{install(e){e.component(tl.name,tl)}});xe.dynamicApp&&xe.dynamicApp.component(tl.name,tl);xe.component(tl);const yS={vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} "},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} ",rowGroupContentTotal:"{0}{1}"},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{search:"",loadingText:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},dateRangePicker:{pleaseRange:""},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}"},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},extendPivotTable:{aggregation:{grouping:"",values:""}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}};if(!xe.hasLanguage("zh-CN")){const e="zh-CN";xe.setI18n(e,yS),xe.setLanguage(e)}xe.setTheme("light");const ES={class:"grid-demo"},RS=ls({name:"VxeTableDemo",__name:"vxe-table-demo",setup(e){const t=Pe(!1),o=to({pageNo:1,pageSize:50,total:51}),n=Pe(null),u=to({border:!0,loading:!1,showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,height:400,columnConfig:{resizable:!0},scrollY:{enabled:!0,gt:0}}),c=[{field:"product_id",title:"id",width:150},{field:"product_name",title:"",width:150},{field:"price",title:"",width:150},{field:"category",title:"",width:150},{field:"stock",title:"",width:150},{field:"description",title:"",width:300}],d=Pe([]),v=async()=>{console.log("2222222222222"),t.value=!0,await pb({search:"",pageNo:o.pageNo,pageSize:o.pageSize}).then(x=>{var i;console.log("res",x),d.value=[...d.value,...((i=x==null?void 0:x.data)==null?void 0:i.products)||[]],console.log("tableData.value",d.value)}).finally(()=>{t.value=!1})},m={scroll:x=>{const{scrollTop:i,bodyHeight:s,scrollHeight:R}=x;i+s>=R-1&&(console.log(""),o.pageNo+=1,v())}};return nn(()=>{v()}),(x,i)=>(Qn(),ji("div",ES,[vi(fb(kR),dw({ref_key:"gridRef",ref:n},u,{columns:c,data:d.value},fw(m)),null,16,["data"])]))}}),SS=hb(RS,[["__scopeId","data-v-dbd84d35"]]),OS={style:{width:"100%"}},DS={key:0,class:"loading-container"},MS={key:1,class:"no-more-data"},TS=ls({__name:"table-optimization",setup(e){const t=Pe(null),o=Pe(!1),n=Pe(!0),u=Pe([]),c=to({pageNo:0,pageSize:50,total:51}),d=[{key:"product_id",dataKey:"product_id",title:"id",width:150},{key:"product_name",dataKey:"product_name",title:"",width:150},{key:"price",dataKey:"price",title:"",width:150},{key:"category",dataKey:"category",title:"",width:150},{key:"stock",dataKey:"stock",title:"",width:150},{key:"description",dataKey:"description",title:"",width:150}],v=async()=>{console.log("2222222222222"),o.value=!0,await pb({search:"",pageNo:c.pageNo,pageSize:c.pageSize}).then(s=>{var R;console.log("res",s),u.value=[...u.value,...((R=s==null?void 0:s.data)==null?void 0:R.products)||[]]}).finally(()=>{o.value=!1})},m=async()=>{c.pageNo+=1,v()},i=hw(()=>{const s=document.querySelector(".el-table-v2__body div");o.value||!n.value||(console.log("element.scrollHeight,element.scrollTop,element.clientHeight,:",s.scrollHeight,s.scrollTop,s.clientHeight,0),s.scrollHeight<=s.scrollTop+s.clientHeight+0&&c.total>c.pageNo*c.pageSize&&m())},300);return nn(()=>{}),(s,R)=>{const O=pw,S=gw;return Qn(),ji("div",OS,[vi(O,{ref_key:"tableRef",ref:t,columns:d,data:u.value,width:1e3,height:400,fixed:"",onScroll:fb(i)},null,8,["data","onScroll"]),o.value?(Qn(),ji("div",DS,[vi(S,{animated:"",row:"1","column-width":[200]})])):Qe("",!0),!o.value&&n.value===!1?(Qn(),ji("div",MS,"")):Qe("",!0)])}}}),FS=ls({name:"personal-content_table-optimization",__name:"index",setup(e){const t=Pe("first"),o=(n,u)=>{console.log(n,u)};return(n,u)=>{const c=TS,d=vw,v=SS,m=mw;return Qn(),qs(m,{modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=x=>t.value=x),class:"demo-tabs",onTabClick:o},{default:Ps(()=>[vi(d,{label:"elementPlus Virtualized Table",name:"first"},{default:Ps(()=>[t.value==="first"?(Qn(),qs(c,{key:0})):Qe("",!0)]),_:1}),vi(d,{label:"VXE-Table",name:"second"},{default:Ps(()=>[t.value==="second"?(Qn(),qs(v,{key:0})):Qe("",!0)]),_:1})]),_:1},8,["modelValue"])}}}),AS=hb(FS,[["__scopeId","data-v-cf0c1ead"]]);export{AS as default};
