import{a2 as T,s as L,R as x,aG as R,a5 as w,a6 as B,ae as E,bQ as M,c0 as j,c1 as G,c2 as Q,c3 as q,c4 as A,c5 as D,c6 as H,c7 as I,c8 as J,c9 as K,ca as N,cb as P,cc as V,cd as W,ce as X,cf as Y,cg as Z,ch as _}from"./vue-vendor-DLKW-W3j.js";import{d as F}from"./index-BRPcTNaf.js";j([G,Q,q,A,D,H,I,J,K,N,P,V,W,X,Y,Z,_]);function sa(d,$={}){const h=T(),p=F(),l=L(()=>p.darkMode),e=x(null),i={width:0,height:0},{width:m,height:b}=R(e,i);let a=null;const o=d(),{onRender:r=s=>{const t=l.value?"rgb(224, 224, 224)":"rgb(31, 31, 31)",C=l.value?"rgba(0, 0, 0, 0.4)":"rgba(255, 255, 255, 0.8)";s.showLoading({color:p.themeColor,textColor:t,fontSize:14,maskColor:C})},onUpdated:n=s=>{s.hideLoading()},onDestroy:u}=$;function O(){return e.value&&i.width>0&&i.height>0}function c(){return!!(e.value&&a)}async function S(s=()=>o){if(!c())return;const t=s(o,d);Object.assign(o,t),c()&&(a==null||a.clear()),a==null||a.setOption({...t,backgroundColor:"transparent"}),await(n==null?void 0:n(a))}function k(s){a==null||a.setOption(s)}async function g(){if(!c()){const s=l.value?"dark":"light";await E(),a=M(e.value,s),a.setOption({...o,backgroundColor:"transparent"}),await(r==null?void 0:r(a))}}function v(){a==null||a.resize()}async function f(){a&&(await(u==null?void 0:u(a)),a==null||a.dispose(),a=null)}async function y(){await f(),await g(),await(n==null?void 0:n(a))}async function z(s,t){if(i.width=s,i.height=t,!O()){await f();return}c()&&v(),await g()}return h.run(()=>{w([m,b],([s,t])=>{z(s,t)}),w(l,()=>{y()})}),B(()=>{f(),h.stop()}),{domRef:e,updateOptions:S,setOptions:k}}export{sa as u};
