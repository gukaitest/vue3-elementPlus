import{j as ee,c as I,B as W,u as z,C as D,G,A as re,$ as N,_ as ue,D as Z,F as ce,d as O,i as de,H as j,I as pe,J as me,K as J}from"./index-DqhHIM60.js";import{r as C,t as M,v as n,J as i,D as e,dc as _e,P as u,G as te,ar as fe,K as s,dd as he,F as k,al as $,y as K,bT as ve,M as H,ao as V,de as ye,a8 as U,R as q,a5 as X,df as P,dg as w,s as b,dh as xe,as as Me,C as F,H as R}from"./vue-vendor-DLKW-W3j.js";const ke={class:"h-full flex-1-hidden"},Q=C({name:"SimpleScrollbar",__name:"index",setup(v){return(r,t)=>(n(),M("div",ke,[i(e(_e),{class:"h-full"},{default:u(()=>[te(r.$slots,"default")]),_:3})]))}}),ge={class:"ib-ellipsis"},Se={class:"ib-ellipsis"},Ce=C({__name:"menu-item",props:{item:{}},setup(v){const r=v.item.children&&v.item.children.length>0;return(t,l)=>{const m=ve,a=fe("MenuItem",!0),d=he,p=ye;return e(r)?(n(),s(d,{key:0,index:t.item.key},{title:u(()=>[i(m,null,{default:u(()=>[(n(),s(H(t.item.icon)))]),_:1}),K("span",ge,V(t.item.label),1)]),default:u(()=>[(n(!0),M(k,null,$(t.item.children,x=>(n(),s(a,{key:x.key,item:x,index:x.key},null,8,["item","index"]))),128))]),_:1},8,["index"])):(n(),s(p,{key:1},{default:u(()=>[i(m,null,{default:u(()=>[(n(),s(H(t.item.icon)))]),_:1}),K("span",Se,V(t.item.label),1)]),_:1}))}}}),E=ee(Ce,[["__scopeId","data-v-5741f413"]]),Ke=C({name:"VerticalMenu",__name:"vertical-menu",setup(v){const r=U(),t=I(),l=W(),{routerPushByKeyWithMetaQuery:m}=z(),{selectedKey:a}=D(),d=q([]);function p(){if(t.siderCollapse||!a.value){d.value=[];return}d.value=l.getSelectedMenuKeyPath(a.value)}return X(()=>r.name,()=>{p()},{immediate:!0}),(x,o)=>{const _=P;return n(),s(w,{to:`#${e(G)}`},[i(e(Q),null,{default:u(()=>[i(_,{mode:"vertical","default-active":e(a),"default-openeds":d.value,collapse:e(t).siderCollapse,onSelect:o[0]||(o[0]=c=>e(m)(c))},{default:u(()=>[(n(!0),M(k,null,$(e(l).menus,c=>(n(),s(E,{key:c.key,item:c,index:c.key},null,8,["item","index"]))),128))]),_:1},8,["default-active","default-openeds","collapse"])]),_:1})],8,["to"])}}}),$e=C({name:"PinToggler",__name:"pin-toggler",props:{pin:{type:Boolean}},setup(v){const r=v,t=b(()=>r.pin?"mdi-pin-off":"mdi-pin");return(l,m)=>{const a=ue,d=re;return n(),s(d,{"tooltip-content":l.pin?e(N)("icon.unpin"):e(N)("icon.pin"),"tooltip-placement":"bottom-start","z-index":100},{default:u(()=>[i(a,{icon:t.value},null,8,["icon"])]),_:1},8,["tooltip-content"])}}}),be={class:"h-full flex-col-stretch flex-1-hidden"},we=C({name:"FirstLevelMenu",__name:"first-level-menu",props:{menus:{},activeMenuKey:{},inverted:{type:Boolean},siderCollapse:{type:Boolean},darkMode:{type:Boolean},themeColor:{}},emits:["select","toggleSiderCollapse"],setup(v,{emit:r}){xe(o=>({"708632ff":d.value}));const t=v,l=r,[m,a]=Me(),d=b(()=>{const{darkMode:o,themeColor:_}=t,c=Z(_,.1,"#ffffff"),f=Z(_,.3,"#000000");return o?f:c});function p(o){l("select",o)}function x(){l("toggleSiderCollapse")}return(o,_)=>{const c=ce;return n(),M(k,null,[i(e(m),null,{default:u(({label:f,icon:h,active:g,isMini:S})=>[K("div",{class:F(["mx-4px mb-6px flex-col-center cursor-pointer rounded-8px bg-transparent px-4px py-8px transition-300 hover:bg-[rgb(0,0,0,0.08)]",{"text-primary selected-mix-menu":g,"text-white:65 hover:text-white":o.inverted,"!text-white !bg-primary":g&&o.inverted}])},[(n(),s(H(h),{class:F([S?"text-icon-small":"text-icon-large"])},null,8,["class"])),K("p",{class:F(["w-full ellipsis-text text-center text-12px transition-height-300",[S?"h-0 pt-0":"h-20px pt-4px"]])},V(f),3)],2)]),_:1}),K("div",be,[te(o.$slots,"default",{},void 0,!0),i(e(Q),null,{default:u(()=>[(n(!0),M(k,null,$(o.menus,f=>(n(),s(e(a),{key:f.key,label:f.label,icon:f.icon,active:f.key===o.activeMenuKey,"is-mini":o.siderCollapse,onClick:h=>p(f)},null,8,["label","icon","active","is-mini","onClick"]))),128))]),_:1}),i(c,{"arrow-icon":"",collapsed:o.siderCollapse,"z-index":99,class:F({"text-white:88 !hover:text-white":o.inverted}),onClick:x},null,8,["collapsed","class"])])],64)}}}),ne=ee(we,[["__scopeId","data-v-93a69ec6"]]),Ee={class:"text-16px text-primary font-bold"},Be=C({name:"VerticalMixMenu",__name:"vertical-mix-menu",setup(v){const r=U(),t=I(),l=O(),m=W(),{routerPushByKeyWithMetaQuery:a}=z(),{bool:d,setBool:p}=de(),{allMenus:x,childLevelMenus:o,activeFirstLevelMenuKey:_,setActiveFirstLevelMenuKey:c,getActiveFirstLevelMenuKey:f}=j(),{selectedKey:h}=D(),g=b(()=>!l.darkMode&&l.sider.inverted),S=b(()=>o.value.length>0),A=b(()=>S.value&&(d.value||t.mixSiderFixed));function y(T){var B;c(T.key),(B=T.children)!=null&&B.length?p(!0):a(T.routeKey)}function le(){p(!1),t.mixSiderFixed||f()}const Y=q([]);function oe(){if(t.siderCollapse||!h.value){Y.value=[];return}Y.value=m.getSelectedMenuKeyPath(h.value)}return X(()=>r.name,()=>{oe()},{immediate:!0}),(T,B)=>{const se=$e,ae=P,ie=me;return n(),s(w,{to:`#${e(G)}`},[K("div",{class:"h-full flex",onMouseleave:le},[i(ne,{menus:e(x),"active-menu-key":e(_),inverted:g.value,"sider-collapse":e(t).siderCollapse,"dark-mode":e(l).darkMode,"theme-color":e(l).themeColor,onSelect:y,onToggleSiderCollapse:e(t).toggleSiderCollapse},{default:u(()=>[i(pe,{"show-title":!1,style:R({height:e(l).header.height+"px"})},null,8,["style"])]),_:1},8,["menus","active-menu-key","inverted","sider-collapse","dark-mode","theme-color","onToggleSiderCollapse"]),K("div",{class:"relative h-full transition-width-300",style:R({width:e(t).mixSiderFixed&&S.value?e(l).sider.mixChildMenuWidth+"px":"0px"})},[i(ie,{class:"absolute-lt h-full flex-col-stretch nowrap-hidden shadow-sm transition-all-300",inverted:g.value,style:R({width:A.value?e(l).sider.mixChildMenuWidth+"px":"0px"})},{default:u(()=>[K("header",{class:"flex-y-center justify-between px-12px",style:R({height:e(l).header.height+"px"})},[K("h2",Ee,V(e(N)("system.title")),1),i(se,{pin:e(t).mixSiderFixed,class:F({"text-white:88 !hover:text-white":g.value}),onClick:e(t).toggleMixSiderFixed},null,8,["pin","class","onClick"])],4),i(e(Q),null,{default:u(()=>[i(ae,{mode:"vertical","default-active":e(h),onSelect:B[0]||(B[0]=L=>e(a)(L))},{default:u(()=>[(n(!0),M(k,null,$(e(o),L=>(n(),s(E,{key:L.key,item:L,index:L.key},null,8,["item","index"]))),128))]),_:1},8,["default-active"])]),_:1})]),_:1},8,["inverted","style"])],4)],32)],8,["to"])}}}),Le=C({name:"HorizontalMenu",__name:"horizontal-menu",setup(v){const r=W(),{routerPushByKeyWithMetaQuery:t}=z(),{selectedKey:l}=D();return(m,a)=>{const d=P;return n(),s(w,{to:`#${e(J)}`},[i(d,{ellipsis:"",class:"w-full",mode:"horizontal","default-active":e(l),onSelect:a[0]||(a[0]=p=>e(t)(p))},{default:u(()=>[(n(!0),M(k,null,$(e(r).menus,p=>(n(),s(E,{key:p.key,item:p,index:p.key},null,8,["item","index"]))),128))]),_:1},8,["default-active"])],8,["to"])}}}),Fe=C({name:"HorizontalMixMenu",__name:"horizontal-mix-menu",setup(v){const r=I(),t=O(),{routerPushByKeyWithMetaQuery:l}=z(),{allMenus:m,childLevelMenus:a,activeFirstLevelMenuKey:d,setActiveFirstLevelMenuKey:p}=j(),{selectedKey:x}=D();function o(_){var c;p(_.key),(c=_.children)!=null&&c.length||l(_.routeKey)}return(_,c)=>{const f=P;return n(),M(k,null,[(n(),s(w,{to:`#${e(J)}`},[i(f,{ellipsis:"",class:"w-full",mode:"horizontal","default-active":e(x),onSelect:c[0]||(c[0]=h=>e(l)(h))},{default:u(()=>[(n(!0),M(k,null,$(e(a),h=>(n(),s(E,{key:h.key,item:h,index:h.key},null,8,["item","index"]))),128))]),_:1},8,["default-active"])],8,["to"])),(n(),s(w,{to:`#${e(G)}`},[i(ne,{menus:e(m),"active-menu-key":e(d),"sider-collapse":e(r).siderCollapse,"dark-mode":e(t).darkMode,"theme-color":e(t).themeColor,onSelect:o,onToggleSiderCollapse:e(r).toggleSiderCollapse},null,8,["menus","active-menu-key","sider-collapse","dark-mode","theme-color","onToggleSiderCollapse"])],8,["to"]))],64)}}}),Ie=C({name:"ReversedHorizontalMixMenu",__name:"reversed-horizontal-mix-menu",setup(v){const r=U(),t=I(),l=W(),{routerPushByKeyWithMetaQuery:m}=z(),{firstLevelMenus:a,childLevelMenus:d,activeFirstLevelMenuKey:p,setActiveFirstLevelMenuKey:x,isActiveFirstLevelMenuHasChildren:o}=j(),{selectedKey:_}=D();function c(g){x(g),o.value||m(g)}const f=q([]);function h(){if(t.siderCollapse||!_.value){f.value=[];return}f.value=l.getSelectedMenuKeyPath(_.value)}return X(()=>r.name,()=>{h()},{immediate:!0}),(g,S)=>{const A=P;return n(),M(k,null,[(n(),s(w,{to:`#${e(J)}`},[i(A,{ellipsis:"",class:"w-full",mode:"horizontal","default-active":e(p),onSelect:S[0]||(S[0]=y=>c(y))},{default:u(()=>[(n(!0),M(k,null,$(e(a),y=>(n(),s(E,{key:y.key,item:y,index:y.key},null,8,["item","index"]))),128))]),_:1},8,["default-active"])],8,["to"])),(n(),s(w,{to:`#${e(G)}`},[i(e(Q),null,{default:u(()=>[i(A,{mode:"vertical","default-active":e(_),collapse:e(t).siderCollapse,onSelect:S[1]||(S[1]=y=>e(m)(y))},{default:u(()=>[(n(!0),M(k,null,$(e(d),y=>(n(),s(E,{key:y.key,item:y,index:y.key},null,8,["item","index"]))),128))]),_:1},8,["default-active","collapse"])]),_:1})],8,["to"]))],64)}}}),Pe=C({name:"GlobalMenu",__name:"index",setup(v){const r=I(),t=O(),l=b(()=>({vertical:Ke,"vertical-mix":Be,horizontal:Le,"horizontal-mix":t.layout.reverseHorizontalMix?Ie:Fe})[t.layout.mode]),m=b(()=>t.layout.mode==="vertical"&&r.isMobile);return(a,d)=>(n(),s(H(l.value),{key:m.value}))}});export{Pe as default};
