import{r as N,a as k,k as W,l as j,d as $,m as A,b as L,o as E,e as i,n as H,u as F,$ as a,c as S,w as s,f as o,p as M,q as B,h as e,s as U,v as q,g as y,t as v,E as I,x as P,y as Z,F as J,z as Q,A as D,B as G,C as X,D as Y,G as ee,H as oe,I as le,J as ne,K as te,L as ae,T as se,M as re,N as de,O as ie}from"./index-V8uww8ns.js";import{u as T,a as O,R as pe}from"./form-BNqC9Ni7.js";function ce(C){const p=N(0),u=k(()=>Math.ceil(p.value/60)),m=k(()=>p.value>0),{pause:r,resume:x}=W(()=>{p.value>0?p.value-=1:r()},{immediate:!1});function _(w=C){p.value=60*w,x()}function l(){p.value=0,r()}return j(()=>{r()}),{count:u,isCounting:m,start:_,stop:l}}const ue={class:"absolute-lt z-1 size-full overflow-hidden"},me={class:"absolute -right-300px -top-900px lt-sm:-right-100px lt-sm:-top-1170px"},fe={height:"1337",width:"1337"},ge={id:"linearGradient-2",x1:"0.79",y1:"0.62",x2:"0.21",y2:"0.86"},_e=["stop-color"],we=["stop-color"],he={class:"absolute -bottom-400px -left-200px lt-sm:-bottom-760px lt-sm:-left-100px"},ve={height:"896",width:"967.8852157128662"},xe={id:"linearGradient-3",x1:"0.5",y1:"0",x2:"0.5",y2:"1"},ye=["stop-color"],Ce=["stop-color"],be=$({name:"WaveBg",__name:"wave-bg",props:{themeColor:{}},setup(C){const g=C,p=k(()=>A(g.themeColor,200)),u=k(()=>A(g.themeColor,500));return(m,r)=>(E(),L("div",ue,[i("div",me,[(E(),L("svg",fe,[i("defs",null,[r[0]||(r[0]=i("path",{id:"path-1",opacity:"1","fill-rule":"evenodd",d:"M1337,668.5 C1337,1037.455193874239 1037.455193874239,1337 668.5,1337 C523.6725684305388,1337 337,1236 370.50000000000006,1094 C434.03835568300906,824.6732385973953 6.906089672974592e-14,892.6277623047779 0,668.5000000000001 C0,299.5448061257611 299.5448061257609,1.1368683772161603e-13 668.4999999999999,0 C1037.455193874239,0 1337,299.544806125761 1337,668.5Z"},null,-1)),i("linearGradient",ge,[i("stop",{offset:"0","stop-color":p.value,"stop-opacity":"1"},null,8,_e),i("stop",{offset:"1","stop-color":u.value,"stop-opacity":"1"},null,8,we)])]),r[1]||(r[1]=i("g",{opacity:"1"},[i("use",{"xlink:href":"#path-1",fill:"url(#linearGradient-2)","fill-opacity":"1"})],-1))]))]),i("div",he,[(E(),L("svg",ve,[i("defs",null,[r[2]||(r[2]=i("path",{id:"path-2",opacity:"1","fill-rule":"evenodd",d:"M896,448 C1142.6325445712241,465.5747656464056 695.2579309733121,896 448,896 C200.74206902668806,896 5.684341886080802e-14,695.2579309733121 0,448.0000000000001 C0,200.74206902668806 200.74206902668791,5.684341886080802e-14 447.99999999999994,0 C695.2579309733121,0 475,418 896,448Z"},null,-1)),i("linearGradient",xe,[i("stop",{offset:"0","stop-color":u.value,"stop-opacity":"1"},null,8,ye),i("stop",{offset:"1","stop-color":p.value,"stop-opacity":"1"},null,8,Ce)])]),r[3]||(r[3]=i("g",{opacity:"1"},[i("use",{"xlink:href":"#path-2",fill:"url(#linearGradient-3)","fill-opacity":"1"})],-1))]))])]))}}),ke={class:"flex-y-center justify-between"},Ee={class:"flex-y-center justify-between gap-12px"},Ve={class:"flex-center gap-12px"},Pe=$({name:"PwdLogin",__name:"pwd-login",setup(C){const g=H(),{toggleLoginModule:p}=F(),{formRef:u,validate:m}=T(),r=N({userName:"Soybean",password:"123456"}),x=k(()=>{const{formRules:d}=O();return{userName:d.userName,password:d.pwd}});async function _(){await m(),await g.login(r.value.userName,r.value.password)}const l=k(()=>[{key:"super",label:a("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:a("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:a("page.login.pwdLogin.user"),userName:"User",password:"123456"}]);async function w(d){await g.login(d.userName,d.password)}return(d,n)=>{const t=B,f=M,c=q,b=I,z=Z,R=U,h=G;return E(),S(h,{ref_key:"formRef",ref:u,model:r.value,rules:x.value,size:"large","show-label":!1,onKeyup:D(_,["enter"])},{default:s(()=>[o(f,{prop:"userName"},{default:s(()=>[o(t,{modelValue:r.value.userName,"onUpdate:modelValue":n[0]||(n[0]=V=>r.value.userName=V),placeholder:e(a)("page.login.common.userNamePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(f,{prop:"password"},{default:s(()=>[o(t,{modelValue:r.value.password,"onUpdate:modelValue":n[1]||(n[1]=V=>r.value.password=V),type:"password","show-password-on":"click",placeholder:e(a)("page.login.common.passwordPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(R,{direction:"vertical",size:24,class:"w-full",fill:""},{default:s(()=>[i("div",ke,[o(c,null,{default:s(()=>[y(v(e(a)("page.login.pwdLogin.rememberMe")),1)]),_:1}),o(b,{text:"",onClick:n[2]||(n[2]=V=>e(p)("reset-pwd"))},{default:s(()=>[y(v(e(a)("page.login.pwdLogin.forgetPassword")),1)]),_:1})]),o(b,{type:"primary",size:"large",round:"",block:"",loading:e(g).loginLoading,onClick:_},{default:s(()=>[y(v(e(a)("common.confirm")),1)]),_:1},8,["loading"]),i("div",Ee,[o(b,{class:"flex-1",size:"default",onClick:n[3]||(n[3]=V=>e(p)("code-login"))},{default:s(()=>[y(v(e(a)(e(P)["code-login"])),1)]),_:1}),o(b,{class:"flex-1",size:"default",onClick:n[4]||(n[4]=V=>e(p)("register"))},{default:s(()=>[y(v(e(a)(e(P).register)),1)]),_:1})]),o(z,{class:"text-14px text-#666 !m-0"},{default:s(()=>[y(v(e(a)("page.login.pwdLogin.otherAccountLogin")),1)]),_:1}),i("div",Ve,[(E(!0),L(J,null,Q(l.value,V=>(E(),S(b,{key:V.key,size:"default",type:"primary",disabled:e(g).loginLoading,onClick:Te=>w(V)},{default:s(()=>[y(v(V.label),1)]),_:2},1032,["disabled","onClick"]))),128))])]),_:1})]),_:1},8,["model","rules"])}}});function K(){const{loading:C,startLoading:g,endLoading:p}=X(),{count:u,start:m,stop:r,isCounting:x}=ce(10),_=k(()=>{let d=a("page.login.codeLogin.getCode");const n=a("page.login.codeLogin.reGetCode",{time:u.value});return C.value&&(d=""),x.value&&(d=n),d});function l(d){var n,t,f,c;return d.trim()===""?((t=(n=window.$message)==null?void 0:n.error)==null||t.call(n,a("form.phone.required")),!1):pe.test(d)?!0:((c=(f=window.$message)==null?void 0:f.error)==null||c.call(f,a("form.phone.invalid")),!1)}async function w(d){var t,f;!l(d)||C.value||(g(),await new Promise(c=>{setTimeout(c,500)}),(f=(t=window.$message)==null?void 0:t.success)==null||f.call(t,a("page.login.codeLogin.sendCodeSuccess")),m(),p())}return{label:_,start:m,stop:r,isCounting:x,loading:C,getCaptcha:w}}const Se={class:"w-full flex-y-center gap-16px"},$e=$({name:"CodeLogin",__name:"code-login",setup(C){const{toggleLoginModule:g}=F(),{formRef:p,validate:u}=T(),{label:m,isCounting:r,loading:x,getCaptcha:_}=K(),l=N({phone:"",code:""}),w=k(()=>{const{formRules:n}=O();return{phone:n.phone,code:n.code}});async function d(){var n;await u(),(n=window.$message)==null||n.success(a("page.login.common.validateSuccess"))}return(n,t)=>{const f=B,c=M,b=I,z=U,R=G;return E(),S(R,{ref_key:"formRef",ref:p,model:l.value,rules:w.value,size:"large","show-label":!1,onKeyup:D(d,["enter"])},{default:s(()=>[o(c,{prop:"phone"},{default:s(()=>[o(f,{modelValue:l.value.phone,"onUpdate:modelValue":t[0]||(t[0]=h=>l.value.phone=h),placeholder:e(a)("page.login.common.phonePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(c,{prop:"code"},{default:s(()=>[i("div",Se,[o(f,{modelValue:l.value.code,"onUpdate:modelValue":t[1]||(t[1]=h=>l.value.code=h),placeholder:e(a)("page.login.common.codePlaceholder")},null,8,["modelValue","placeholder"]),o(b,{size:"large",disabled:e(r),loading:e(x),onClick:t[2]||(t[2]=h=>e(_)(l.value.phone))},{default:s(()=>[y(v(e(m)),1)]),_:1},8,["disabled","loading"])])]),_:1}),o(z,{direction:"vertical",size:18,fill:"",class:"w-full"},{default:s(()=>[o(b,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:s(()=>[y(v(e(a)("common.confirm")),1)]),_:1}),o(b,{size:"large",round:"",block:"",onClick:t[3]||(t[3]=h=>e(g)("pwd-login"))},{default:s(()=>[y(v(e(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Le={class:"w-full flex-y-center gap-16px"},ze=$({name:"Register",__name:"register",setup(C){const{toggleLoginModule:g}=F(),{formRef:p,validate:u}=T(),{label:m,isCounting:r,loading:x,getCaptcha:_}=K(),l=N({phone:"",code:"",password:"",confirmPassword:""}),w=k(()=>{const{formRules:n,createConfirmPwdRule:t}=O();return{phone:n.phone,code:n.code,password:n.pwd,confirmPassword:t(l.value.password)}});async function d(){var n;await u(),(n=window.$message)==null||n.success(a("page.login.common.validateSuccess"))}return(n,t)=>{const f=B,c=M,b=I,z=U,R=G;return E(),S(R,{ref_key:"formRef",ref:p,model:l.value,rules:w.value,size:"large","show-label":!1,onKeyup:D(d,["enter"])},{default:s(()=>[o(c,{prop:"phone"},{default:s(()=>[o(f,{modelValue:l.value.phone,"onUpdate:modelValue":t[0]||(t[0]=h=>l.value.phone=h),placeholder:e(a)("page.login.common.phonePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(c,{prop:"code"},{default:s(()=>[i("div",Le,[o(f,{modelValue:l.value.code,"onUpdate:modelValue":t[1]||(t[1]=h=>l.value.code=h),placeholder:e(a)("page.login.common.codePlaceholder")},null,8,["modelValue","placeholder"]),o(b,{size:"large",disabled:e(r),loading:e(x),onClick:t[2]||(t[2]=h=>e(_)(l.value.phone))},{default:s(()=>[y(v(e(m)),1)]),_:1},8,["disabled","loading"])])]),_:1}),o(c,{prop:"password"},{default:s(()=>[o(f,{modelValue:l.value.password,"onUpdate:modelValue":t[3]||(t[3]=h=>l.value.password=h),type:"password","show-password-on":"click",placeholder:e(a)("page.login.common.passwordPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(c,{prop:"confirmPassword"},{default:s(()=>[o(f,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":t[4]||(t[4]=h=>l.value.confirmPassword=h),type:"password","show-password-on":"click",placeholder:e(a)("page.login.common.confirmPasswordPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(z,{direction:"vertical",size:18,fill:"",class:"w-full"},{default:s(()=>[o(b,{type:"primary",size:"large",round:"",block:"",onClick:d},{default:s(()=>[y(v(e(a)("common.confirm")),1)]),_:1}),o(b,{size:"large",round:"",onClick:t[5]||(t[5]=h=>e(g)("pwd-login"))},{default:s(()=>[y(v(e(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Re=$({name:"ResetPwd",__name:"reset-pwd",setup(C){const{toggleLoginModule:g}=F(),{formRef:p,validate:u}=T(),m=N({phone:"",code:"",password:"",confirmPassword:""}),r=k(()=>{const{formRules:_,createConfirmPwdRule:l}=O();return{phone:_.phone,password:_.pwd,confirmPassword:l(m.value.password)}});async function x(){var _;await u(),(_=window.$message)==null||_.success(a("page.login.common.validateSuccess"))}return(_,l)=>{const w=B,d=M,n=I,t=U,f=G;return E(),S(f,{ref_key:"formRef",ref:p,model:m.value,rules:r.value,size:"large","show-label":!1,onKeyup:D(x,["enter"])},{default:s(()=>[o(d,{prop:"phone"},{default:s(()=>[o(w,{modelValue:m.value.phone,"onUpdate:modelValue":l[0]||(l[0]=c=>m.value.phone=c),placeholder:e(a)("page.login.common.phonePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(d,{prop:"code"},{default:s(()=>[o(w,{modelValue:m.value.code,"onUpdate:modelValue":l[1]||(l[1]=c=>m.value.code=c),placeholder:e(a)("page.login.common.codePlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(d,{prop:"password"},{default:s(()=>[o(w,{modelValue:m.value.password,"onUpdate:modelValue":l[2]||(l[2]=c=>m.value.password=c),type:"password","show-password-on":"click",placeholder:e(a)("page.login.common.passwordPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(d,{prop:"confirmPassword"},{default:s(()=>[o(w,{modelValue:m.value.confirmPassword,"onUpdate:modelValue":l[3]||(l[3]=c=>m.value.confirmPassword=c),type:"password","show-password-on":"click",placeholder:e(a)("page.login.common.confirmPasswordPlaceholder")},null,8,["modelValue","placeholder"])]),_:1}),o(t,{direction:"vertical",fill:"",size:18,class:"w-full"},{default:s(()=>[o(n,{type:"primary",size:"large",round:"",onClick:x},{default:s(()=>[y(v(e(a)("common.confirm")),1)]),_:1}),o(n,{size:"large",round:"",onClick:l[4]||(l[4]=c=>e(g)("pwd-login"))},{default:s(()=>[y(v(e(a)("page.login.common.back")),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),Ne=$({name:"BindWechat",__name:"bind-wechat",setup(C){return(g,p)=>(E(),L("div"))}}),Fe={class:"w-400px lt-sm:w-300px"},Me={class:"flex-y-center justify-between"},Be={class:"text-28px text-primary font-500 lt-sm:text-22px"},Ue={class:"i-flex-col"},Ie={class:"pt-24px"},De={class:"text-18px text-primary font-medium"},Ge={class:"pt-24px"},Ke=$({name:"login",__name:"index",props:{module:{}},setup(C){const g=C,p=Y(),u=ee(),m={"pwd-login":{label:P["pwd-login"],component:Pe},"code-login":{label:P["code-login"],component:$e},register:{label:P.register,component:ze},"reset-pwd":{label:P["reset-pwd"],component:Re},"bind-wechat":{label:P["bind-wechat"],component:Ne}},r=k(()=>m[g.module||"pwd-login"]),x=k(()=>u.darkMode?A(u.themeColor,600):u.themeColor),_=k(()=>{const l="#ffffff",w=u.darkMode?.5:.2;return oe(l,u.themeColor,w)});return(l,w)=>{const d=be,n=le,t=te,f=ae,c=de;return E(),L("div",{class:"relative size-full flex-center overflow-hidden",style:ie({backgroundColor:_.value})},[o(d,{"theme-color":x.value},null,8,["theme-color"]),o(c,{class:"relative z-4 w-auto rd-12px"},{default:s(()=>[i("div",Fe,[i("header",Me,[o(n,{class:"text-64px text-primary lt-sm:text-48px"}),i("h3",Be,v(e(a)("system.title")),1),i("div",Ue,[o(t,{"theme-schema":e(u).themeScheme,"show-tooltip":!1,class:"text-20px lt-sm:text-18px",onSwitch:e(u).toggleThemeScheme},null,8,["theme-schema","onSwitch"]),e(u).header.multilingual.visible?(E(),S(f,{key:0,lang:e(p).locale,"lang-options":e(p).localeOptions,"show-tooltip":!1,onChangeLang:e(p).changeLocale},null,8,["lang","lang-options","onChangeLang"])):ne("",!0)])]),i("main",Ie,[i("h3",De,v(e(a)(r.value.label)),1),i("div",Ge,[o(se,{name:e(u).page.animateMode,mode:"out-in",appear:""},{default:s(()=>[(E(),S(re(r.value.component)))]),_:1},8,["name"])])])])]),_:1})],4)}}});export{Ke as default};
