import"./index-KyBUUV9C.js";const O=(n,t)=>Object.prototype.toString.call(n)===`[object ${t}]`,Zt=(n,t=!1)=>t?typeof n=="boolean":n===!0||n===!1||O(n,"Boolean"),It=n=>typeof n=="function",d=n=>n==null,_=n=>n!=null,mt=n=>{const t=typeof n;return n!==null&&t==="object"||t==="function"},Qt=n=>typeof n=="object"&&n!==null,yt=function(n){if(!Qt(n)||!O(n,"Object"))return!1;if(Object.getPrototypeOf(n)===null)return!0;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t},rn=n=>n===void 0,tt=(n,t=!1)=>{const i=typeof n;return t?i==="string":i==="string"||O(n,"String")},T=n=>Array.isArray?Array.isArray(n):O(n,"Array"),pt=function(n){return n!==null&&typeof n!="function"&&Number.isFinite(n.length)},Jt=n=>O(n,"Date"),w=(n,t=!1)=>{const i=typeof n;return t?i==="number":i==="number"||O(n,"Number")},Pt=n=>w(n)&&Number.isFinite(n),sn=n=>new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(n),an=n=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(n),Kt=n=>({}).toString.call(n).replace(/^\[object /,"").replace(/]$/,""),te=Object.prototype,ee=function(n){const t=n&&n.constructor;return n===(typeof t=="function"&&t.prototype||te)},ne=Object.prototype.hasOwnProperty;function on(n){if(d(n))return!0;if(pt(n))return!n.length;const t=Kt(n);if(t==="Map"||t==="Set")return!n.size;if(ee(n))return!Object.keys(n).length;for(const i in n)if(ne.call(n,i))return!1;return!0}const hn=(n,t,i)=>{const e=tt(t)?t.split("."):t;for(let r=0;r<e.length;r++)n=n?n[e[r]]:void 0;return n===void 0?i:n},ie=Object.prototype.hasOwnProperty,cn=(n,t)=>n!=null&&ie.call(n,t);function re(n,t,i){let e;if(!_(n)||typeof n!="object"||t&&t(n))return n;const r=T(n),s=n.length;e=r?new Array(s):typeof n=="object"?{}:Zt(n)||w(n)||tt(n)?n:Jt(n)?new Date(+n):void 0;const a=r?void 0:Object.keys(Object(n));let o=-1;if(e)for(;++o<(a||n).length;){const h=a?a[o]:o,c=n[h];i&&i.includes(h.toString())?e[h]=c:e[h]=re(c,t,i)}return e}function Lt(n,t,i=!1,e=!1){if(t){if(n===t)return;if(_(t)&&typeof t=="object"){const r=Object(t),s=[];for(const h in r)s.push(h);let{length:a}=s,o=-1;for(;a--;){const h=s[++o];!_(r[h])||typeof r[h]!="object"||e&&T(n[h])?Ot(n,h,r[h]):se(n,t,h,i,e)}}}}function se(n,t,i,e=!1,r=!1){const s=n[i],a=t[i];let o=t[i],h=!0;if(T(a)){if(e)o=[];else if(T(s))o=s;else if(pt(s)){o=new Array(s.length);let c=-1;const l=s.length;for(;++c<l;)o[c]=s[c]}}else yt(a)?(o=s??{},typeof s!="function"&&typeof s=="object"||(o={})):h=!1;h&&Lt(o,a,e,r),Ot(n,i,o)}function Ot(n,t,i){(i!==void 0&&!ae(n[t],i)||i===void 0&&!(t in n))&&(n[t]=i)}function ae(n,t){return n===t||Number.isNaN(n)&&Number.isNaN(t)}function ln(n,...t){let i=-1;const e=t.length;for(;++i<e;)Lt(n,t[i],!0);return n}function un(n,t){if(!n||!yt(n))return n;const i={};return Object.keys(n).forEach(e=>{const r=n[e];let s=!1;t.forEach(a=>{(tt(a)&&a===e||a instanceof RegExp&&e.match(a))&&(s=!0)}),s||(i[e]=r)}),i}function Et(n){return Object.prototype.toString.call(n)}function Tt(n){return Object.keys(n)}function At(n,t,i){if(n===t)return!0;if(typeof n!=typeof t||n==null||t==null)return!1;if(Number.isNaN(n)&&Number.isNaN(t))return!0;if(Et(n)!==Et(t)||It(n)||typeof n!="object")return!1;if(T(n)){if(n.length!==t.length)return!1;for(let s=n.length-1;s>=0;s--)if(!At(n[s],t[s]))return!1;return!0}if(!yt(n))return!1;const e=Tt(n),r=Tt(t);if(e.length!==r.length)return!1;e.sort(),r.sort();for(let s=e.length-1;s>=0;s--)if(e[s]!=r[s])return!1;for(let s=e.length-1;s>=0;s--){const a=e[s];if(!At(n[a],t[a]))return!1}return!0}function oe(n){if(!n)return[];if(Object.keys)return Object.keys(n);const t=[];for(const i in n)n.hasOwnProperty(i)&&t.push(i);return t}function he(n,t,i){const e=oe(t);for(let r=0;r<e.length;r++){const s=e[r];(i?t[s]!=null:n[s]==null)&&(n[s]=t[s])}return n}function fn(n,t,i=!0){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames){const e=Object.getOwnPropertyNames(t);for(let r=0;r<e.length;r++){const s=e[r];s!=="constructor"&&(i?t[s]!=null:n[s]==null)&&(n[s]=t[s])}}else he(n,t,i)}function ce(n){return _(n)?T(n)?n:[n]:[]}function gn(n){if(pt(n))return n[n.length-1]}const dn=(n,t)=>{var i;if(n.length===0)return;let e=n[0];for(let r=1;r<n.length;r++){const s=n[r];((i=t==null?void 0:t(s,e))!==null&&i!==void 0?i:s-e)>0&&(e=s)}return e},mn=(n,t)=>{var i;if(n.length===0)return;let e=n[0];for(let r=1;r<n.length;r++){const s=n[r];((i=t==null?void 0:t(s,e))!==null&&i!==void 0?i:s-e)<0&&(e=s)}return e};function yn(n,t){if(!T(n)||!T(t)||n.length!==t.length)return!1;for(let i=0;i<n.length;i++)if(n[i]!==t[i])return!1;return!0}function pn(n){return n&&T(n)?Array.from(new Set(ce(n))):n}function _n(n,t=Math.random){let i,e,r=n.length;for(;r;)i=Math.floor(t()*r),e=n[--r],n[r]=n[i],n[i]=e;return n}function le(n){if(!T(n))return[n];const t=[];for(const i of n)t.push(...le(i));return t}function ue(n,t,i){_(t)||(t=n,n=0),_(i)||(i=1);let e=-1;const r=0|Math.max(0,Math.ceil((t-n)/i)),s=new Array(r);for(;++e<r;)s[e]=n+e*i;return s}function fe(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function ge(n){return Number(n)}const de=typeof console<"u";function W(n,t,i){const e=[t].concat([].slice.call(i));de&&console[n].apply(console,e)}var b;(function(n){n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warn=2]="Warn",n[n.Info=3]="Info",n[n.Debug=4]="Debug"})(b||(b={}));class A{static getInstance(t,i){return A._instance&&w(t)?A._instance.level(t):A._instance||(A._instance=new A(t,i)),A._instance}static setInstance(t){return A._instance=t}static setInstanceLevel(t){A._instance?A._instance.level(t):A._instance=new A(t)}static clearInstance(){A._instance=null}constructor(t=b.None,i){this._onErrorHandler=[],this._level=t,this._method=i}addErrorHandler(t){this._onErrorHandler.find(i=>i===t)||this._onErrorHandler.push(t)}removeErrorHandler(t){const i=this._onErrorHandler.findIndex(e=>e===t);i<0||this._onErrorHandler.splice(i,1)}callErrorHandler(...t){this._onErrorHandler.forEach(i=>i(...t))}canLogInfo(){return this._level>=b.Info}canLogDebug(){return this._level>=b.Debug}canLogError(){return this._level>=b.Error}canLogWarn(){return this._level>=b.Warn}level(t){return arguments.length?(this._level=+t,this):this._level}error(...t){var i;return this._level>=b.Error&&(this._onErrorHandler.length?this.callErrorHandler(...t):W((i=this._method)!==null&&i!==void 0?i:"error","ERROR",t)),this}warn(...t){return this._level>=b.Warn&&W(this._method||"warn","WARN",t),this}info(...t){return this._level>=b.Info&&W(this._method||"log","INFO",t),this}debug(...t){return this._level>=b.Debug&&W(this._method||"log","DEBUG",t),this}}A._instance=null;function me(n,t,i=0,e){for(d(e)&&(e=n.length);i<e;){const r=i+e>>>1;fe(n[r],t)>0?e=r:i=r+1}return i}const Mn=(n,t)=>ye(0,n.length,i=>t(n[i])),ye=(n,t,i)=>{let e=n,r=t;for(;e<r;){const s=Math.floor((e+r)/2);i(s)>=0?r=s:e=s+1}return e},pe=1e-10,_e=1e-10;function Dt(n,t,i=_e,e=pe){const r=e,s=i*Math.max(n,t);return Math.abs(n-t)<=Math.max(r,s)}function xn(n,t,i,e){return n>t&&!Dt(n,t,i,e)}function wn(n,t,i,e){return n<t&&!Dt(n,t,i,e)}const z=n=>{let t=null,i=null;return(...e)=>(t&&e.every((r,s)=>r===t[s])||(t=e,i=n(...e)),i)},Ht=function(n,t,i){return n<t?t:n>i?i:n},Sn=(n,t,i)=>{let[e,r]=n;r<e&&(e=n[1],r=n[0]);const s=r-e;return s>=i-t?[t,i]:(e=Math.min(Math.max(e,t),i-s),[e,e+s])};function Me(n,t){let i;return n>t&&(i=n,n=t,t=i),e=>Math.max(n,Math.min(t,e))}let Y=!1;try{Y=typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"}catch{Y=!1}function xe(n,t,i){let e,r,s,a,o,h,c=0,l=!1,u=!1,f=!0;const y=!t&&t!==0&&Y;if(typeof n!="function")throw new TypeError("Expected a function");function g(M){const S=e,F=r;return e=r=void 0,c=M,a=n.apply(F,S),a}function m(M,S){return y?(cancelAnimationFrame(o),requestAnimationFrame(M)):setTimeout(M,S)}function p(M){const S=M-h;return h===void 0||S>=t||S<0||u&&M-c>=s}function x(){const M=Date.now();if(p(M))return I(M);o=m(x,function(S){const F=S-c,v=t-(S-h);return u?Math.min(v,s-F):v}(M))}function I(M){return o=void 0,f&&e?g(M):(e=r=void 0,a)}function k(...M){const S=Date.now(),F=p(S);if(e=M,r=this,h=S,F){if(o===void 0)return function(v){return c=v,o=m(x,t),l?g(v):a}(h);if(u)return o=m(x,t),g(h)}return o===void 0&&(o=m(x,t)),a}return t=+t||0,mt(i)&&(l=!!i.leading,u="maxWait"in i,u&&(s=Math.max(Pt(i.maxWait)?i.maxWait:0,t)),f="trailing"in i?!!i.trailing:f),k.cancel=function(){o!==void 0&&function(M){if(y)return cancelAnimationFrame(M);clearTimeout(M)}(o),c=0,e=h=r=o=void 0},k.flush=function(){return o===void 0?a:I(Date.now())},k.pending=function(){return o!==void 0},k}Y=!1;function En(n,t,i){let e=!0,r=!0;if(typeof n!="function")throw new TypeError("Expected a function");return mt(i)&&(e="leading"in i?!!i.leading:e,r="trailing"in i?!!i.trailing:r),xe(n,t,{leading:e,trailing:r,maxWait:t})}function V(n,t){return i=>n*(1-i)+t*i}function we(n,t){return function(i){return Math.round(n*(1-i)+t*i)}}function Se(n,t){const i=n.valueOf(),e=t.valueOf(),r=new Date;return s=>(r.setTime(i*(1-s)+e*s),r)}const ut=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nt=new RegExp(ut.source,"g");function Ee(n){return function(){return n}}function Te(n){return function(t){return n(t)+""}}function Tn(n,t){let i,e,r,s=ut.lastIndex=nt.lastIndex=0,a=-1;const o=[],h=[];for(n+="",t+="";(i=ut.exec(n))&&(e=nt.exec(t));)(r=e.index)>s&&(r=t.slice(s,r),o[a]?o[a]+=r:o[++a]=r),(i=i[0])===(e=e[0])?o[a]?o[a]+=e:o[++a]=e:(o[++a]=null,h.push({i:a,x:V(i,e)})),s=nt.lastIndex;return s<t.length&&(r=t.slice(s),o[a]?o[a]+=r:o[++a]=r),o.length<2?h[0]?Te(h[0].x):Ee(t):(t=h.length,function(c){for(let l,u=0;u<t;++u)o[(l=h[u]).i]=l.x(c);return o.join("")})}const An=1e-12,_t=Math.PI,Z=_t/2,q=2*_t,j=2*Math.PI,Rt=Math.abs,Rn=Math.atan2,Ae=Math.cos,bn=Math.max,Nn=Math.min,Re=Math.sin,it=Math.sqrt,P=Math.pow;function Bn(n){return n>1?0:n<-1?_t:Math.acos(n)}function kn(n){return n>=1?Z:n<=-1?-Z:Math.asin(n)}function Fn(n,t,i,e,r){let s=i,a=e;return typeof n=="number"&&typeof i=="number"&&(s=(1-r)*n+r*i),typeof t=="number"&&typeof e=="number"&&(a=(1-r)*t+r*e),{x:s,y:a}}function bt(n,t){return n[0]*t[1]-n[1]*t[0]}function be(n,t){return Rt(n[0]-t[0])+Rt(n[1]-t[1])<1e-12}function Vt(n,t=10){return Math.round(n*t)/t}function Q(n){const t=n.toString().split(/[eE]/),i=(t[0].split(".")[1]||"").length-(+t[1]||0);return i>0?i:0}function vn(n,t){return Vt(n+t,10**Math.max(Q(n),Q(t)))}function Cn(n,t){return Vt(n-t,10**Math.max(Q(n),Q(t)))}class Mt{constructor(t=0,i=0,e,r){this.x=0,this.y=0,this.x=t,this.y=i,this.x1=e,this.y1=r}clone(){return new Mt(this.x,this.y)}copyFrom(t){return this.x=t.x,this.y=t.y,this.x1=t.x1,this.y1=t.y1,this.defined=t.defined,this.context=t.context,this}set(t,i){return this.x=t,this.y=i,this}add(t){return w(t)?(this.x+=t,void(this.y+=t)):(this.x+=t.x,this.y+=t.y,this)}sub(t){return w(t)?(this.x-=t,void(this.y-=t)):(this.x-=t.x,this.y-=t.y,this)}multi(t){throw new Error("暂不支持")}div(t){throw new Error("暂不支持")}}class In{static distancePP(t,i){return it(P(t.x-i.x,2)+P(t.y-i.y,2))}static distanceNN(t,i,e,r){return it(P(t-e,2)+P(i-r,2))}static distancePN(t,i,e){return it(P(i-t.x,2)+P(e-t.y,2))}static pointAtPP(t,i,e){return new Mt((i.x-t.x)*e+t.x,(i.y-t.y)*e+t.y)}}function H(n){return n*(Math.PI/180)}function Ne(n){return 180*n/Math.PI}const Be=(n=0)=>{if(n<0)for(;n<-q;)n+=q;else if(n>0)for(;n>q;)n-=q;return n},Pn=Be;function Ln(n,t,i){return t?{x:n.x+t*Math.cos(i),y:n.y+t*Math.sin(i)}:{x:n.x,y:n.y}}function On(n,t={x:0,y:0},i=0,e=2*Math.PI){const{x:r,y:s}=n,{x:a,y:o}=t;let h=r-a,c=s-o;const l=Math.sqrt(h*h+c*c);if(l===0)return{radius:0,angle:0};h/=l,c/=l;let u=Math.atan2(c,h);if(u<i)for(;u<=i;)u+=2*Math.PI;if(u>e)for(;u>=e;)u-=2*Math.PI;return{radius:l,angle:u}}function Dn(n,t){return Math.atan2(t.y-n.y,t.x-n.x)}function zt(n){for(;n<0;)n+=2*Math.PI;for(;n>=2*Math.PI;)n-=2*Math.PI;return n}function ke(n,t){const i=Math.abs(t-n);if(i>=2*Math.PI||2*Math.PI-i<1e-6)return[0,Math.PI/2,Math.PI,1.5*Math.PI];const e=zt(Math.min(n,t)),r=e+i,s=[e,r];let a=Math.floor(e/Math.PI)*Math.PI/2;for(;a<r;)a>e&&s.push(a),a+=Math.PI/2;return s}function Hn(n,t,i,e){const{x:r,y:s}=t,a=ke(i,e),{width:o,height:h}=n,c=[];return a.forEach(l=>{const u=Math.sin(l),f=Math.cos(l);u===1?c.push(h-s):u===-1?c.push(s):f===1?c.push(o-r):f===-1?c.push(r):(u>0?c.push(Math.abs((h-s)/u)):c.push(Math.abs(s/u)),f>0?c.push(Math.abs((o-r)/f)):c.push(Math.abs(r/f)))}),Math.min.apply(null,c)}function Vn(n){return(n=zt(n))>0&&n<=Math.PI/2?2:n>Math.PI/2&&n<=Math.PI?3:n>Math.PI&&n<=3*Math.PI/2?4:1}function rt(n,t,i){n[0]=t[0]-i[0],n[1]=t[1]-i[1]}function Fe(n,t,i,e){let r=n[0],s=t[0],a=i[0],o=e[0];return s<r&&([r,s]=[s,r]),o<a&&([o,a]=[a,o]),!(s<a||o<r)&&(r=n[1],s=t[1],a=i[1],o=e[1],s<r&&([r,s]=[s,r]),o<a&&([o,a]=[a,o]),!(s<a||o<r))}function zn(n,t,i,e){if(!Fe(n,t,i,e))return!1;const r=[0,0],s=[0,0],a=[0,0];if(rt(r,t,n),rt(s,e,i),be(r,s))return!0;rt(a,i,n);const o=bt(a,s)/bt(r,s);return o>=0&&o<=1&&[n[0]+r[0]*o,n[1]+r[1]*o]}function Wn(n,t,i){if(n===null)return t;if(t===null)return n;const{x11:e,x12:r,y11:s,y12:a,x21:o,x22:h,y21:c,y22:l}=xt(n,t,i);return e>=h||r<=o||s>=l||a<=c?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(e,o),y1:Math.max(s,c),x2:Math.min(r,h),y2:Math.min(a,l)}}var L;(function(n){n[n.NONE=0]="NONE",n[n.BBOX1=1]="BBOX1",n[n.BBOX2=2]="BBOX2"})(L||(L={}));const xt=(n,t,i)=>{let e=n.x1,r=n.x2,s=n.y1,a=n.y2,o=t.x1,h=t.x2,c=t.y1,l=t.y2;return i&&(e>r&&([e,r]=[r,e]),s>a&&([s,a]=[a,s]),o>h&&([o,h]=[h,o]),c>l&&([c,l]=[l,c])),{x11:e,x12:r,y11:s,y12:a,x21:o,x22:h,y21:c,y22:l}};function qn(n,t,i){if(!n||!t)return L.NONE;const{x11:e,x12:r,y11:s,y12:a,x21:o,x22:h,y21:c,y22:l}=xt(n,t,i);return e>o&&r<h&&s>c&&a<l?L.BBOX1:o>e&&h<r&&c>s&&l<a?L.BBOX2:L.NONE}function jn(n,t,i){if(n&&t){if(!i)return!(n.x1>t.x2||n.x2<t.x1||n.y1>t.y2||n.y2<t.y1);const{x11:e,x12:r,y11:s,y12:a,x21:o,x22:h,y21:c,y22:l}=xt(n,t,!0);return!(e>h||r<o||s>l||a<c)}return!0}function Gn(n,t,i){if(!t)return!0;if(!i)return n.x>=t.x1&&n.x<=t.x2&&n.y>=t.y1&&n.y<=t.y2;let e=t.x1,r=t.x2,s=t.y1,a=t.y2;return e>r&&([e,r]=[r,e]),s>a&&([s,a]=[a,s]),n.x>=e&&n.x<=r&&n.y>=s&&n.y<=a}function st(n,t){return Math.abs(t[0]*n[0]+t[1]*n[1])}function C({x:n,y:t},i,e={x:0,y:0}){return{x:(n-e.x)*Math.cos(i)-(t-e.y)*Math.sin(i)+e.x,y:(n-e.x)*Math.sin(i)+(t-e.y)*Math.cos(i)+e.y}}function ft(n){return{x:(n.x1+n.x2)/2,y:(n.y1+n.y2)/2}}function Nt(n,t){const i=t?H(n.angle):n.angle,e=ft(n);return[C({x:n.x1,y:n.y1},i,e),C({x:n.x2,y:n.y1},i,e),C({x:n.x2,y:n.y2},i,e),C({x:n.x1,y:n.y2},i,e)]}function ve(n,t,i=!1){const e=Nt(n,i),r=Nt(t,i),s=(p,x)=>[x.x-p.x,x.y-p.y],a=s(ft(n),ft(t)),o=s(e[0],e[1]),h=s(e[1],e[2]),c=s(r[0],r[1]),l=s(r[1],r[2]),u=i?H(n.angle):n.angle;let f=i?H(90-n.angle):n.angle+Z;const y=i?H(t.angle):t.angle;let g=i?H(90-t.angle):t.angle+Z;f>j&&(f-=j),g>j&&(g-=j);const m=(p,x,I,k)=>{const M=[Math.cos(x),Math.sin(x)];return p+(st(M,I)+st(M,k))/2>st(M,a)};return m((n.x2-n.x1)/2,u,c,l)&&m((n.y2-n.y1)/2,f,c,l)&&m((t.x2-t.x1)/2,y,o,h)&&m((t.y2-t.y1)/2,g,o,h)}const Bt=n=>{let t=n.charCodeAt(0),i=n.length===2?n.charCodeAt(1):0,e=t;return 55296<=t&&t<=56319&&56320<=i&&i<=57343&&(t&=1023,i&=1023,e=t<<10|i,e+=65536),e===12288||65281<=e&&e<=65376||65504<=e&&e<=65510?"F":e===8361||65377<=e&&e<=65470||65474<=e&&e<=65479||65482<=e&&e<=65487||65490<=e&&e<=65495||65498<=e&&e<=65500||65512<=e&&e<=65518?"H":4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12289<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||110592<=e&&e<=110593||127488<=e&&e<=127490||127504<=e&&e<=127546||127552<=e&&e<=127560||127568<=e&&e<=127569||131072<=e&&e<=194367||177984<=e&&e<=196605||196608<=e&&e<=262141?"W":32<=e&&e<=126||162<=e&&e<=163||165<=e&&e<=166||e===172||e===175||10214<=e&&e<=10221||10629<=e&&e<=10630?"Na":e===161||e===164||167<=e&&e<=168||e===170||173<=e&&e<=174||176<=e&&e<=180||182<=e&&e<=186||188<=e&&e<=191||e===198||e===208||215<=e&&e<=216||222<=e&&e<=225||e===230||232<=e&&e<=234||236<=e&&e<=237||e===240||242<=e&&e<=243||247<=e&&e<=250||e===252||e===254||e===257||e===273||e===275||e===283||294<=e&&e<=295||e===299||305<=e&&e<=307||e===312||319<=e&&e<=322||e===324||328<=e&&e<=331||e===333||338<=e&&e<=339||358<=e&&e<=359||e===363||e===462||e===464||e===466||e===468||e===470||e===472||e===474||e===476||e===593||e===609||e===708||e===711||713<=e&&e<=715||e===717||e===720||728<=e&&e<=731||e===733||e===735||768<=e&&e<=879||913<=e&&e<=929||931<=e&&e<=937||945<=e&&e<=961||963<=e&&e<=969||e===1025||1040<=e&&e<=1103||e===1105||e===8208||8211<=e&&e<=8214||8216<=e&&e<=8217||8220<=e&&e<=8221||8224<=e&&e<=8226||8228<=e&&e<=8231||e===8240||8242<=e&&e<=8243||e===8245||e===8251||e===8254||e===8308||e===8319||8321<=e&&e<=8324||e===8364||e===8451||e===8453||e===8457||e===8467||e===8470||8481<=e&&e<=8482||e===8486||e===8491||8531<=e&&e<=8532||8539<=e&&e<=8542||8544<=e&&e<=8555||8560<=e&&e<=8569||e===8585||8592<=e&&e<=8601||8632<=e&&e<=8633||e===8658||e===8660||e===8679||e===8704||8706<=e&&e<=8707||8711<=e&&e<=8712||e===8715||e===8719||e===8721||e===8725||e===8730||8733<=e&&e<=8736||e===8739||e===8741||8743<=e&&e<=8748||e===8750||8756<=e&&e<=8759||8764<=e&&e<=8765||e===8776||e===8780||e===8786||8800<=e&&e<=8801||8804<=e&&e<=8807||8810<=e&&e<=8811||8814<=e&&e<=8815||8834<=e&&e<=8835||8838<=e&&e<=8839||e===8853||e===8857||e===8869||e===8895||e===8978||9312<=e&&e<=9449||9451<=e&&e<=9547||9552<=e&&e<=9587||9600<=e&&e<=9615||9618<=e&&e<=9621||9632<=e&&e<=9633||9635<=e&&e<=9641||9650<=e&&e<=9651||9654<=e&&e<=9655||9660<=e&&e<=9661||9664<=e&&e<=9665||9670<=e&&e<=9672||e===9675||9678<=e&&e<=9681||9698<=e&&e<=9701||e===9711||9733<=e&&e<=9734||e===9737||9742<=e&&e<=9743||9748<=e&&e<=9749||e===9756||e===9758||e===9792||e===9794||9824<=e&&e<=9825||9827<=e&&e<=9829||9831<=e&&e<=9834||9836<=e&&e<=9837||e===9839||9886<=e&&e<=9887||9918<=e&&e<=9919||9924<=e&&e<=9933||9935<=e&&e<=9953||e===9955||9960<=e&&e<=9983||e===10045||e===10071||10102<=e&&e<=10111||11093<=e&&e<=11097||12872<=e&&e<=12879||57344<=e&&e<=63743||65024<=e&&e<=65039||e===65533||127232<=e&&e<=127242||127248<=e&&e<=127277||127280<=e&&e<=127337||127344<=e&&e<=127386||917760<=e&&e<=917999||983040<=e&&e<=1048573||1048576<=e&&e<=1114109?"A":"N"};function Ce(n,t={},i){i||(i=1);const{fontStyle:e=t.fontStyle,fontVariant:r=t.fontVariant,fontWeight:s=t.fontWeight,fontSize:a=t.fontSize,fontFamily:o=t.fontFamily}=n;return(e?e+" ":"")+(r?r+" ":"")+(s?s+" ":"")+a*i+"px "+(o||"sans-serif")}class B{constructor(t,i){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet=`-/: .,@%'"~`,this._option=t,this._userSpec=i??{},this.textSpec=this._initSpec(),_(t.specialCharSet)&&(this.specialCharSet=t.specialCharSet),this._standardMethod=_(t.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(d(this._canvas)&&(_(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),d(this._canvas)&&typeof window<"u"&&window.document!==void 0&&globalThis&&_(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),d(this._context)&&_(this._canvas)){const t=this._canvas.getContext("2d");_(t)&&(t.save(),t.font=Ce(this.textSpec),this._contextSaved=!0,this._context=t)}return!d(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var t,i,e;const{defaultFontParams:r={}}=this._option,{fontStyle:s=r.fontStyle,fontVariant:a=r.fontVariant,fontWeight:o=(t=r.fontWeight)!==null&&t!==void 0?t:"normal",fontSize:h=(i=r.fontSize)!==null&&i!==void 0?i:12,fontFamily:c=(e=r.fontFamily)!==null&&e!==void 0?e:"sans-serif",align:l,textAlign:u=l??"center",baseline:f,textBaseline:y=f??"middle",ellipsis:g,limit:m}=this._userSpec;let{lineHeight:p=h}=this._userSpec;if(tt(p)&&p[p.length-1]==="%"){const x=Number.parseFloat(p.substring(0,p.length-1))/100;p=h*x}return{fontStyle:s,fontVariant:a,fontFamily:c,fontSize:h,fontWeight:o,textAlign:u,textBaseline:y,ellipsis:g,limit:m,lineHeight:p}}measure(t,i){switch(i){case"vrender":case"canopus":return this.fullMeasure(t);case"canvas":return this.measureWithNaiveCanvas(t);case"simple":return this.quickMeasureWithoutCanvas(t);default:return this.quickMeasure(t)}}fullMeasure(t){if(d(t))return{width:0,height:0};if(d(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(t);const{fontFamily:i,fontSize:e,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:o,limit:h,lineHeight:c}=this.textSpec;let l;try{const u=this._option.getTextBounds({text:t,fontFamily:i,fontSize:e,fontWeight:r,textAlign:s,textBaseline:a,ellipsis:!!o,maxLineWidth:h||1/0,lineHeight:c});l={width:u.width(),height:u.height()}}catch{this._notSupportVRender=!0,l=this.measureWithNaiveCanvas(t)}return l}measureWithNaiveCanvas(t){return this._measureReduce(t,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(t){var i;if(!this.initContext())return this._quickMeasureWithoutCanvas(t);const e=this._context.measureText(t),{fontSize:r,lineHeight:s}=this.textSpec;return{width:e.width,height:(i=s)!==null&&i!==void 0?i:r,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}quickMeasure(t){return this._measureReduce(t,this._quickMeasure.bind(this))}_quickMeasure(t){const i={width:0,height:0};for(let e=0;e<t.length;e++){const r=t[e];let s=this._measureSpecialChar(r);d(s)&&B.NUMBERS_CHAR_SET.includes(r)&&(s=this._measureNumberChar()),d(s)&&["F","W"].includes(Bt(r))&&(s=this._measureFullSizeChar()),d(s)&&(s=this._measureLetterChar()),i.width+=s.width,i.height=Math.max(i.height,s.height),!d(s.fontBoundingBoxAscent)&&(i.fontBoundingBoxAscent=s.fontBoundingBoxAscent),!d(s.fontBoundingBoxDescent)&&(i.fontBoundingBoxDescent=s.fontBoundingBoxDescent)}return i}quickMeasureWithoutCanvas(t){return this._measureReduce(t,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(t){var i;const e={width:0,height:0},{fontSize:r,lineHeight:s}=this.textSpec;for(let a=0;a<t.length;a++){const o=t[a],h=["F","W"].includes(Bt(o))?1:.53;e.width+=h*r}return e.height=(i=s)!==null&&i!==void 0?i:r,e}_measureReduce(t,i){var e;const{fontSize:r,lineHeight:s}=this.textSpec,a={width:0,height:0};if(d(t))return a;if(T(t)){const o=t.filter(_).map(h=>h.toString());return o.length===0?a:o.length===1?i(o[0]):{width:o.reduce((h,c)=>Math.max(h,i(c).width),0),height:o.length*(((e=s)!==null&&e!==void 0?e:r)+1)+1}}return i(t.toString())}_measureNumberChar(){if(d(this._numberCharSize)){const t=this._standardMethod(B.NUMBERS_CHAR_SET);this._numberCharSize={width:t.width/B.NUMBERS_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._numberCharSize}_measureFullSizeChar(){return d(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(B.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(d(this._letterCharSize)){const t=this._standardMethod(B.ALPHABET_CHAR_SET);this._letterCharSize={width:t.width/B.ALPHABET_CHAR_SET.length,height:t.height,fontBoundingBoxAscent:t.fontBoundingBoxAscent,fontBoundingBoxDescent:t.fontBoundingBoxDescent}}return this._letterCharSize}_measureSpecialChar(t){return _(this._specialCharSizeMap[t])?this._specialCharSizeMap[t]:this.specialCharSet.includes(t)?(this._specialCharSizeMap[t]=this._standardMethod(t),this._specialCharSizeMap[t]):null}release(){_(this._canvas)&&(this._canvas=null),_(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}B.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",B.NUMBERS_CHAR_SET="0123456789",B.FULL_SIZE_CHAR="字";function Ie(n,t,i){const{x1:e,y1:r,x2:s,y2:a}=t;return i.onlyTranslate()?(n!==t&&n.setValue(t.x1,t.y1,t.x2,t.y2),n.translate(i.e,i.f),t):(n.clear(),n.add(i.a*e+i.c*r+i.e,i.b*e+i.d*r+i.f),n.add(i.a*s+i.c*r+i.e,i.b*s+i.d*r+i.f),n.add(i.a*s+i.c*a+i.e,i.b*s+i.d*a+i.f),n.add(i.a*e+i.c*a+i.e,i.b*e+i.d*a+i.f),t)}class et{constructor(t){t?this.setValue(t.x1,t.y1,t.x2,t.y2):this.clear()}clone(){return new et(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(t){return this.x1===t.x1&&this.y1===t.y1&&this.x2===t.x2&&this.y2===t.y2}setValue(t=0,i=0,e=0,r=0){return this.x1=t,this.y1=i,this.x2=e,this.y2=r,this}set(t=0,i=0,e=0,r=0){return e<t?(this.x2=t,this.x1=e):(this.x1=t,this.x2=e),r<i?(this.y2=i,this.y1=r):(this.y1=i,this.y2=r),this}add(t=0,i=0){return t<this.x1&&(this.x1=t),i<this.y1&&(this.y1=i),t>this.x2&&(this.x2=t),i>this.y2&&(this.y2=i),this}expand(t=0){return T(t)?(this.y1-=t[0],this.x2+=t[1],this.y2+=t[2],this.x1-=t[3]):(this.x1-=t,this.y1-=t,this.x2+=t,this.y2+=t),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(t=0,i=0){return this.x1+=t,this.x2+=t,this.y1+=i,this.y2+=i,this}rotate(t=0,i=0,e=0){const r=this.rotatedPoints(t,i,e);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])}scale(t=0,i=0,e=0,r=0){const s=this.scalePoints(t,i,e,r);return this.clear().add(s[0],s[1]).add(s[2],s[3])}union(t){return t.x1<this.x1&&(this.x1=t.x1),t.y1<this.y1&&(this.y1=t.y1),t.x2>this.x2&&(this.x2=t.x2),t.y2>this.y2&&(this.y2=t.y2),this}intersect(t){return t.x1>this.x1&&(this.x1=t.x1),t.y1>this.y1&&(this.y1=t.y1),t.x2<this.x2&&(this.x2=t.x2),t.y2<this.y2&&(this.y2=t.y2),this}encloses(t){return t&&this.x1<=t.x1&&this.x2>=t.x2&&this.y1<=t.y1&&this.y2>=t.y2}alignsWith(t){return t&&(this.x1===t.x1||this.x2===t.x2||this.y1===t.y1||this.y2===t.y2)}intersects(t){return t&&!(this.x2<t.x1||this.x1>t.x2||this.y2<t.y1||this.y1>t.y2)}contains(t=0,i=0){return!(t<this.x1||t>this.x2||i<this.y1||i>this.y2)}containsPoint(t){return!(t.x<this.x1||t.x>this.x2||t.y<this.y1||t.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(t=0){return this.x1*=t,this.x2*=t,this}scaleY(t=0){return this.y1*=t,this.y2*=t,this}transformWithMatrix(t){return Ie(this,this,t),this}copy(t){return this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2,this}rotatedPoints(t,i,e){const{x1:r,y1:s,x2:a,y2:o}=this,h=Math.cos(t),c=Math.sin(t),l=i-i*h+e*c,u=e-i*c-e*h;return[h*r-c*s+l,c*r+h*s+u,h*r-c*o+l,c*r+h*o+u,h*a-c*s+l,c*a+h*s+u,h*a-c*o+l,c*a+h*o+u]}scalePoints(t,i,e,r){const{x1:s,y1:a,x2:o,y2:h}=this;return[t*s+(1-t)*e,i*a+(1-i)*r,t*o+(1-t)*e,i*h+(1-i)*r]}}class Un extends et{}class Wt extends et{constructor(t,i=0){var e;super(t),t&&(this.angle=(e=t.angle)!==null&&e!==void 0?e:i)}intersects(t){return ve(this,t)}setValue(t=0,i=0,e=0,r=0,s=0){return super.setValue(t,i,e,r),this.angle=s,this}clone(){return new Wt(this)}getRotatedCorners(){const t={x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2};return[C({x:this.x1,y:this.y1},this.angle,t),C({x:this.x2,y:this.y1},this.angle,t),C({x:this.x1,y:this.y2},this.angle,t),C({x:this.x2,y:this.y2},this.angle,t)]}}class X{constructor(t=1,i=0,e=0,r=1,s=0,a=0){this.a=t,this.b=i,this.c=e,this.d=r,this.e=s,this.f=a}equalToMatrix(t){return!(this.e!==t.e||this.f!==t.f||this.a!==t.a||this.d!==t.d||this.b!==t.b||this.c!==t.c)}equalTo(t,i,e,r,s,a){return!(this.e!==s||this.f!==a||this.a!==t||this.d!==r||this.b!==i||this.c!==e)}setValue(t,i,e,r,s,a){return this.a=t,this.b=i,this.c=e,this.d=r,this.e=s,this.f=a,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const t=this.a,i=this.b,e=this.c,r=this.d,s=this.e,a=this.f,o=new X,h=t*r-i*e;return o.a=r/h,o.b=-i/h,o.c=-e/h,o.d=t/h,o.e=(e*a-r*s)/h,o.f=-(t*a-i*s)/h,o}rotate(t){const i=Math.cos(t),e=Math.sin(t),r=this.a*i+this.c*e,s=this.b*i+this.d*e,a=this.a*-e+this.c*i,o=this.b*-e+this.d*i;return this.a=r,this.b=s,this.c=a,this.d=o,this}rotateByCenter(t,i,e){const r=Math.cos(t),s=Math.sin(t),a=(1-r)*i+s*e,o=(1-r)*e-s*i,h=r*this.a-s*this.b,c=s*this.a+r*this.b,l=r*this.c-s*this.d,u=s*this.c+r*this.d,f=r*this.e-s*this.f+a,y=s*this.e+r*this.f+o;return this.a=h,this.b=c,this.c=l,this.d=u,this.e=f,this.f=y,this}scale(t,i){return this.a*=t,this.b*=t,this.c*=i,this.d*=i,this}setScale(t,i){return this.b=this.b/this.a*t,this.c=this.c/this.d*i,this.a=t,this.d=i,this}transform(t,i,e,r,s,a){return this.multiply(t,i,e,r,s,a),this}translate(t,i){return this.e+=this.a*t+this.c*i,this.f+=this.b*t+this.d*i,this}transpose(){const{a:t,b:i,c:e,d:r,e:s,f:a}=this;return this.a=i,this.b=t,this.c=r,this.d=e,this.e=a,this.f=s,this}multiply(t,i,e,r,s,a){const o=this.a,h=this.b,c=this.c,l=this.d,u=o*t+c*i,f=h*t+l*i,y=o*e+c*r,g=h*e+l*r,m=o*s+c*a+this.e,p=h*s+l*a+this.f;return this.a=u,this.b=f,this.c=y,this.d=g,this.e=m,this.f=p,this}interpolate(t,i){const e=new X;return e.a=this.a+(t.a-this.a)*i,e.b=this.b+(t.b-this.b)*i,e.c=this.c+(t.c-this.c)*i,e.d=this.d+(t.d-this.d)*i,e.e=this.e+(t.e-this.e)*i,e.f=this.f+(t.f-this.f)*i,e}transformPoint(t,i){const{a:e,b:r,c:s,d:a,e:o,f:h}=this,c=e*a-r*s,l=a/c,u=-r/c,f=-s/c,y=e/c,g=(s*h-a*o)/c,m=-(e*h-r*o)/c,{x:p,y:x}=t;i.x=p*l+x*f+g,i.y=p*u+x*y+m}onlyTranslate(t=1){return this.a===t&&this.b===0&&this.c===0&&this.d===t}clone(){return new X(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const t=this.a,i=this.b,e=this.c,r=this.d,s=t*r-i*e,a={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(t!==0||i!==0){const o=Math.sqrt(t*t+i*i);a.rotateDeg=i>0?Math.acos(t/o):-Math.acos(t/o),a.scaleX=o,a.scaleY=s/o,a.skewX=(t*e+i*r)/s,a.skewY=0}else if(e!==0||r!==0){const o=Math.sqrt(e*e+r*r);a.rotateDeg=Math.PI/2-(r>0?Math.acos(-e/o):-Math.acos(e/o)),a.scaleX=s/o,a.scaleY=o,a.skewX=0,a.skewY=(t*e+i*r)/s}return a.rotateDeg=Ne(a.rotateDeg),a}}function Xn(n,t,i,e,r,s,a,o){const h=t.a,c=t.b,l=t.c,u=t.d,f=t.e,y=t.f,g=Ae(a),m=Re(a);let p,x;o?(p=o[0],x=o[1]):(p=i,x=e);const I=p-i,k=x-e,M=h*g+l*m,S=c*g+u*m,F=l*g-h*m,v=u*g-c*m;n.a=r*M,n.b=r*S,n.c=s*F,n.d=s*v,n.e=f+h*p+l*x-M*I-F*k,n.f=y+c*p+u*x-S*I-v*k}class $n{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(t,i){const{CLEAN_THRESHOLD:e=this.CLEAN_THRESHOLD,L_TIME:r=this.L_TIME,R_COUNT:s=this.R_COUNT}=i;if(t.size<e)return 0;let a=0;const o=c=>{a++,t.delete(c)},h=Date.now();return t.forEach((c,l)=>{if(c.timestamp.length<s)return o(l);let u=0;for(;h-c.timestamp[c.timestamp.length-1-u]<r&&(u++,!(u>=s)););if(u<s)return o(l);for(;h-c.timestamp[0]>r;)c.timestamp.shift()}),a}addLimitedTimestamp(t,i,e){const{R_TIMESTAMP_MAX_SIZE:r=this.R_TIMESTAMP_MAX_SIZE}=e;t.timestamp.length>r&&t.timestamp.shift(),t.timestamp.push(i)}clearTimeStamp(t,i){const{L_TIME:e=this.L_TIME}=i,r=Date.now();t.forEach(s=>{for(;r-s.timestamp[0]>e;)s.timestamp.shift()})}clearItemTimestamp(t,i){const{L_TIME:e=this.L_TIME}=i,r=Date.now();for(;r-t.timestamp[0]>e;)t.timestamp.shift()}}function gt(n,t,i){t/=100,i/=100;const e=(1-Math.abs(2*i-1))*t,r=e*(1-Math.abs(n/60%2-1)),s=i-e/2;let a=0,o=0,h=0;return 0<=n&&n<60?(a=e,o=r,h=0):60<=n&&n<120?(a=r,o=e,h=0):120<=n&&n<180?(a=0,o=e,h=r):180<=n&&n<240?(a=0,o=r,h=e):240<=n&&n<300?(a=r,o=0,h=e):300<=n&&n<360&&(a=e,o=0,h=r),a=Math.round(255*(a+s)),o=Math.round(255*(o+s)),h=Math.round(255*(h+s)),{r:a,g:o,b:h}}function wt(n,t,i){n/=255,t/=255,i/=255;const e=Math.min(n,t,i),r=Math.max(n,t,i),s=r-e;let a=0,o=0,h=0;return a=s===0?0:r===n?(t-i)/s%6:r===t?(i-n)/s+2:(n-t)/s+4,a=Math.round(60*a),a<0&&(a+=360),h=(r+e)/2,o=s===0?0:s/(1-Math.abs(2*h-1)),o=+(100*o).toFixed(1),h=+(100*h).toFixed(1),{h:a,s:o,l:h}}const Pe=/^#([0-9a-f]{3,8})$/,kt={transparent:4294967040},$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function G(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function qt(n){return w(n)?new E(n>>16,n>>8&255,255&n,1):T(n)?new E(n[0],n[1],n[2]):new E(255,255,255)}function Le(n){return w(n)?new E(n>>>24,n>>>16&255,n>>>8&255,255&n):T(n)?new E(n[0],n[1],n[2],n[3]):new E(255,255,255,1)}function at(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function ot(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const Ft=(n,t)=>{const i=Pe.exec(n);if(t||i){const e=parseInt(i[1],16),r=i[1].length;return r===3?new E((e>>8&15)+((e>>8&15)<<4),(e>>4&15)+((e>>4&15)<<4),(15&e)+((15&e)<<4),1):r===6?qt(e):r===8?new E(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):null}};class N{static Brighter(t,i=1){return i===1?t:new N(t).brighter(i).toRGBA()}static SetOpacity(t,i=1){return i===1?t:new N(t).setOpacity(i).toRGBA()}static getColorBrightness(t,i="hsl"){const e=t instanceof N?t:new N(t);switch(i){case"hsv":default:return e.getHSVBrightness();case"hsl":return e.getHSLBrightness();case"lum":return e.getLuminance();case"lum2":return e.getLuminance2();case"lum3":return e.getLuminance3();case"wcag":return e.getLuminanceWCAG()}}static parseColorString(t){if(_(kt[t]))return Le(kt[t]);if(_($[t]))return qt($[t]);const i=`${t}`.trim().toLowerCase(),e=Ft(i);if(e!==void 0)return e;if(/^(rgb|RGB|rgba|RGBA)/.test(i)){const r=i.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new E(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10),parseFloat(r[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(i)){const r=i.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),s=gt(parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10));return new E(s.r,s.g,s.b,parseFloat(r[3]))}}constructor(t){const i=N.parseColorString(t);i?this.color=i:(console.warn(`Warn: 传入${t}无法解析为Color`),this.color=new E(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(t){const{r:i,g:e,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(i*t))),this.color.g=Math.max(0,Math.min(255,Math.floor(e*t))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*t))),this}add(t){const{r:i,g:e,b:r}=this.color;return this.color.r+=Math.min(255,i+t.color.r),this.color.g+=Math.min(255,e+t.color.g),this.color.b+=Math.min(255,r+t.color.b),this}sub(t){return this.color.r=Math.max(0,this.color.r-t.color.r),this.color.g=Math.max(0,this.color.g-t.color.g),this.color.b=Math.max(0,this.color.b-t.color.b),this}multiply(t){const{r:i,g:e,b:r}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(i*t.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(e*t.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(r*t.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return .5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(t,i,e){const r=this.color.opacity,s=wt(this.color.r,this.color.g,this.color.b),a=gt(d(t)?s.h:Ht(t,0,360),d(i)?s.s:i>=0&&i<=1?100*i:i,d(e)?s.l:e<=1&&e>=0?100*e:e);return this.color=new E(a.r,a.g,a.b,r),this}setRGB(t,i,e){return!d(t)&&(this.color.r=t),!d(i)&&(this.color.g=i),!d(e)&&(this.color.b=e),this}setHex(t){const i=`${t}`.trim().toLowerCase(),e=Ft(i,!0);return e??this}setColorName(t){const i=$[t.toLowerCase()];return i!==void 0?this.setHex(i):console.warn("THREE.Color: Unknown color "+t),this}setScalar(t){return this.color.r=t,this.color.g=t,this.color.b=t,this}setOpacity(t=1){return this.color.opacity=t,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}getLuminanceWCAG(){const t=this.color.r/255,i=this.color.g/255,e=this.color.b/255;let r,s,a;return r=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),s=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),a=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),.2126*r+.7152*s+.0722*a}clone(){return new N(this.color.toString())}copyGammaToLinear(t,i=2){return this.color.r=Math.pow(t.color.r,i),this.color.g=Math.pow(t.color.g,i),this.color.b=Math.pow(t.color.b,i),this}copyLinearToGamma(t,i=2){const e=i>0?1/i:1;return this.color.r=Math.pow(t.color.r,e),this.color.g=Math.pow(t.color.g,e),this.color.b=Math.pow(t.color.b,e),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.color.r=at(t.color.r),this.color.g=at(t.color.g),this.color.b=at(t.color.b),this}copyLinearToSRGB(t){return this.color.r=ot(t.color.r),this.color.g=ot(t.color.g),this.color.b=ot(t.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class E{constructor(t,i,e,r){this.r=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.g=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),this.b=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),_(r)?this.opacity=isNaN(+r)?1:Math.max(0,Math.min(1,+r)):this.opacity=1}formatHex(){return`#${G(this.r)+G(this.g)+G(this.b)+(this.opacity===1?"":G(255*this.opacity))}`}formatRgb(){const t=this.opacity;return`${t===1?"rgb(":"rgba("}${this.r},${this.g},${this.b}${t===1?")":`,${t})`}`}formatHsl(){const t=this.opacity,{h:i,s:e,l:r}=wt(this.r,this.g,this.b);return`${t===1?"hsl(":"hsla("}${i},${e}%,${r}%${t===1?")":`,${t})`}`}toString(){return this.formatHex()}}function Oe(n){let t="",i="",e="";const r=n[0]==="#"?1:0;for(let s=r;s<n.length;s++)n[s]!=="#"&&(s<r+2?t+=n[s]:s<r+4?i+=n[s]:s<r+6&&(e+=n[s]));return[parseInt(t,16),parseInt(i,16),parseInt(e,16)]}function De(n,t,i){return Number((1<<24)+(n<<16)+(t<<8)+i).toString(16).slice(1)}function He(n,t){const i=n.r,e=t.r,r=n.g,s=t.g,a=n.b,o=t.b,h=n.opacity,c=t.opacity;return l=>{const u=Math.round(i*(1-l)+e*l),f=Math.round(r*(1-l)+s*l),y=Math.round(a*(1-l)+o*l);return new E(u,f,y,h*(1-l)+c*l)}}const Ve=Object.freeze(Object.defineProperty({__proto__:null,Color:N,DEFAULT_COLORS:$,RGB:E,hexToRgb:Oe,hslToRgb:gt,interpolateRgb:He,rgbToHex:De,rgbToHsl:wt},Symbol.toStringTag,{value:"Module"}));function Yn(n){if(Pt(n))return[n,n,n,n];if(T(n)){const t=n.length;if(t===1){const i=n[0];return[i,i,i,i]}if(t===2){const[i,e]=n;return[i,e,i,e]}if(t===3){const[i,e,r]=n;return[i,e,r,e]}if(t===4)return n}if(mt(n)){const{top:t=0,right:i=0,bottom:e=0,left:r=0}=n;return[t,i,e,r]}return[0,0,0,0]}var R;(function(n){n.Identity="identity",n.Linear="linear",n.Log="log",n.Pow="pow",n.Sqrt="sqrt",n.Symlog="symlog",n.Time="time",n.Quantile="quantile",n.Quantize="quantize",n.Threshold="threshold",n.Ordinal="ordinal",n.Point="point",n.Band="band"})(R||(R={}));const jt={};Object.values(R).forEach(n=>{jt[n]=!0});function Zn(n){switch(n){case R.Linear:case R.Log:case R.Pow:case R.Sqrt:case R.Symlog:case R.Time:return!0;default:return!1}}function Qn(n){return!!jt[n]}function Jn(n){switch(n){case R.Ordinal:case R.Point:case R.Band:return!0;default:return!1}}function D(n){return n}const Kn=n=>n<0?-Math.sqrt(-n):Math.sqrt(n),ti=n=>n<0?-n*n:n*n,ei=n=>-Math.log(-n),ni=n=>-Math.exp(-n),ze=n=>isFinite(n)?Math.pow(10,n):n<0?0:n,ii=n=>n===10?ze:n===Math.E?Math.exp:t=>Math.pow(n,t),ri=n=>n===Math.E?Math.log:n===10?Math.log10:n===2?Math.log2:(n=Math.log(n),t=>Math.log(t)/n),si=n=>t=>Math.sign(t)*Math.log1p(Math.abs(t/n)),ai=n=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*n;function dt(n,t){if(n=Number(n),t=Number(t),t-=n)return e=>(e-n)/t;const i=Number.isNaN(t)?NaN:.5;return()=>i}function vt(n,t,i){const e=n[0],r=n[1],s=t[0],a=t[1];let o,h;return r<e?(o=dt(r,e),h=i(a,s)):(o=dt(e,r),h=i(s,a)),c=>h(o(c))}function Gt(n,t,i){let e;return e=n===1?n+2*i:n-t+2*i,n?e>0?e:1:0}function oi(n,t,i,e){return i===1&&(i=0),Gt(n,i,e)*(t/(1-i))}function hi(n,t,i,e,r){const s=Gt(n,i,e);let a=t/Math.max(1,s||1);r&&(a=Math.floor(a));let o=a*(1-i);return r&&(o=Math.round(o)),o}function We(n,t){const i=(n[1]-n[0])/(t[1]-t[0]),e=n[0]-i*t[0];return[e,i+e]}function qe(n,t,i){const e=Math.min(n.length,t.length)-1,r=new Array(e),s=new Array(e);let a=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++a<e;)r[a]=dt(n[a],n[a+1]),s[a]=i(t[a],t[a+1]);return function(o){const h=me(n,o,1,e)-1;return s[h](r[h](o))}}const ci=(n,t)=>{const i=n.slice();let e=0,r=i.length-1,s=i[e],a=i[r];return a<s&&([e,r]=[r,e],[s,a]=[a,s]),i[e]=t.floor(s),i[r]=t.ceil(a),i},Ut=(n,t=!1)=>{const i=Math.floor(Math.log10(n)),e=n/Math.pow(10,i);let r;return r=t?e<1.5?1:e<3?2:e<7?5:10:e<=1?1:e<=2?2:e<=5?5:10,r*Math.pow(10,i)},je=(n,t)=>{let i,e;return t[0]<t[1]?(i=t[0],e=t[1]):(i=t[1],e=t[0]),Math.min(Math.max(n,i),e)};class Ge{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(t){return this._wholeRange?this._wholeRange:_(this._rangeFactorStart)&&_(this._rangeFactorEnd)&&t.length===2?(this._wholeRange=We(t,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):t}rangeFactor(t,i,e){return t?(t.length===2&&t.every(r=>r>=0&&r<=1)&&(this._wholeRange=null,t[0]===0&&t[1]===1?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=t[0],this._rangeFactorEnd=t[1])),this):e?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):_(this._rangeFactorStart)&&_(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(t,i){var e;return d(t)?this._rangeFactorStart:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!d(this._rangeFactorEnd)&&this._rangeFactorEnd!==1?(this._rangeFactorStart=t,this._rangeFactorEnd=(e=this._rangeFactorEnd)!==null&&e!==void 0?e:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(t,i){var e;return d(t)?this._rangeFactorEnd:(t>=0&&t<=1&&(this._wholeRange=null,t!==0||!d(this._rangeFactorStart)&&this._rangeFactorStart!==0?(this._rangeFactorEnd=t,this._rangeFactorStart=(e=this._rangeFactorStart)!==null&&e!==void 0?e:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var t;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:i=2,radiusRatio:e=.1,radius:r}=this._fishEyeOptions,s=this.range(),a=s[0],o=s[s.length-1],h=Math.min(a,o),c=Math.max(a,o),l=Ht((t=this._fishEyeOptions.focus)!==null&&t!==void 0?t:0,h,c),u=d(r)?(c-h)*e:r;let f=Math.exp(i);f=f/(f-1)*u;const y=i/u;this._fishEyeTransform=g=>{const m=Math.abs(g-l);if(m>=u)return g;if(m<=1e-6)return l;const p=f*(1-Math.exp(-m*y))/m*.75+.25;return l+(g-l)*p}}unknown(t){return arguments.length?(this._unknown=t,this):this._unknown}get(t,i){var e;return(e=this==null?void 0:this[t])!==null&&e!==void 0?e:i}}const{interpolateRgb:ht}=Ve;function Ue(n,t){const i=typeof t;let e;if(d(t)||i==="boolean")return()=>t;if(i==="number")return V(n,t);if(i==="string"){if(e=N.parseColorString(t)){const r=ht(N.parseColorString(n),e);return s=>r(s).formatRgb()}return V(Number(n),Number(t))}return t instanceof E?ht(n,t):t instanceof N?ht(n.color,t.color):t instanceof Date?Se(n,t):V(Number(n),Number(t))}class Xe extends Ge{constructor(t=D,i=D){super(),this._unknown=void 0,this.transformer=t,this.untransformer=i,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=D,this._piecewise=vt,this._interpolate=Ue}calculateVisibleDomain(t){var i;return _(this._rangeFactorStart)&&_(this._rangeFactorEnd)&&t.length===2?[this.invert(t[0]),this.invert(t[1])]:(i=this._niceDomain)!==null&&i!==void 0?i:this._domain}fishEye(t,i,e){return t||e?(this._fishEyeOptions=t,this._fishEyeTransform=null,this.rescale(i)):this._fishEyeOptions}scale(t){var i;if(t=Number(t),Number.isNaN(t)||this._domainValidator&&!this._domainValidator(t))return this._unknown;this._output||(this._output=this._piecewise(((i=this._niceDomain)!==null&&i!==void 0?i:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const e=this._output(this.transformer(this._clamp(t)));return this._fishEyeTransform?this._fishEyeTransform(e):e}invert(t){var i;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),((i=this._niceDomain)!==null&&i!==void 0?i:this._domain).map(this.transformer),V)),this._clamp(this.untransformer(this._input(t)))}domain(t,i){var e;if(!t)return((e=this._niceDomain)!==null&&e!==void 0?e:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const r=Array.from(t,ge);return this._domain=r,this.rescale(i)}range(t,i){if(!t)return this._range.slice();const e=Array.from(t);return this._range=e,this.rescale(i)}rangeRound(t,i){const e=Array.from(t);return this._range=e,this._interpolate=we,this.rescale(i)}rescale(t){var i;if(t)return this;const e=(i=this._niceDomain)!==null&&i!==void 0?i:this._domain,r=e.length,s=this._range.length;let a=Math.min(r,s);if(r&&r<s&&this._forceAlign){const o=s-r+1,h=e[r-1],c=r>=2?(h-e[r-2])/o:0;for(let l=1;l<=o;l++)e[r-2+l]=h-c*(o-l);a=s}return this._autoClamp&&(this._clamp=Me(e[0],e[a-1])),this._piecewise=a>2?qe:vt,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(t,i,e){return arguments.length?(i?(this._autoClamp=!1,this._clamp=i):(this._autoClamp=!!t,this._clamp=t?void 0:D),this.rescale(e)):this._clamp!==D}interpolate(t,i){return arguments.length?(this._interpolate=t,this.rescale(i)):this._interpolate}ticks(t=10){return[]}tickData(t=10){const i=this.ticks(t);return(i??[]).map((e,r)=>({index:r,tick:e,value:(this.scale(e)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(t,i){return t?(super.rangeFactor(t),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(t,i){return d(t)?super.rangeFactorStart():(super.rangeFactorStart(t),this._output=this._input=null,this)}rangeFactorEnd(t,i){return d(t)?super.rangeFactorEnd():(super.rangeFactorEnd(t),this._output=this._input=null,this)}forceAlignDomainRange(t){return arguments.length?(this._forceAlign=t,this):this._forceAlign}}const $e=Math.sqrt(50),Ye=Math.sqrt(10),Ze=Math.sqrt(2),U=[1,2,5,10],Ct=(n,t,i)=>{let e=1,r=n;const s=Math.floor((t-1)/2),a=Math.abs(n);return n>=0&&n<=Number.MIN_VALUE?r=0:n<0&&n>=-Number.MIN_VALUE?r=-(t-1):!i&&a<1?e=Xt(a).step:(i||a>1)&&(r=Math.floor(n)-s*e),e>0?(n>0?r=Math.max(r,0):n<0&&(r=Math.min(r,-(t-1)*e)),ue(0,t).map(o=>r+o*e)):n>0?J(0,-(t-1)/e,e):J((t-1)/e,0,e)},Qe=z((n,t,i,e)=>{let r,s,a,o,h=-1;if(i=+i,(n=+n)==(t=+t))return[n];if(Math.abs(n-t)<=Number.MIN_VALUE&&i>0)return[n];if((r=t<n)&&(s=n,n=t,t=s),o=St(n,t,i).step,!isFinite(o))return[];if(o>0){let c=Math.round(n/o),l=Math.round(t/o);for(c*o<n&&++c,l*o>t&&--l,a=new Array(s=l-c+1);++h<s;)a[h]=(c+h)*o}else if(o<0&&(e!=null&&e.noDecimals)){o=1;const c=Math.ceil(n),l=Math.floor(t);if(!(c<=l))return[];for(a=new Array(s=l-c+1);++h<s;)a[h]=c+h}else{o=-o;let c=Math.round(n*o),l=Math.round(t*o);for(c/o<n&&++c,l/o>t&&--l,a=new Array(s=l-c+1);++h<s;)a[h]=(c+h)/o}return r&&a.reverse(),a}),J=(n,t,i)=>{let e,r,s=-1;if(i>0){let a=Math.floor(n/i),o=Math.ceil(t/i);for((a+1)*i<n&&++a,(o-1)*i>t&&--o,r=new Array(e=o-a+1);++s<e;)r[s]=(a+s)*i}else{i=-i;let a=Math.floor(n*i),o=Math.ceil(t*i);for((a+1)/i<n&&++a,(o-1)/i>t&&--o,r=new Array(e=o-a+1);++s<e;)r[s]=(a+s)/i}return r},Je=(n,t,i)=>{let e;const r=n[0],s=n[n.length-1],a=t-n.length;if(s<=0){const c=[];for(e=a;e>=1;e--)c.push(r-e*i);return c.concat(n)}if(r>=0){for(e=1;e<=a;e++)n.push(s+e*i);return n}let o=[];const h=[];for(e=1;e<=a;e++)e%2==0?o=[r-Math.floor(e/2)*i].concat(o):h.push(s+Math.ceil(e/2)*i);return o.concat(n).concat(h)},K=z((n,t,i,e)=>{let r,s,a;if(i=+i,(n=+n)==(t=+t)||Math.abs(n-t)<=Number.MIN_VALUE&&i>0)return Ct(n,i,e==null?void 0:e.noDecimals);(r=t<n)&&(a=n,n=t,t=a);const o=St(n,t,i);let h=o.step;if(!isFinite(h))return[];if(h>0){let c=1;const{power:l,gap:u}=o,f=u===10?2*10**l:1*10**l;for(;c<=5&&(s=J(n,t,h),s.length>i+1)&&i>2;)h+=f,c+=1;i>2&&s.length<i-1&&(s=Je(s,i,h))}else e!=null&&e.noDecimals&&h<0&&(h=1),s=J(n,t,h);return r&&s.reverse(),s}),Xt=n=>{const t=Math.floor(Math.log(n)/Math.LN10),i=n/10**t;let e=U[0];return i>=$e?e=U[3]:i>=Ye?e=U[2]:i>=Ze&&(e=U[1]),t>=0?{step:e*10**t,gap:e,power:t}:{step:-(10**-t)/e,gap:e,power:t}};function St(n,t,i){const e=(t-n)/Math.max(0,i);return Xt(e)}function $t(n,t,i){let e;if(i=+i,(n=+n)==(t=+t)&&i>0)return[n];if(i<=0||(e=Ke(n,t,i))===0||!isFinite(e))return[];const r=new Array(i);for(let s=0;s<i;s++)r[s]=n+s*e;return r}function Ke(n,t,i){return(t-n)/Math.max(1,i-1)}function tn(n,t,i){let e,r,s=-1;if(i=+i,(r=(t=+t)<(n=+n))&&(e=n,n=t,t=e),!isFinite(i)||t-n<=i)return[n];const a=Math.floor((t-n)/i+1),o=new Array(a);for(;++s<a;)o[s]=n+s*i;return r&&o.reverse(),o}function ct(n,t=10){let i,e,r=0,s=n.length-1,a=n[r],o=n[s],h=10;for(o<a&&(e=a,a=o,o=e,e=r,r=s,s=e);h-- >0;){if(e=St(a,o,t).step,e===i)return n[r]=a,n[s]=o,n;if(e>0)a=Math.floor(a/e)*e,o=Math.ceil(o/e)*e;else{if(!(e<0))break;a=Math.ceil(a*e)/e,o=Math.floor(o*e)/e}i=e}}function en(n,t){const i=w(t.forceMin),e=w(t.forceMax);let r=null;const s=[];let a=null;const o=i&&e?h=>h>=t.forceMin&&h<=t.forceMax:i?h=>h>=t.forceMin:e?h=>h<=t.forceMax:null;return i?s[0]=t.forceMin:w(t.min)&&t.min<=Math.min(n[0],n[n.length-1])&&(s[0]=t.min),e?s[1]=t.forceMax:w(t.max)&&t.max>=Math.max(n[0],n[n.length-1])&&(s[1]=t.max),w(s[0])&&w(s[1])?(a=n.slice(),a[0]=s[0],a[a.length-1]=s[1]):r=w(s[0])||w(s[1])?w(s[0])?"max":"min":"all",{niceType:r,niceDomain:a,niceMinMax:s,domainValidator:o}}const lt=(n,t,i)=>Math.abs(t-n)<1?+i.toFixed(1):Math.round(+i),li=z((n,t,i,e,r,s,a)=>{let o=n,h=t;const c=h<o;c&&([o,h]=[h,o]);let l,u,f=r(o),y=r(h),g=[];if(!(e%1)&&y-f<i){if(f=Math.floor(f),y=Math.ceil(y),o>0){for(;f<=y;++f)for(l=1;l<e;++l)if(u=f<0?l/s(-f):l*s(f),!(u<o)){if(u>h)break;g.push(u)}}else for(;f<=y;++f)for(l=e-1;l>=1;--l)if(u=f>0?l/s(-f):l*s(f),!(u<o)){if(u>h)break;g.push(u)}2*g.length<i&&(g=K(o,h,i))}else g=K(f,y,Math.min(y-f,i)).map(s);return g=g.filter(m=>m!==0),a!=null&&a.noDecimals&&(g=Array.from(new Set(g.map(m=>Math.floor(m))))),c?g.reverse():g}),ui=z((n,t,i,e,r,s)=>{const a=[],o={},h=r(n),c=r(t);let l=[];if(Number.isInteger(e))l=K(h,c,i);else{const u=(c-h)/(i-1);for(let f=0;f<i;f++)l.push(h+f*u)}return l.forEach(u=>{const f=s(u),y=Number.isInteger(e)?lt(n,t,f):lt(n,t,Ut(f)),g=lt(n,t,je(y,[n,t]));!o[g]&&!isNaN(g)&&l.length>1&&(o[g]=1,a.push(g))}),a}),fi=z((n,t,i,e,r)=>$t(e(n),e(t),i).map(s=>Ut(r(s))));class Yt extends Xe{constructor(){super(...arguments),this.type=R.Linear}clone(){var t;const i=new Yt;return i.domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate),this._niceType&&(i._niceType=this._niceType,i._domainValidator=this._domainValidator,i._niceDomain=(t=this._niceDomain)===null||t===void 0?void 0:t.slice()),i}tickFormat(){return()=>{}}d3Ticks(t=10,i){const e=this.calculateVisibleDomain(this._range);return Qe(e[0],e[e.length-1],t,i)}ticks(t=10,i){var e;if(It(i==null?void 0:i.customTicks))return i.customTicks(this,t);if(_(this._rangeFactorStart)&&_(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&this._range.length===2||!this._niceType)return this.d3Ticks(t,i);const r=(e=this._niceDomain)!==null&&e!==void 0?e:this._domain,s=this._domain,a=r[0],o=r[r.length-1];let h=K(s[0],s[s.length-1],t,i);if(!h.length)return h;if(this._domainValidator)h=h.filter(this._domainValidator);else if((h[0]!==a||h[h.length-1]!==o)&&this._niceType){const c=r.slice();if(this._niceType==="all"?(c[0]=h[0],c[c.length-1]=h[h.length-1],this._niceDomain=c,this.rescale()):this._niceType==="min"&&h[0]!==a?(c[0]=h[0],this._niceDomain=c,this.rescale()):this._niceType==="max"&&h[h.length-1]!==o&&(c[c.length-1]=h[h.length-1],this._niceDomain=c,this.rescale()),this._niceType!=="all"){const l=Math.min(c[0],c[c.length-1]),u=Math.max(c[0],c[c.length-1]);h=h.filter(f=>f>=l&&f<=u)}}return h}forceTicks(t=10){const i=this.calculateVisibleDomain(this._range);return $t(i[0],i[i.length-1],t)}stepTicks(t){const i=this.calculateVisibleDomain(this._range);return tn(i[0],i[i.length-1],t)}nice(t=10,i){var e,r;const s=this._domain;let a=[];if(i){const o=en(s,i);if(a=o.niceMinMax,this._domainValidator=o.domainValidator,this._niceType=o.niceType,o.niceDomain)return this._niceDomain=o.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const o=ct(s.slice(),t);this._niceType==="min"?o[o.length-1]=(e=a[1])!==null&&e!==void 0?e:o[o.length-1]:this._niceType==="max"&&(o[0]=(r=a[0])!==null&&r!==void 0?r:o[0]),this._niceDomain=o,this.rescale()}return this}niceMin(t=10){this._niceType="min";const i=this._domain[this._domain.length-1],e=ct(this.domain(),t);return e&&(e[e.length-1]=i,this._niceDomain=e,this.rescale()),this}niceMax(t=10){this._niceType="max";const i=this._domain[0],e=ct(this._domain.slice(),t);return e&&(e[0]=i,this._niceDomain=e,this.rescale()),this}}export{yn as $,Un as A,It as B,cn as C,rn as D,Fn as E,Ae as F,Re as G,Ht as H,w as I,Q as J,N as K,A as L,X as M,it as N,Wt as O,Mt as P,Xn as Q,sn as R,an as S,B as T,Bn as U,$n as V,Ie as W,Ce as X,C as Y,Pn as Z,kn as _,fe as a,Hn as a$,et as a0,Wn as a1,jn as a2,hn as a3,Ln as a4,yt as a5,En as a6,xe as a7,Sn as a8,Yn as a9,ii as aA,ei as aB,ni as aC,D as aD,li as aE,ui as aF,fi as aG,Yt as aH,Kn as aI,ti as aJ,si as aK,ai as aL,me as aM,Zn as aN,mn as aO,dn as aP,ye as aQ,Vn as aR,wt as aS,gt as aT,Lt as aU,Jn as aV,b as aW,Qn as aX,Cn as aY,un as aZ,vn as a_,Oe as aa,bt as ab,on as ac,qn as ad,Dn as ae,zt as af,le as ag,ce as ah,ve as ai,gn as aj,fn as ak,Tn as al,At as am,Ge as an,R as ao,Me as ap,Gt as aq,We as ar,hi as as,oi as at,xn as au,wn as av,en as aw,ci as ax,Xe as ay,ri as az,Pt as b,On as b0,Mn as b1,_n as b2,ue as b3,zn as b4,pn as b5,Fe as c,H as d,re as e,mt as f,tt as g,Zt as h,_ as i,T as j,ln as k,d as l,bn as m,q as n,Z as o,Gn as p,In as q,Ne as r,Rt as s,ge as t,Nn as u,Rn as v,An as w,j as x,_t as y,Dt as z};
