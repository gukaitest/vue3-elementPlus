import{r as w,ad as l,aH as f,t as h,v as x,J as u,P as p,y as i,cA as y,g as D,cB as t}from"./vue-vendor-DLKW-W3j.js";const v=[{id:11,text:"Soybean 架构设计",type:"project",progress:0,open:!0,start_date:new Date("2024-01-10 00:00"),duration:12,parent:0},{id:12,text:"测试版本",start_date:new Date("2024-03-20 00:00"),type:"project",duration:5,render:"split",parent:"11",progress:0,open:!0},{id:99,text:"测试版本1 发布",start_date:new Date("2024-03-20 00:00"),end_date:new Date("2024-03-25 00:00"),parent:"12",progress:0,open:!0},{id:98,text:"测试版本2 发布",start_date:new Date("2024-03-26 00:00"),duration:4,parent:"12",progress:0,open:!0},{id:97,text:"测试版本3 发布",start_date:new Date("2024-03-31 00:00"),duration:10,parent:"12",progress:0,open:!0},{id:13,text:"1.0 版本",start_date:new Date("2024-03-31 00:00"),type:"project",render:"split",parent:"11",progress:.5,open:!1,duration:11},{id:17,text:"1.0正式发布",start_date:new Date("2024-03-31 00:00"),end_date:new Date("2024-04-03 00:00"),parent:"13",progress:0,open:!0},{id:18,text:"1.0.1 版本",start_date:new Date("2024-04-03 00:00"),duration:5,parent:"13",progress:0,open:!0},{id:19,text:"1.0.2 版本",start_date:new Date("2024-04-08 00:00"),duration:6,parent:"13",progress:0,open:!0},{id:20,text:"1.0.3 版本",start_date:new Date("2024-04-16 00:00"),duration:8,parent:"13",progress:0,open:!0},{id:31,text:"1.0.4 版本",start_date:new Date("2024-04-17 00:00"),duration:8,parent:"13",progress:0,open:!0},{id:32,text:"1.0.5 版本",start_date:new Date("2024-04-26 00:00"),duration:9,parent:"13",progress:0,open:!0},{id:33,text:"1.0.9 版本",start_date:new Date("2024-05-05 00:00"),duration:2,parent:"13",progress:0,open:!0},{id:14,text:"1.1 版本",start_date:new Date("2024-05-07 00:00"),duration:30,parent:"11",progress:0,open:!0},{id:15,text:"1.2 版本",start_date:new Date("2024-06-06 00:00"),duration:46,parent:"11",progress:0,open:!0},{id:16,text:"1.3版本",type:"project",render:"split",parent:"11",progress:0,open:!0,start_date:new Date("2024-07-22 00:00"),duration:11},{id:21,text:"1.3.1版本",start_date:new Date("2024-07-22 00:00"),duration:7,parent:"16",progress:0,open:!0},{id:22,text:"1.3.2版本",start_date:new Date("2024-07-29 00:00"),duration:7,parent:"16",progress:0,open:!0}],b={class:"overflow-hidden lt-sm:overflow-auto"},k={class:"flex items-center justify-between"},j=w({name:"plugin_gantt_dhtmlx",__name:"index",setup(S){const d=l(),s=l("quarter"),m=[{label:"天",value:"day"},{label:"周",value:"week"},{label:"月",value:"month"},{label:"季",value:"quarter"},{label:"年",value:"year"}];function c(){if(!d.value)return;const o={grid_width:350,add_column:!1,autofit:!1,row_height:60,bar_height:34,auto_types:!0,xml_date:"%Y-%m-%d",columns:[{name:"text",label:"项目名称",tree:!0,width:"*"},{name:"start_date",label:"开始时间",align:"center",width:150}]};Object.assign(t.config,o),t.i18n.setLocale("cn"),t.init(d.value),t.parse({data:v});const n=[{name:"day",scale_height:60,scales:[{unit:"day",step:1,format:"%d %M"}]},{name:"week",scale_height:60,scales:[{unit:"week",step:1,format(e){const a=t.date.date_to_str("%m-%d"),r=t.date.add(e,-6,"day");return`${a(r)} 至 ${a(e)}`}},{unit:"day",step:1,format:"%d",css(e){return e.getDay()===0||e.getDay()===6?"day-item weekend weekend-border-bottom":"day-item"}}]},{name:"month",scale_height:60,min_column_width:18,scales:[{unit:"month",format:"%Y-%m"},{unit:"day",step:1,format:"%d",css(e){return e.getDay()===0||e.getDay()===6?"day-item weekend weekend-border-bottom":"day-item"}}]},{name:"quarter",height:60,min_column_width:110,scales:[{unit:"quarter",step:1,format(e){const a=`${new Date(e).getFullYear()}年`,r=t.date.date_to_str("%M"),g=t.date.add(t.date.add(e,3,"month"),-1,"day");return`${a+r(e)} - ${r(g)}`}},{unit:"week",step:1,format(e){const a=t.date.date_to_str("%m-%d"),r=t.date.add(e,6,"day");return`${a(e)} 至 ${a(r)}`}}]},{name:"year",scale_height:50,min_column_width:150,scales:[{unit:"year",step:1,format:"%Y年"},{unit:"month",format:"%Y-%m"}]}];t.ext.zoom.init({levels:n}),t.ext.zoom.setLevel(s.value)}function _(o){s.value=o,t.ext.zoom.setLevel(o)}return f(()=>{c()}),(o,n)=>{const e=y,a=D;return x(),h("div",b,[u(a,{header:"甘特图演示","content-class":"overflow-y-hidden overflow-x-auto",class:"h-full card-wrapper"},{header:p(()=>[i("div",k,[n[1]||(n[1]=i("p",null,"甘特图演示",-1)),u(e,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=r=>s.value=r),options:m,onChange:_},null,8,["modelValue"])])]),default:p(()=>[i("div",{ref_key:"ganttRef",ref:d,class:"size-full min-w-800px"},null,512)]),_:1})])}}});export{j as default};
