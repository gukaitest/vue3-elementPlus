import{r as x,a8 as I,s as O,R,K as l,v as o,P as e,J as s,g as $,D as t,bh as z,bi as F,bf as P,t as y,F as S,al as w,bj as U,an as u,ao as i,E as j,z as h}from"./vue-vendor-DFucVWOH.js";import{a as C,c as H,p as J,b as K,$ as a}from"./index-CCDP2_BA.js";function q(){const c=C();function _(r){return c.isLogin?typeof r=="string"?c.userInfo.buttons.includes(r):r.some(d=>c.userInfo.buttons.includes(d)):!1}return{hasAuth:_}}const X=x({name:"function_toggle-auth",__name:"index",setup(c){const _=I(),r=H(),d=C(),D=J(),{hasAuth:m}=q(),{loading:k,startLoading:v,endLoading:B}=K(),L=O(()=>[{key:"super",label:a("page.login.pwdLogin.superAdmin"),userName:"Super",password:"123456"},{key:"admin",label:a("page.login.pwdLogin.admin"),userName:"Admin",password:"123456"},{key:"user",label:a("page.login.pwdLogin.user"),userName:"User",password:"123456"}]),b=R("super");async function N(p){b.value=p.key,v(),await d.login(p.userName,p.password,!1),D.initTabStore(_),B(),r.reloadPage()}return(p,G)=>{const T=U,g=P,E=F,f=j,V=z,A=$;return o(),l(g,{direction:"vertical",fill:"",size:16},{default:e(()=>[s(A,{header:t(a)("route.function_toggle-auth"),class:"card-wrapper"},{default:e(()=>[s(V,{direction:"vertical",border:"",column:1},{default:e(()=>[s(E,{label:t(a)("page.manage.user.userRole")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),y(S,null,w(t(d).userInfo.roles,n=>(o(),l(T,{key:n},{default:e(()=>[u(i(n),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["label"]),s(E,{"ions-item":"",label:t(a)("page.function.toggleAuth.toggleAccount")},{default:e(()=>[s(g,null,{default:e(()=>[(o(!0),y(S,null,w(L.value,n=>(o(),l(f,{key:n.key,loading:t(k)&&b.value===n.key,disabled:t(k)&&b.value!==n.key,onClick:M=>N(n)},{default:e(()=>[u(i(n.label),1)]),_:2},1032,["loading","disabled","onClick"]))),128))]),_:1})]),_:1},8,["label"])]),_:1})]),_:1},8,["header"]),s(A,{header:t(a)("page.function.toggleAuth.authHook"),class:"card-wrapper"},{default:e(()=>[s(g,null,{default:e(()=>[t(m)("B_CODE1")?(o(),l(f,{key:0},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.superAdminVisible")),1)]),_:1})):h("",!0),t(m)("B_CODE2")?(o(),l(f,{key:1},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.adminVisible")),1)]),_:1})):h("",!0),t(m)("B_CODE3")?(o(),l(f,{key:2},{default:e(()=>[u(i(t(a)("page.function.toggleAuth.adminOrUserVisible")),1)]),_:1})):h("",!0)]),_:1})]),_:1},8,["header"])]),_:1})}}});export{X as default};
